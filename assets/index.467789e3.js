var hw=Object.defineProperty,pw=Object.defineProperties;var mw=Object.getOwnPropertyDescriptors;var Xl=Object.getOwnPropertySymbols;var xv=Object.prototype.hasOwnProperty,Ev=Object.prototype.propertyIsEnumerable;var Sv=(e,t,r)=>t in e?hw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,H=(e,t)=>{for(var r in t||(t={}))xv.call(t,r)&&Sv(e,r,t[r]);if(Xl)for(var r of Xl(t))Ev.call(t,r)&&Sv(e,r,t[r]);return e},et=(e,t)=>pw(e,mw(t));var dr=(e,t)=>{var r={};for(var i in e)xv.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&Xl)for(var i of Xl(e))t.indexOf(i)<0&&Ev.call(e,i)&&(r[i]=e[i]);return r};const vw=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}};vw();function Bh(e,t){const r=Object.create(null),i=e.split(",");for(let n=0;n<i.length;n++)r[i[n]]=!0;return t?n=>!!r[n.toLowerCase()]:n=>!!r[n]}const gw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yw=Bh(gw);function Ky(e){return!!e||e===""}function Cc(e){if(Re(e)){const t={};for(let r=0;r<e.length;r++){const i=e[r],n=Pt(i)?Tw(i):Cc(i);if(n)for(const a in n)t[a]=n[a]}return t}else{if(Pt(e))return e;if(At(e))return e}}const _w=/;(?![^(]*\))/g,bw=/:(.+)/;function Tw(e){const t={};return e.split(_w).forEach(r=>{if(r){const i=r.split(bw);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Uh(e){let t="";if(Pt(e))t=e;else if(Re(e))for(let r=0;r<e.length;r++){const i=Uh(e[r]);i&&(t+=i+" ")}else if(At(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function Sw(e,t){if(e.length!==t.length)return!1;let r=!0;for(let i=0;r&&i<e.length;i++)r=ea(e[i],t[i]);return r}function ea(e,t){if(e===t)return!0;let r=Cv(e),i=Cv(t);if(r||i)return r&&i?e.getTime()===t.getTime():!1;if(r=Po(e),i=Po(t),r||i)return e===t;if(r=Re(e),i=Re(t),r||i)return r&&i?Sw(e,t):!1;if(r=At(e),i=At(t),r||i){if(!r||!i)return!1;const n=Object.keys(e).length,a=Object.keys(t).length;if(n!==a)return!1;for(const s in e){const o=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(o&&!l||!o&&l||!ea(e[s],t[s]))return!1}}return String(e)===String(t)}function Vh(e,t){return e.findIndex(r=>ea(r,t))}const Dt=e=>Pt(e)?e:e==null?"":Re(e)||At(e)&&(e.toString===Qy||!Ge(e.toString))?JSON.stringify(e,Xy,2):String(e),Xy=(e,t)=>t&&t.__v_isRef?Xy(e,t.value):Ga(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[i,n])=>(r[`${i} =>`]=n,r),{})}:Ts(t)?{[`Set(${t.size})`]:[...t.values()]}:At(t)&&!Re(t)&&!Jy(t)?String(t):t,pt={},qa=[],nr=()=>{},xw=()=>!1,Ew=/^on[^a-z]/,wc=e=>Ew.test(e),$h=e=>e.startsWith("onUpdate:"),Ht=Object.assign,jh=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Cw=Object.prototype.hasOwnProperty,tt=(e,t)=>Cw.call(e,t),Re=Array.isArray,Ga=e=>nl(e)==="[object Map]",Ts=e=>nl(e)==="[object Set]",Cv=e=>nl(e)==="[object Date]",Ge=e=>typeof e=="function",Pt=e=>typeof e=="string",Po=e=>typeof e=="symbol",At=e=>e!==null&&typeof e=="object",Yy=e=>At(e)&&Ge(e.then)&&Ge(e.catch),Qy=Object.prototype.toString,nl=e=>Qy.call(e),ww=e=>nl(e).slice(8,-1),Jy=e=>nl(e)==="[object Object]",Hh=e=>Pt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Eu=Bh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kc=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},kw=/-(\w)/g,zn=kc(e=>e.replace(kw,(t,r)=>r?r.toUpperCase():"")),Pw=/\B([A-Z])/g,la=kc(e=>e.replace(Pw,"-$1").toLowerCase()),Xr=kc(e=>e.charAt(0).toUpperCase()+e.slice(1)),Cu=kc(e=>e?`on${Xr(e)}`:""),Ao=(e,t)=>!Object.is(e,t),Ka=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Fu=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},Io=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let wv;const Aw=()=>wv||(wv=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let In;class Zy{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&In&&(this.parent=In,this.index=(In.scopes||(In.scopes=[])).push(this)-1)}run(t){if(this.active){const r=In;try{return In=this,t()}finally{In=r}}}on(){In=this}off(){In=this.parent}stop(t){if(this.active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function ua(e){return new Zy(e)}function Iw(e,t=In){t&&t.active&&t.effects.push(e)}function Ow(){return In}function ca(e){In&&In.cleanups.push(e)}const Wh=e=>{const t=new Set(e);return t.w=0,t.n=0,t},e_=e=>(e.w&gi)>0,t_=e=>(e.n&gi)>0,Lw=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=gi},Dw=e=>{const{deps:t}=e;if(t.length){let r=0;for(let i=0;i<t.length;i++){const n=t[i];e_(n)&&!t_(n)?n.delete(e):t[r++]=n,n.w&=~gi,n.n&=~gi}t.length=r}},xf=new WeakMap;let to=0,gi=1;const Ef=30;let er;const Ki=Symbol(""),Cf=Symbol("");class zh{constructor(t,r=null,i){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Iw(this,i)}run(){if(!this.active)return this.fn();let t=er,r=pi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=er,er=this,pi=!0,gi=1<<++to,to<=Ef?Lw(this):kv(this),this.fn()}finally{to<=Ef&&Dw(this),gi=1<<--to,er=this.parent,pi=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){er===this?this.deferStop=!0:this.active&&(kv(this),this.onStop&&this.onStop(),this.active=!1)}}function kv(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let pi=!0;const n_=[];function da(){n_.push(pi),pi=!1}function fa(){const e=n_.pop();pi=e===void 0?!0:e}function Rn(e,t,r){if(pi&&er){let i=xf.get(e);i||xf.set(e,i=new Map);let n=i.get(r);n||i.set(r,n=Wh()),r_(n)}}function r_(e,t){let r=!1;to<=Ef?t_(e)||(e.n|=gi,r=!e_(e)):r=!e.has(er),r&&(e.add(er),er.deps.push(e))}function jr(e,t,r,i,n,a){const s=xf.get(e);if(!s)return;let o=[];if(t==="clear")o=[...s.values()];else if(r==="length"&&Re(e))s.forEach((l,u)=>{(u==="length"||u>=i)&&o.push(l)});else switch(r!==void 0&&o.push(s.get(r)),t){case"add":Re(e)?Hh(r)&&o.push(s.get("length")):(o.push(s.get(Ki)),Ga(e)&&o.push(s.get(Cf)));break;case"delete":Re(e)||(o.push(s.get(Ki)),Ga(e)&&o.push(s.get(Cf)));break;case"set":Ga(e)&&o.push(s.get(Ki));break}if(o.length===1)o[0]&&wf(o[0]);else{const l=[];for(const u of o)u&&l.push(...u);wf(Wh(l))}}function wf(e,t){const r=Re(e)?e:[...e];for(const i of r)i.computed&&Pv(i);for(const i of r)i.computed||Pv(i)}function Pv(e,t){(e!==er||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Rw=Bh("__proto__,__v_isRef,__isVue"),i_=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Po)),Mw=qh(),Fw=qh(!1,!0),Nw=qh(!0),Av=Bw();function Bw(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const i=Qe(this);for(let a=0,s=this.length;a<s;a++)Rn(i,"get",a+"");const n=i[t](...r);return n===-1||n===!1?i[t](...r.map(Qe)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){da();const i=Qe(this)[t].apply(this,r);return fa(),i}}),e}function qh(e=!1,t=!1){return function(i,n,a){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&a===(e?t?e1:u_:t?l_:o_).get(i))return i;const s=Re(i);if(!e&&s&&tt(Av,n))return Reflect.get(Av,n,a);const o=Reflect.get(i,n,a);return(Po(n)?i_.has(n):Rw(n))||(e||Rn(i,"get",n),t)?o:Ze(o)?s&&Hh(n)?o:o.value:At(o)?e?Ac(o):xn(o):o}}const Uw=a_(),Vw=a_(!0);function a_(e=!1){return function(r,i,n,a){let s=r[i];if(Oo(s)&&Ze(s)&&!Ze(n))return!1;if(!e&&!Oo(n)&&(kf(n)||(n=Qe(n),s=Qe(s)),!Re(r)&&Ze(s)&&!Ze(n)))return s.value=n,!0;const o=Re(r)&&Hh(i)?Number(i)<r.length:tt(r,i),l=Reflect.set(r,i,n,a);return r===Qe(a)&&(o?Ao(n,s)&&jr(r,"set",i,n):jr(r,"add",i,n)),l}}function $w(e,t){const r=tt(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&r&&jr(e,"delete",t,void 0),i}function jw(e,t){const r=Reflect.has(e,t);return(!Po(t)||!i_.has(t))&&Rn(e,"has",t),r}function Hw(e){return Rn(e,"iterate",Re(e)?"length":Ki),Reflect.ownKeys(e)}const s_={get:Mw,set:Uw,deleteProperty:$w,has:jw,ownKeys:Hw},Ww={get:Nw,set(e,t){return!0},deleteProperty(e,t){return!0}},zw=Ht({},s_,{get:Fw,set:Vw}),Gh=e=>e,Pc=e=>Reflect.getPrototypeOf(e);function Yl(e,t,r=!1,i=!1){e=e.__v_raw;const n=Qe(e),a=Qe(t);r||(t!==a&&Rn(n,"get",t),Rn(n,"get",a));const{has:s}=Pc(n),o=i?Gh:r?Yh:Lo;if(s.call(n,t))return o(e.get(t));if(s.call(n,a))return o(e.get(a));e!==n&&e.get(t)}function Ql(e,t=!1){const r=this.__v_raw,i=Qe(r),n=Qe(e);return t||(e!==n&&Rn(i,"has",e),Rn(i,"has",n)),e===n?r.has(e):r.has(e)||r.has(n)}function Jl(e,t=!1){return e=e.__v_raw,!t&&Rn(Qe(e),"iterate",Ki),Reflect.get(e,"size",e)}function Iv(e){e=Qe(e);const t=Qe(this);return Pc(t).has.call(t,e)||(t.add(e),jr(t,"add",e,e)),this}function Ov(e,t){t=Qe(t);const r=Qe(this),{has:i,get:n}=Pc(r);let a=i.call(r,e);a||(e=Qe(e),a=i.call(r,e));const s=n.call(r,e);return r.set(e,t),a?Ao(t,s)&&jr(r,"set",e,t):jr(r,"add",e,t),this}function Lv(e){const t=Qe(this),{has:r,get:i}=Pc(t);let n=r.call(t,e);n||(e=Qe(e),n=r.call(t,e)),i&&i.call(t,e);const a=t.delete(e);return n&&jr(t,"delete",e,void 0),a}function Dv(){const e=Qe(this),t=e.size!==0,r=e.clear();return t&&jr(e,"clear",void 0,void 0),r}function Zl(e,t){return function(i,n){const a=this,s=a.__v_raw,o=Qe(s),l=t?Gh:e?Yh:Lo;return!e&&Rn(o,"iterate",Ki),s.forEach((u,c)=>i.call(n,l(u),l(c),a))}}function eu(e,t,r){return function(...i){const n=this.__v_raw,a=Qe(n),s=Ga(a),o=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,u=n[e](...i),c=r?Gh:t?Yh:Lo;return!t&&Rn(a,"iterate",l?Cf:Ki),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:o?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function ai(e){return function(...t){return e==="delete"?!1:this}}function qw(){const e={get(a){return Yl(this,a)},get size(){return Jl(this)},has:Ql,add:Iv,set:Ov,delete:Lv,clear:Dv,forEach:Zl(!1,!1)},t={get(a){return Yl(this,a,!1,!0)},get size(){return Jl(this)},has:Ql,add:Iv,set:Ov,delete:Lv,clear:Dv,forEach:Zl(!1,!0)},r={get(a){return Yl(this,a,!0)},get size(){return Jl(this,!0)},has(a){return Ql.call(this,a,!0)},add:ai("add"),set:ai("set"),delete:ai("delete"),clear:ai("clear"),forEach:Zl(!0,!1)},i={get(a){return Yl(this,a,!0,!0)},get size(){return Jl(this,!0)},has(a){return Ql.call(this,a,!0)},add:ai("add"),set:ai("set"),delete:ai("delete"),clear:ai("clear"),forEach:Zl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=eu(a,!1,!1),r[a]=eu(a,!0,!1),t[a]=eu(a,!1,!0),i[a]=eu(a,!0,!0)}),[e,r,t,i]}const[Gw,Kw,Xw,Yw]=qw();function Kh(e,t){const r=t?e?Yw:Xw:e?Kw:Gw;return(i,n,a)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(tt(r,n)&&n in i?r:i,n,a)}const Qw={get:Kh(!1,!1)},Jw={get:Kh(!1,!0)},Zw={get:Kh(!0,!1)},o_=new WeakMap,l_=new WeakMap,u_=new WeakMap,e1=new WeakMap;function t1(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function n1(e){return e.__v_skip||!Object.isExtensible(e)?0:t1(ww(e))}function xn(e){return Oo(e)?e:Xh(e,!1,s_,Qw,o_)}function c_(e){return Xh(e,!1,zw,Jw,l_)}function Ac(e){return Xh(e,!0,Ww,Zw,u_)}function Xh(e,t,r,i,n){if(!At(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=n.get(e);if(a)return a;const s=n1(e);if(s===0)return e;const o=new Proxy(e,s===2?i:r);return n.set(e,o),o}function mi(e){return Oo(e)?mi(e.__v_raw):!!(e&&e.__v_isReactive)}function Oo(e){return!!(e&&e.__v_isReadonly)}function kf(e){return!!(e&&e.__v_isShallow)}function d_(e){return mi(e)||Oo(e)}function Qe(e){const t=e&&e.__v_raw;return t?Qe(t):e}function ns(e){return Fu(e,"__v_skip",!0),e}const Lo=e=>At(e)?xn(e):e,Yh=e=>At(e)?Ac(e):e;function f_(e){pi&&er&&(e=Qe(e),r_(e.dep||(e.dep=Wh())))}function h_(e,t){e=Qe(e),e.dep&&wf(e.dep)}function Ze(e){return!!(e&&e.__v_isRef===!0)}function Z(e){return p_(e,!1)}function Xa(e){return p_(e,!0)}function p_(e,t){return Ze(e)?e:new r1(e,t)}class r1{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Qe(t),this._value=r?t:Lo(t)}get value(){return f_(this),this._value}set value(t){t=this.__v_isShallow?t:Qe(t),Ao(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Lo(t),h_(this))}}function ne(e){return Ze(e)?e.value:e}const i1={get:(e,t,r)=>ne(Reflect.get(e,t,r)),set:(e,t,r,i)=>{const n=e[t];return Ze(n)&&!Ze(r)?(n.value=r,!0):Reflect.set(e,t,r,i)}};function m_(e){return mi(e)?e:new Proxy(e,i1)}function Qh(e){const t=Re(e)?new Array(e.length):{};for(const r in e)t[r]=ze(e,r);return t}class a1{constructor(t,r,i){this._object=t,this._key=r,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function ze(e,t,r){const i=e[t];return Ze(i)?i:new a1(e,t,r)}class s1{constructor(t,r,i,n){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new zh(t,()=>{this._dirty||(this._dirty=!0,h_(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const t=Qe(this);return f_(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function o1(e,t,r=!1){let i,n;const a=Ge(e);return a?(i=e,n=nr):(i=e.get,n=e.set),new s1(i,n,a||!n,r)}const co=[];function l1(e,...t){da();const r=co.length?co[co.length-1].component:null,i=r&&r.appContext.config.warnHandler,n=u1();if(i)Br(i,r,11,[e+t.join(""),r&&r.proxy,n.map(({vnode:a})=>`at <${G_(r,a.type)}>`).join(`
`),n]);else{const a=[`[Vue warn]: ${e}`,...t];n.length&&a.push(`
`,...c1(n)),console.warn(...a)}fa()}function u1(){let e=co[co.length-1];if(!e)return[];const t=[];for(;e;){const r=t[0];r&&r.vnode===e?r.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}function c1(e){const t=[];return e.forEach((r,i)=>{t.push(...i===0?[]:[`
`],...d1(r))}),t}function d1({vnode:e,recurseCount:t}){const r=t>0?`... (${t} recursive calls)`:"",i=e.component?e.component.parent==null:!1,n=` at <${G_(e.component,e.type,i)}`,a=">"+r;return e.props?[n,...f1(e.props),a]:[n+a]}function f1(e){const t=[],r=Object.keys(e);return r.slice(0,3).forEach(i=>{t.push(...v_(i,e[i]))}),r.length>3&&t.push(" ..."),t}function v_(e,t,r){return Pt(t)?(t=JSON.stringify(t),r?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?r?t:[`${e}=${t}`]:Ze(t)?(t=v_(e,Qe(t.value),!0),r?t:[`${e}=Ref<`,t,">"]):Ge(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Qe(t),r?t:[`${e}=`,t])}function Br(e,t,r,i){let n;try{n=i?e(...i):e()}catch(a){Ic(a,t,r)}return n}function jn(e,t,r,i){if(Ge(e)){const a=Br(e,t,r,i);return a&&Yy(a)&&a.catch(s=>{Ic(s,t,r)}),a}const n=[];for(let a=0;a<e.length;a++)n.push(jn(e[a],t,r,i));return n}function Ic(e,t,r,i=!0){const n=t?t.vnode:null;if(t){let a=t.parent;const s=t.proxy,o=r;for(;a;){const u=a.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,s,o)===!1)return}a=a.parent}const l=t.appContext.config.errorHandler;if(l){Br(l,null,10,[e,s,o]);return}}h1(e,r,n,i)}function h1(e,t,r,i=!0){console.error(e)}let Nu=!1,Pf=!1;const On=[];let Rr=0;const fo=[];let no=null,Na=0;const ho=[];let ci=null,Ba=0;const g_=Promise.resolve();let Jh=null,Af=null;function Tn(e){const t=Jh||g_;return e?t.then(this?e.bind(this):e):t}function p1(e){let t=Rr+1,r=On.length;for(;t<r;){const i=t+r>>>1;Do(On[i])<e?t=i+1:r=i}return t}function y_(e){(!On.length||!On.includes(e,Nu&&e.allowRecurse?Rr+1:Rr))&&e!==Af&&(e.id==null?On.push(e):On.splice(p1(e.id),0,e),__())}function __(){!Nu&&!Pf&&(Pf=!0,Jh=g_.then(S_))}function m1(e){const t=On.indexOf(e);t>Rr&&On.splice(t,1)}function b_(e,t,r,i){Re(e)?r.push(...e):(!t||!t.includes(e,e.allowRecurse?i+1:i))&&r.push(e),__()}function v1(e){b_(e,no,fo,Na)}function g1(e){b_(e,ci,ho,Ba)}function Oc(e,t=null){if(fo.length){for(Af=t,no=[...new Set(fo)],fo.length=0,Na=0;Na<no.length;Na++)no[Na]();no=null,Na=0,Af=null,Oc(e,t)}}function T_(e){if(Oc(),ho.length){const t=[...new Set(ho)];if(ho.length=0,ci){ci.push(...t);return}for(ci=t,ci.sort((r,i)=>Do(r)-Do(i)),Ba=0;Ba<ci.length;Ba++)ci[Ba]();ci=null,Ba=0}}const Do=e=>e.id==null?1/0:e.id;function S_(e){Pf=!1,Nu=!0,Oc(e),On.sort((r,i)=>Do(r)-Do(i));const t=nr;try{for(Rr=0;Rr<On.length;Rr++){const r=On[Rr];r&&r.active!==!1&&Br(r,null,14)}}finally{Rr=0,On.length=0,T_(),Nu=!1,Jh=null,(On.length||fo.length||ho.length)&&S_(e)}}function y1(e,t,...r){if(e.isUnmounted)return;const i=e.vnode.props||pt;let n=r;const a=t.startsWith("update:"),s=a&&t.slice(7);if(s&&s in i){const c=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:d}=i[c]||pt;d&&(n=r.map(p=>p.trim())),f&&(n=r.map(Io))}let o,l=i[o=Cu(t)]||i[o=Cu(zn(t))];!l&&a&&(l=i[o=Cu(la(t))]),l&&jn(l,e,6,n);const u=i[o+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,jn(u,e,6,n)}}function x_(e,t,r=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const a=e.emits;let s={},o=!1;if(!Ge(e)){const l=u=>{const c=x_(u,t,!0);c&&(o=!0,Ht(s,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!o?(i.set(e,null),null):(Re(a)?a.forEach(l=>s[l]=null):Ht(s,a),i.set(e,s),s)}function Lc(e,t){return!e||!wc(t)?!1:(t=t.slice(2).replace(/Once$/,""),tt(e,t[0].toLowerCase()+t.slice(1))||tt(e,la(t))||tt(e,t))}let nn=null,Dc=null;function Bu(e){const t=nn;return nn=e,Dc=e&&e.type.__scopeId||null,t}function Zh(e){Dc=e}function ep(){Dc=null}function pe(e,t=nn,r){if(!t||e._n)return e;const i=(...n)=>{i._d&&qv(-1);const a=Bu(t),s=e(...n);return Bu(a),i._d&&qv(1),s};return i._n=!0,i._c=!0,i._d=!0,i}function Pd(e){const{type:t,vnode:r,proxy:i,withProxy:n,props:a,propsOptions:[s],slots:o,attrs:l,emit:u,render:c,renderCache:f,data:d,setupState:p,ctx:y,inheritAttrs:b}=e;let T,S;const w=Bu(e);try{if(r.shapeFlag&4){const P=n||i;T=hr(c.call(P,P,f,a,p,d,y)),S=l}else{const P=t;T=hr(P.length>1?P(a,{attrs:l,slots:o,emit:u}):P(a,null)),S=t.props?l:_1(l)}}catch(P){mo.length=0,Ic(P,e,1),T=k(Hn)}let D=T;if(S&&b!==!1){const P=Object.keys(S),{shapeFlag:I}=D;P.length&&I&7&&(s&&P.some($h)&&(S=b1(S,s)),D=Hr(D,S))}return r.dirs&&(D=Hr(D),D.dirs=D.dirs?D.dirs.concat(r.dirs):r.dirs),r.transition&&(D.transition=r.transition),T=D,Bu(w),T}const _1=e=>{let t;for(const r in e)(r==="class"||r==="style"||wc(r))&&((t||(t={}))[r]=e[r]);return t},b1=(e,t)=>{const r={};for(const i in e)(!$h(i)||!(i.slice(9)in t))&&(r[i]=e[i]);return r};function T1(e,t,r){const{props:i,children:n,component:a}=e,{props:s,children:o,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?Rv(i,s,u):!!s;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(s[d]!==i[d]&&!Lc(u,d))return!0}}}else return(n||o)&&(!o||!o.$stable)?!0:i===s?!1:i?s?Rv(i,s,u):!0:!!s;return!1}function Rv(e,t,r){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const a=i[n];if(t[a]!==e[a]&&!Lc(r,a))return!0}return!1}function S1({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const E_=e=>e.__isSuspense;function x1(e,t){t&&t.pendingBranch?Re(e)?t.effects.push(...e):t.effects.push(e):g1(e)}function rn(e,t){if($t){let r=$t.provides;const i=$t.parent&&$t.parent.provides;i===r&&(r=$t.provides=Object.create(i)),r[e]=t}}function ut(e,t,r=!1){const i=$t||nn;if(i){const n=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(n&&e in n)return n[e];if(arguments.length>1)return r&&Ge(t)?t.call(i.proxy):t}}function Tr(e,t){return Rc(e,null,t)}function E1(e,t){return Rc(e,null,{flush:"post"})}const Mv={};function Le(e,t,r){return Rc(e,t,r)}function Rc(e,t,{immediate:r,deep:i,flush:n,onTrack:a,onTrigger:s}=pt){const o=$t;let l,u=!1,c=!1;if(Ze(e)?(l=()=>e.value,u=kf(e)):mi(e)?(l=()=>e,i=!0):Re(e)?(c=!0,u=e.some(S=>mi(S)||kf(S)),l=()=>e.map(S=>{if(Ze(S))return S.value;if(mi(S))return zi(S);if(Ge(S))return Br(S,o,2)})):Ge(e)?t?l=()=>Br(e,o,2):l=()=>{if(!(o&&o.isUnmounted))return f&&f(),jn(e,o,3,[d])}:l=nr,t&&i){const S=l;l=()=>zi(S())}let f,d=S=>{f=T.onStop=()=>{Br(S,o,4)}};if(No)return d=nr,t?r&&jn(t,o,3,[l(),c?[]:void 0,d]):l(),nr;let p=c?[]:Mv;const y=()=>{if(!!T.active)if(t){const S=T.run();(i||u||(c?S.some((w,D)=>Ao(w,p[D])):Ao(S,p)))&&(f&&f(),jn(t,o,3,[S,p===Mv?void 0:p,d]),p=S)}else T.run()};y.allowRecurse=!!t;let b;n==="sync"?b=y:n==="post"?b=()=>Qt(y,o&&o.suspense):b=()=>v1(y);const T=new zh(l,b);return t?r?y():p=T.run():n==="post"?Qt(T.run.bind(T),o&&o.suspense):T.run(),()=>{T.stop(),o&&o.scope&&jh(o.scope.effects,T)}}function C1(e,t,r){const i=this.proxy,n=Pt(e)?e.includes(".")?C_(i,e):()=>i[e]:e.bind(i,i);let a;Ge(t)?a=t:(a=t.handler,r=t);const s=$t;is(this);const o=Rc(n,a.bind(i),r);return s?is(s):Xi(),o}function C_(e,t){const r=t.split(".");return()=>{let i=e;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}function zi(e,t){if(!At(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ze(e))zi(e.value,t);else if(Re(e))for(let r=0;r<e.length;r++)zi(e[r],t);else if(Ts(e)||Ga(e))e.forEach(r=>{zi(r,t)});else if(Jy(e))for(const r in e)zi(e[r],t);return e}function w_(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nn(()=>{e.isMounted=!0}),Bn(()=>{e.isUnmounting=!0}),e}const Un=[Function,Array],w1={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Un,onEnter:Un,onAfterEnter:Un,onEnterCancelled:Un,onBeforeLeave:Un,onLeave:Un,onAfterLeave:Un,onLeaveCancelled:Un,onBeforeAppear:Un,onAppear:Un,onAfterAppear:Un,onAppearCancelled:Un},setup(e,{slots:t}){const r=Sr(),i=w_();let n;return()=>{const a=t.default&&tp(t.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){for(const b of a)if(b.type!==Hn){s=b;break}}const o=Qe(e),{mode:l}=o;if(i.isLeaving)return Ad(s);const u=Fv(s);if(!u)return Ad(s);const c=Ro(u,o,i,r);rs(u,c);const f=r.subTree,d=f&&Fv(f);let p=!1;const{getTransitionKey:y}=u.type;if(y){const b=y();n===void 0?n=b:b!==n&&(n=b,p=!0)}if(d&&d.type!==Hn&&(!ji(u,d)||p)){const b=Ro(d,o,i,r);if(rs(d,b),l==="out-in")return i.isLeaving=!0,b.afterLeave=()=>{i.isLeaving=!1,r.update()},Ad(s);l==="in-out"&&u.type!==Hn&&(b.delayLeave=(T,S,w)=>{const D=P_(i,d);D[String(d.key)]=d,T._leaveCb=()=>{S(),T._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=w})}return s}}},k_=w1;function P_(e,t){const{leavingVNodes:r}=e;let i=r.get(t.type);return i||(i=Object.create(null),r.set(t.type,i)),i}function Ro(e,t,r,i){const{appear:n,mode:a,persisted:s=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:f,onLeave:d,onAfterLeave:p,onLeaveCancelled:y,onBeforeAppear:b,onAppear:T,onAfterAppear:S,onAppearCancelled:w}=t,D=String(e.key),P=P_(r,e),I=(R,M)=>{R&&jn(R,i,9,M)},L=(R,M)=>{const N=M[1];I(R,M),Re(R)?R.every(W=>W.length<=1)&&N():R.length<=1&&N()},A={mode:a,persisted:s,beforeEnter(R){let M=o;if(!r.isMounted)if(n)M=b||o;else return;R._leaveCb&&R._leaveCb(!0);const N=P[D];N&&ji(e,N)&&N.el._leaveCb&&N.el._leaveCb(),I(M,[R])},enter(R){let M=l,N=u,W=c;if(!r.isMounted)if(n)M=T||l,N=S||u,W=w||c;else return;let X=!1;const Y=R._enterCb=le=>{X||(X=!0,le?I(W,[R]):I(N,[R]),A.delayedLeave&&A.delayedLeave(),R._enterCb=void 0)};M?L(M,[R,Y]):Y()},leave(R,M){const N=String(e.key);if(R._enterCb&&R._enterCb(!0),r.isUnmounting)return M();I(f,[R]);let W=!1;const X=R._leaveCb=Y=>{W||(W=!0,M(),Y?I(y,[R]):I(p,[R]),R._leaveCb=void 0,P[N]===e&&delete P[N])};P[N]=e,d?L(d,[R,X]):X()},clone(R){return Ro(R,t,r,i)}};return A}function Ad(e){if(Mc(e))return e=Hr(e),e.children=null,e}function Fv(e){return Mc(e)?e.children?e.children[0]:void 0:e}function rs(e,t){e.shapeFlag&6&&e.component?rs(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function tp(e,t=!1,r){let i=[],n=0;for(let a=0;a<e.length;a++){let s=e[a];const o=r==null?s.key:String(r)+String(s.key!=null?s.key:a);s.type===nt?(s.patchFlag&128&&n++,i=i.concat(tp(s.children,t,o))):(t||s.type!==Hn)&&i.push(o!=null?Hr(s,{key:o}):s)}if(n>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}function Gt(e){return Ge(e)?{setup:e,name:e.name}:e}const Ya=e=>!!e.type.__asyncLoader,Mc=e=>e.type.__isKeepAlive,k1={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const r=Sr(),i=r.ctx;if(!i.renderer)return()=>{const w=t.default&&t.default();return w&&w.length===1?w[0]:w};const n=new Map,a=new Set;let s=null;const o=r.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:f}}}=i,d=f("div");i.activate=(w,D,P,I,L)=>{const A=w.component;u(w,D,P,0,o),l(A.vnode,w,D,P,A,o,I,w.slotScopeIds,L),Qt(()=>{A.isDeactivated=!1,A.a&&Ka(A.a);const R=w.props&&w.props.onVnodeMounted;R&&$n(R,A.parent,w)},o)},i.deactivate=w=>{const D=w.component;u(w,d,null,1,o),Qt(()=>{D.da&&Ka(D.da);const P=w.props&&w.props.onVnodeUnmounted;P&&$n(P,D.parent,w),D.isDeactivated=!0},o)};function p(w){Id(w),c(w,r,o,!0)}function y(w){n.forEach((D,P)=>{const I=ju(D.type);I&&(!w||!w(I))&&b(P)})}function b(w){const D=n.get(w);!s||D.type!==s.type?p(D):s&&Id(s),n.delete(w),a.delete(w)}Le(()=>[e.include,e.exclude],([w,D])=>{w&&y(P=>ro(w,P)),D&&y(P=>!ro(D,P))},{flush:"post",deep:!0});let T=null;const S=()=>{T!=null&&n.set(T,Od(r.subTree))};return Nn(S),np(S),Bn(()=>{n.forEach(w=>{const{subTree:D,suspense:P}=r,I=Od(D);if(w.type===I.type){Id(I);const L=I.component.da;L&&Qt(L,P);return}p(w)})}),()=>{if(T=null,!t.default)return null;const w=t.default(),D=w[0];if(w.length>1)return s=null,w;if(!Fo(D)||!(D.shapeFlag&4)&&!(D.shapeFlag&128))return s=null,D;let P=Od(D);const I=P.type,L=ju(Ya(P)?P.type.__asyncResolved||{}:I),{include:A,exclude:R,max:M}=e;if(A&&(!L||!ro(A,L))||R&&L&&ro(R,L))return s=P,D;const N=P.key==null?I:P.key,W=n.get(N);return P.el&&(P=Hr(P),D.shapeFlag&128&&(D.ssContent=P)),T=N,W?(P.el=W.el,P.component=W.component,P.transition&&rs(P,P.transition),P.shapeFlag|=512,a.delete(N),a.add(N)):(a.add(N),M&&a.size>parseInt(M,10)&&b(a.values().next().value)),P.shapeFlag|=256,s=P,E_(D.type)?D:P}}},P1=k1;function ro(e,t){return Re(e)?e.some(r=>ro(r,t)):Pt(e)?e.split(",").includes(t):e.test?e.test(t):!1}function A_(e,t){O_(e,"a",t)}function I_(e,t){O_(e,"da",t)}function O_(e,t,r=$t){const i=e.__wdc||(e.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Fc(t,i,r),r){let n=r.parent;for(;n&&n.parent;)Mc(n.parent.vnode)&&A1(i,t,r,n),n=n.parent}}function A1(e,t,r,i){const n=Fc(t,e,i,!0);Nc(()=>{jh(i[t],n)},r)}function Id(e){let t=e.shapeFlag;t&256&&(t-=256),t&512&&(t-=512),e.shapeFlag=t}function Od(e){return e.shapeFlag&128?e.ssContent:e}function Fc(e,t,r=$t,i=!1){if(r){const n=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...s)=>{if(r.isUnmounted)return;da(),is(r);const o=jn(t,r,e,s);return Xi(),fa(),o});return i?n.unshift(a):n.push(a),a}}const Yr=e=>(t,r=$t)=>(!No||e==="sp")&&Fc(e,t,r),rl=Yr("bm"),Nn=Yr("m"),I1=Yr("bu"),np=Yr("u"),Bn=Yr("bum"),Nc=Yr("um"),O1=Yr("sp"),L1=Yr("rtg"),D1=Yr("rtc");function R1(e,t=$t){Fc("ec",e,t)}function Mn(e,t){const r=nn;if(r===null)return e;const i=Uc(r)||r.proxy,n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[s,o,l,u=pt]=t[a];Ge(s)&&(s={mounted:s,updated:s}),s.deep&&zi(o),n.push({dir:s,instance:i,value:o,oldValue:void 0,arg:l,modifiers:u})}return e}function Mi(e,t,r,i){const n=e.dirs,a=t&&t.dirs;for(let s=0;s<n.length;s++){const o=n[s];a&&(o.oldValue=a[s].value);let l=o.dir[i];l&&(da(),jn(l,r,8,[e.el,o,e,t]),fa())}}const rp="components",M1="directives";function F1(e,t){return ip(rp,e,!0,t)||e}const L_=Symbol();function D_(e){return Pt(e)?ip(rp,e,!1)||e:e||L_}function ha(e){return ip(M1,e)}function ip(e,t,r=!0,i=!1){const n=nn||$t;if(n){const a=n.type;if(e===rp){const o=ju(a);if(o&&(o===t||o===zn(t)||o===Xr(zn(t))))return a}const s=Nv(n[e]||a[e],t)||Nv(n.appContext[e],t);return!s&&i?a:s}}function Nv(e,t){return e&&(e[t]||e[zn(t)]||e[Xr(zn(t))])}function Qa(e,t,r,i){let n;const a=r&&r[i];if(Re(e)||Pt(e)){n=new Array(e.length);for(let s=0,o=e.length;s<o;s++)n[s]=t(e[s],s,void 0,a&&a[s])}else if(typeof e=="number"){n=new Array(e);for(let s=0;s<e;s++)n[s]=t(s+1,s,void 0,a&&a[s])}else if(At(e))if(e[Symbol.iterator])n=Array.from(e,(s,o)=>t(s,o,void 0,a&&a[o]));else{const s=Object.keys(e);n=new Array(s.length);for(let o=0,l=s.length;o<l;o++){const u=s[o];n[o]=t(e[u],u,o,a&&a[o])}}else n=[];return r&&(r[i]=n),n}function Uu(e,t,r={},i,n){if(nn.isCE||nn.parent&&Ya(nn.parent)&&nn.parent.isCE)return k("slot",t==="default"?null:{name:t},i&&i());let a=e[t];a&&a._c&&(a._d=!1),Ne();const s=a&&R_(a(r)),o=at(nt,{key:r.key||`_${t}`},s||(i?i():[]),s&&e._===1?64:-2);return!n&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),a&&a._c&&(a._d=!0),o}function R_(e){return e.some(t=>Fo(t)?!(t.type===Hn||t.type===nt&&!R_(t.children)):!0)?e:null}function Bv(e){const t={};for(const r in e)t[Cu(r)]=e[r];return t}const If=e=>e?z_(e)?Uc(e)||e.proxy:If(e.parent):null,Vu=Ht(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>If(e.parent),$root:e=>If(e.root),$emit:e=>e.emit,$options:e=>F_(e),$forceUpdate:e=>e.f||(e.f=()=>y_(e.update)),$nextTick:e=>e.n||(e.n=Tn.bind(e.proxy)),$watch:e=>C1.bind(e)}),N1={get({_:e},t){const{ctx:r,setupState:i,data:n,props:a,accessCache:s,type:o,appContext:l}=e;let u;if(t[0]!=="$"){const p=s[t];if(p!==void 0)switch(p){case 1:return i[t];case 2:return n[t];case 4:return r[t];case 3:return a[t]}else{if(i!==pt&&tt(i,t))return s[t]=1,i[t];if(n!==pt&&tt(n,t))return s[t]=2,n[t];if((u=e.propsOptions[0])&&tt(u,t))return s[t]=3,a[t];if(r!==pt&&tt(r,t))return s[t]=4,r[t];Of&&(s[t]=0)}}const c=Vu[t];let f,d;if(c)return t==="$attrs"&&Rn(e,"get",t),c(e);if((f=o.__cssModules)&&(f=f[t]))return f;if(r!==pt&&tt(r,t))return s[t]=4,r[t];if(d=l.config.globalProperties,tt(d,t))return d[t]},set({_:e},t,r){const{data:i,setupState:n,ctx:a}=e;return n!==pt&&tt(n,t)?(n[t]=r,!0):i!==pt&&tt(i,t)?(i[t]=r,!0):tt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:i,appContext:n,propsOptions:a}},s){let o;return!!r[s]||e!==pt&&tt(e,s)||t!==pt&&tt(t,s)||(o=a[0])&&tt(o,s)||tt(i,s)||tt(Vu,s)||tt(n.config.globalProperties,s)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:tt(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};let Of=!0;function B1(e){const t=F_(e),r=e.proxy,i=e.ctx;Of=!1,t.beforeCreate&&Uv(t.beforeCreate,e,"bc");const{data:n,computed:a,methods:s,watch:o,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:p,updated:y,activated:b,deactivated:T,beforeDestroy:S,beforeUnmount:w,destroyed:D,unmounted:P,render:I,renderTracked:L,renderTriggered:A,errorCaptured:R,serverPrefetch:M,expose:N,inheritAttrs:W,components:X,directives:Y,filters:le}=t;if(u&&U1(u,i,null,e.appContext.config.unwrapInjectedRef),s)for(const ye in s){const xe=s[ye];Ge(xe)&&(i[ye]=xe.bind(r))}if(n){const ye=n.call(r,r);At(ye)&&(e.data=xn(ye))}if(Of=!0,a)for(const ye in a){const xe=a[ye],ee=Ge(xe)?xe.bind(r,r):Ge(xe.get)?xe.get.bind(r,r):nr,se=!Ge(xe)&&Ge(xe.set)?xe.set.bind(r):nr,te=j({get:ee,set:se});Object.defineProperty(i,ye,{enumerable:!0,configurable:!0,get:()=>te.value,set:Ce=>te.value=Ce})}if(o)for(const ye in o)M_(o[ye],i,r,ye);if(l){const ye=Ge(l)?l.call(r):l;Reflect.ownKeys(ye).forEach(xe=>{rn(xe,ye[xe])})}c&&Uv(c,e,"c");function ce(ye,xe){Re(xe)?xe.forEach(ee=>ye(ee.bind(r))):xe&&ye(xe.bind(r))}if(ce(rl,f),ce(Nn,d),ce(I1,p),ce(np,y),ce(A_,b),ce(I_,T),ce(R1,R),ce(D1,L),ce(L1,A),ce(Bn,w),ce(Nc,P),ce(O1,M),Re(N))if(N.length){const ye=e.exposed||(e.exposed={});N.forEach(xe=>{Object.defineProperty(ye,xe,{get:()=>r[xe],set:ee=>r[xe]=ee})})}else e.exposed||(e.exposed={});I&&e.render===nr&&(e.render=I),W!=null&&(e.inheritAttrs=W),X&&(e.components=X),Y&&(e.directives=Y)}function U1(e,t,r=nr,i=!1){Re(e)&&(e=Lf(e));for(const n in e){const a=e[n];let s;At(a)?"default"in a?s=ut(a.from||n,a.default,!0):s=ut(a.from||n):s=ut(a),Ze(s)&&i?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[n]=s}}function Uv(e,t,r){jn(Re(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,r)}function M_(e,t,r,i){const n=i.includes(".")?C_(r,i):()=>r[i];if(Pt(e)){const a=t[e];Ge(a)&&Le(n,a)}else if(Ge(e))Le(n,e.bind(r));else if(At(e))if(Re(e))e.forEach(a=>M_(a,t,r,i));else{const a=Ge(e.handler)?e.handler.bind(r):t[e.handler];Ge(a)&&Le(n,a,e)}}function F_(e){const t=e.type,{mixins:r,extends:i}=t,{mixins:n,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,o=a.get(t);let l;return o?l=o:!n.length&&!r&&!i?l=t:(l={},n.length&&n.forEach(u=>$u(l,u,s,!0)),$u(l,t,s)),a.set(t,l),l}function $u(e,t,r,i=!1){const{mixins:n,extends:a}=t;a&&$u(e,a,r,!0),n&&n.forEach(s=>$u(e,s,r,!0));for(const s in t)if(!(i&&s==="expose")){const o=V1[s]||r&&r[s];e[s]=o?o(e[s],t[s]):t[s]}return e}const V1={data:Vv,props:Vi,emits:Vi,methods:Vi,computed:Vi,beforeCreate:pn,created:pn,beforeMount:pn,mounted:pn,beforeUpdate:pn,updated:pn,beforeDestroy:pn,beforeUnmount:pn,destroyed:pn,unmounted:pn,activated:pn,deactivated:pn,errorCaptured:pn,serverPrefetch:pn,components:Vi,directives:Vi,watch:j1,provide:Vv,inject:$1};function Vv(e,t){return t?e?function(){return Ht(Ge(e)?e.call(this,this):e,Ge(t)?t.call(this,this):t)}:t:e}function $1(e,t){return Vi(Lf(e),Lf(t))}function Lf(e){if(Re(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function pn(e,t){return e?[...new Set([].concat(e,t))]:t}function Vi(e,t){return e?Ht(Ht(Object.create(null),e),t):t}function j1(e,t){if(!e)return t;if(!t)return e;const r=Ht(Object.create(null),e);for(const i in t)r[i]=pn(e[i],t[i]);return r}function H1(e,t,r,i=!1){const n={},a={};Fu(a,Bc,1),e.propsDefaults=Object.create(null),N_(e,t,n,a);for(const s in e.propsOptions[0])s in n||(n[s]=void 0);r?e.props=i?n:c_(n):e.type.props?e.props=n:e.props=a,e.attrs=a}function W1(e,t,r,i){const{props:n,attrs:a,vnode:{patchFlag:s}}=e,o=Qe(n),[l]=e.propsOptions;let u=!1;if((i||s>0)&&!(s&16)){if(s&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(Lc(e.emitsOptions,d))continue;const p=t[d];if(l)if(tt(a,d))p!==a[d]&&(a[d]=p,u=!0);else{const y=zn(d);n[y]=Df(l,o,y,p,e,!1)}else p!==a[d]&&(a[d]=p,u=!0)}}}else{N_(e,t,n,a)&&(u=!0);let c;for(const f in o)(!t||!tt(t,f)&&((c=la(f))===f||!tt(t,c)))&&(l?r&&(r[f]!==void 0||r[c]!==void 0)&&(n[f]=Df(l,o,f,void 0,e,!0)):delete n[f]);if(a!==o)for(const f in a)(!t||!tt(t,f)&&!0)&&(delete a[f],u=!0)}u&&jr(e,"set","$attrs")}function N_(e,t,r,i){const[n,a]=e.propsOptions;let s=!1,o;if(t)for(let l in t){if(Eu(l))continue;const u=t[l];let c;n&&tt(n,c=zn(l))?!a||!a.includes(c)?r[c]=u:(o||(o={}))[c]=u:Lc(e.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,s=!0)}if(a){const l=Qe(r),u=o||pt;for(let c=0;c<a.length;c++){const f=a[c];r[f]=Df(n,l,f,u[f],e,!tt(u,f))}}return s}function Df(e,t,r,i,n,a){const s=e[r];if(s!=null){const o=tt(s,"default");if(o&&i===void 0){const l=s.default;if(s.type!==Function&&Ge(l)){const{propsDefaults:u}=n;r in u?i=u[r]:(is(n),i=u[r]=l.call(null,t),Xi())}else i=l}s[0]&&(a&&!o?i=!1:s[1]&&(i===""||i===la(r))&&(i=!0))}return i}function B_(e,t,r=!1){const i=t.propsCache,n=i.get(e);if(n)return n;const a=e.props,s={},o=[];let l=!1;if(!Ge(e)){const c=f=>{l=!0;const[d,p]=B_(f,t,!0);Ht(s,d),p&&o.push(...p)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!l)return i.set(e,qa),qa;if(Re(a))for(let c=0;c<a.length;c++){const f=zn(a[c]);$v(f)&&(s[f]=pt)}else if(a)for(const c in a){const f=zn(c);if($v(f)){const d=a[c],p=s[f]=Re(d)||Ge(d)?{type:d}:d;if(p){const y=Wv(Boolean,p.type),b=Wv(String,p.type);p[0]=y>-1,p[1]=b<0||y<b,(y>-1||tt(p,"default"))&&o.push(f)}}}const u=[s,o];return i.set(e,u),u}function $v(e){return e[0]!=="$"}function jv(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Hv(e,t){return jv(e)===jv(t)}function Wv(e,t){return Re(t)?t.findIndex(r=>Hv(r,e)):Ge(t)&&Hv(t,e)?0:-1}const U_=e=>e[0]==="_"||e==="$stable",ap=e=>Re(e)?e.map(hr):[hr(e)],z1=(e,t,r)=>{if(t._n)return t;const i=pe((...n)=>ap(t(...n)),r);return i._c=!1,i},V_=(e,t,r)=>{const i=e._ctx;for(const n in e){if(U_(n))continue;const a=e[n];if(Ge(a))t[n]=z1(n,a,i);else if(a!=null){const s=ap(a);t[n]=()=>s}}},$_=(e,t)=>{const r=ap(t);e.slots.default=()=>r},q1=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=Qe(t),Fu(t,"_",r)):V_(t,e.slots={})}else e.slots={},t&&$_(e,t);Fu(e.slots,Bc,1)},G1=(e,t,r)=>{const{vnode:i,slots:n}=e;let a=!0,s=pt;if(i.shapeFlag&32){const o=t._;o?r&&o===1?a=!1:(Ht(n,t),!r&&o===1&&delete n._):(a=!t.$stable,V_(t,n)),s=t}else t&&($_(e,t),s={default:1});if(a)for(const o in n)!U_(o)&&!(o in s)&&delete n[o]};function j_(){return{app:null,config:{isNativeTag:xw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let K1=0;function X1(e,t){return function(i,n=null){Ge(i)||(i=Object.assign({},i)),n!=null&&!At(n)&&(n=null);const a=j_(),s=new Set;let o=!1;const l=a.app={_uid:K1++,_component:i,_props:n,_container:null,_context:a,_instance:null,version:vk,get config(){return a.config},set config(u){},use(u,...c){return s.has(u)||(u&&Ge(u.install)?(s.add(u),u.install(l,...c)):Ge(u)&&(s.add(u),u(l,...c))),l},mixin(u){return a.mixins.includes(u)||a.mixins.push(u),l},component(u,c){return c?(a.components[u]=c,l):a.components[u]},directive(u,c){return c?(a.directives[u]=c,l):a.directives[u]},mount(u,c,f){if(!o){const d=k(i,n);return d.appContext=a,c&&t?t(d,u):e(d,u,f),o=!0,l._container=u,u.__vue_app__=l,Uc(d.component)||d.component.proxy}},unmount(){o&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return a.provides[u]=c,l}};return l}}function Rf(e,t,r,i,n=!1){if(Re(e)){e.forEach((d,p)=>Rf(d,t&&(Re(t)?t[p]:t),r,i,n));return}if(Ya(i)&&!n)return;const a=i.shapeFlag&4?Uc(i.component)||i.component.proxy:i.el,s=n?null:a,{i:o,r:l}=e,u=t&&t.r,c=o.refs===pt?o.refs={}:o.refs,f=o.setupState;if(u!=null&&u!==l&&(Pt(u)?(c[u]=null,tt(f,u)&&(f[u]=null)):Ze(u)&&(u.value=null)),Ge(l))Br(l,o,12,[s,c]);else{const d=Pt(l),p=Ze(l);if(d||p){const y=()=>{if(e.f){const b=d?c[l]:l.value;n?Re(b)&&jh(b,a):Re(b)?b.includes(a)||b.push(a):d?(c[l]=[a],tt(f,l)&&(f[l]=c[l])):(l.value=[a],e.k&&(c[e.k]=l.value))}else d?(c[l]=s,tt(f,l)&&(f[l]=s)):Ze(l)&&(l.value=s,e.k&&(c[e.k]=s))};s?(y.id=-1,Qt(y,r)):y()}}}const Qt=x1;function Y1(e){return Q1(e)}function Q1(e,t){const r=Aw();r.__VUE__=!0;const{insert:i,remove:n,patchProp:a,createElement:s,createText:o,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:p=nr,cloneNode:y,insertStaticContent:b}=e,T=(B,z,Q,ae=null,re=null,_e=null,de=!1,be=null,Ee=!!z.dynamicChildren)=>{if(B===z)return;B&&!ji(B,z)&&(ae=ke(B),ie(B,re,_e,!0),B=null),z.patchFlag===-2&&(Ee=!1,z.dynamicChildren=null);const{type:he,ref:Ie,shapeFlag:Ae}=z;switch(he){case op:S(B,z,Q,ae);break;case Hn:w(B,z,Q,ae);break;case wu:B==null&&D(z,Q,ae,de);break;case nt:Y(B,z,Q,ae,re,_e,de,be,Ee);break;default:Ae&1?L(B,z,Q,ae,re,_e,de,be,Ee):Ae&6?le(B,z,Q,ae,re,_e,de,be,Ee):(Ae&64||Ae&128)&&he.process(B,z,Q,ae,re,_e,de,be,Ee,Je)}Ie!=null&&re&&Rf(Ie,B&&B.ref,_e,z||B,!z)},S=(B,z,Q,ae)=>{if(B==null)i(z.el=o(z.children),Q,ae);else{const re=z.el=B.el;z.children!==B.children&&u(re,z.children)}},w=(B,z,Q,ae)=>{B==null?i(z.el=l(z.children||""),Q,ae):z.el=B.el},D=(B,z,Q,ae)=>{[B.el,B.anchor]=b(B.children,z,Q,ae,B.el,B.anchor)},P=({el:B,anchor:z},Q,ae)=>{let re;for(;B&&B!==z;)re=d(B),i(B,Q,ae),B=re;i(z,Q,ae)},I=({el:B,anchor:z})=>{let Q;for(;B&&B!==z;)Q=d(B),n(B),B=Q;n(z)},L=(B,z,Q,ae,re,_e,de,be,Ee)=>{de=de||z.type==="svg",B==null?A(z,Q,ae,re,_e,de,be,Ee):N(B,z,re,_e,de,be,Ee)},A=(B,z,Q,ae,re,_e,de,be)=>{let Ee,he;const{type:Ie,props:Ae,shapeFlag:Oe,transition:Be,patchFlag:Ye,dirs:ot}=B;if(B.el&&y!==void 0&&Ye===-1)Ee=B.el=y(B.el);else{if(Ee=B.el=s(B.type,_e,Ae&&Ae.is,Ae),Oe&8?c(Ee,B.children):Oe&16&&M(B.children,Ee,null,ae,re,_e&&Ie!=="foreignObject",de,be),ot&&Mi(B,null,ae,"created"),Ae){for(const ft in Ae)ft!=="value"&&!Eu(ft)&&a(Ee,ft,null,Ae[ft],_e,B.children,ae,re,ue);"value"in Ae&&a(Ee,"value",null,Ae.value),(he=Ae.onVnodeBeforeMount)&&$n(he,ae,B)}R(Ee,B,B.scopeId,de,ae)}ot&&Mi(B,null,ae,"beforeMount");const lt=(!re||re&&!re.pendingBranch)&&Be&&!Be.persisted;lt&&Be.beforeEnter(Ee),i(Ee,z,Q),((he=Ae&&Ae.onVnodeMounted)||lt||ot)&&Qt(()=>{he&&$n(he,ae,B),lt&&Be.enter(Ee),ot&&Mi(B,null,ae,"mounted")},re)},R=(B,z,Q,ae,re)=>{if(Q&&p(B,Q),ae)for(let _e=0;_e<ae.length;_e++)p(B,ae[_e]);if(re){let _e=re.subTree;if(z===_e){const de=re.vnode;R(B,de,de.scopeId,de.slotScopeIds,re.parent)}}},M=(B,z,Q,ae,re,_e,de,be,Ee=0)=>{for(let he=Ee;he<B.length;he++){const Ie=B[he]=be?fi(B[he]):hr(B[he]);T(null,Ie,z,Q,ae,re,_e,de,be)}},N=(B,z,Q,ae,re,_e,de)=>{const be=z.el=B.el;let{patchFlag:Ee,dynamicChildren:he,dirs:Ie}=z;Ee|=B.patchFlag&16;const Ae=B.props||pt,Oe=z.props||pt;let Be;Q&&Fi(Q,!1),(Be=Oe.onVnodeBeforeUpdate)&&$n(Be,Q,z,B),Ie&&Mi(z,B,Q,"beforeUpdate"),Q&&Fi(Q,!0);const Ye=re&&z.type!=="foreignObject";if(he?W(B.dynamicChildren,he,be,Q,ae,Ye,_e):de||ee(B,z,be,null,Q,ae,Ye,_e,!1),Ee>0){if(Ee&16)X(be,z,Ae,Oe,Q,ae,re);else if(Ee&2&&Ae.class!==Oe.class&&a(be,"class",null,Oe.class,re),Ee&4&&a(be,"style",Ae.style,Oe.style,re),Ee&8){const ot=z.dynamicProps;for(let lt=0;lt<ot.length;lt++){const ft=ot[lt],qe=Ae[ft],ii=Oe[ft];(ii!==qe||ft==="value")&&a(be,ft,qe,ii,re,B.children,Q,ae,ue)}}Ee&1&&B.children!==z.children&&c(be,z.children)}else!de&&he==null&&X(be,z,Ae,Oe,Q,ae,re);((Be=Oe.onVnodeUpdated)||Ie)&&Qt(()=>{Be&&$n(Be,Q,z,B),Ie&&Mi(z,B,Q,"updated")},ae)},W=(B,z,Q,ae,re,_e,de)=>{for(let be=0;be<z.length;be++){const Ee=B[be],he=z[be],Ie=Ee.el&&(Ee.type===nt||!ji(Ee,he)||Ee.shapeFlag&70)?f(Ee.el):Q;T(Ee,he,Ie,null,ae,re,_e,de,!0)}},X=(B,z,Q,ae,re,_e,de)=>{if(Q!==ae){for(const be in ae){if(Eu(be))continue;const Ee=ae[be],he=Q[be];Ee!==he&&be!=="value"&&a(B,be,he,Ee,de,z.children,re,_e,ue)}if(Q!==pt)for(const be in Q)!Eu(be)&&!(be in ae)&&a(B,be,Q[be],null,de,z.children,re,_e,ue);"value"in ae&&a(B,"value",Q.value,ae.value)}},Y=(B,z,Q,ae,re,_e,de,be,Ee)=>{const he=z.el=B?B.el:o(""),Ie=z.anchor=B?B.anchor:o("");let{patchFlag:Ae,dynamicChildren:Oe,slotScopeIds:Be}=z;Be&&(be=be?be.concat(Be):Be),B==null?(i(he,Q,ae),i(Ie,Q,ae),M(z.children,Q,Ie,re,_e,de,be,Ee)):Ae>0&&Ae&64&&Oe&&B.dynamicChildren?(W(B.dynamicChildren,Oe,Q,re,_e,de,be),(z.key!=null||re&&z===re.subTree)&&sp(B,z,!0)):ee(B,z,Q,Ie,re,_e,de,be,Ee)},le=(B,z,Q,ae,re,_e,de,be,Ee)=>{z.slotScopeIds=be,B==null?z.shapeFlag&512?re.ctx.activate(z,Q,ae,de,Ee):fe(z,Q,ae,re,_e,de,Ee):ce(B,z,Ee)},fe=(B,z,Q,ae,re,_e,de)=>{const be=B.component=lk(B,ae,re);if(Mc(B)&&(be.ctx.renderer=Je),uk(be),be.asyncDep){if(re&&re.registerDep(be,ye),!B.el){const Ee=be.subTree=k(Hn);w(null,Ee,z,Q)}return}ye(be,B,z,Q,re,_e,de)},ce=(B,z,Q)=>{const ae=z.component=B.component;if(T1(B,z,Q))if(ae.asyncDep&&!ae.asyncResolved){xe(ae,z,Q);return}else ae.next=z,m1(ae.update),ae.update();else z.el=B.el,ae.vnode=z},ye=(B,z,Q,ae,re,_e,de)=>{const be=()=>{if(B.isMounted){let{next:Ie,bu:Ae,u:Oe,parent:Be,vnode:Ye}=B,ot=Ie,lt;Fi(B,!1),Ie?(Ie.el=Ye.el,xe(B,Ie,de)):Ie=Ye,Ae&&Ka(Ae),(lt=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&$n(lt,Be,Ie,Ye),Fi(B,!0);const ft=Pd(B),qe=B.subTree;B.subTree=ft,T(qe,ft,f(qe.el),ke(qe),B,re,_e),Ie.el=ft.el,ot===null&&S1(B,ft.el),Oe&&Qt(Oe,re),(lt=Ie.props&&Ie.props.onVnodeUpdated)&&Qt(()=>$n(lt,Be,Ie,Ye),re)}else{let Ie;const{el:Ae,props:Oe}=z,{bm:Be,m:Ye,parent:ot}=B,lt=Ya(z);if(Fi(B,!1),Be&&Ka(Be),!lt&&(Ie=Oe&&Oe.onVnodeBeforeMount)&&$n(Ie,ot,z),Fi(B,!0),Ae&&Ve){const ft=()=>{B.subTree=Pd(B),Ve(Ae,B.subTree,B,re,null)};lt?z.type.__asyncLoader().then(()=>!B.isUnmounted&&ft()):ft()}else{const ft=B.subTree=Pd(B);T(null,ft,Q,ae,B,re,_e),z.el=ft.el}if(Ye&&Qt(Ye,re),!lt&&(Ie=Oe&&Oe.onVnodeMounted)){const ft=z;Qt(()=>$n(Ie,ot,ft),re)}(z.shapeFlag&256||ot&&Ya(ot.vnode)&&ot.vnode.shapeFlag&256)&&B.a&&Qt(B.a,re),B.isMounted=!0,z=Q=ae=null}},Ee=B.effect=new zh(be,()=>y_(he),B.scope),he=B.update=()=>Ee.run();he.id=B.uid,Fi(B,!0),he()},xe=(B,z,Q)=>{z.component=B;const ae=B.vnode.props;B.vnode=z,B.next=null,W1(B,z.props,ae,Q),G1(B,z.children,Q),da(),Oc(void 0,B.update),fa()},ee=(B,z,Q,ae,re,_e,de,be,Ee=!1)=>{const he=B&&B.children,Ie=B?B.shapeFlag:0,Ae=z.children,{patchFlag:Oe,shapeFlag:Be}=z;if(Oe>0){if(Oe&128){te(he,Ae,Q,ae,re,_e,de,be,Ee);return}else if(Oe&256){se(he,Ae,Q,ae,re,_e,de,be,Ee);return}}Be&8?(Ie&16&&ue(he,re,_e),Ae!==he&&c(Q,Ae)):Ie&16?Be&16?te(he,Ae,Q,ae,re,_e,de,be,Ee):ue(he,re,_e,!0):(Ie&8&&c(Q,""),Be&16&&M(Ae,Q,ae,re,_e,de,be,Ee))},se=(B,z,Q,ae,re,_e,de,be,Ee)=>{B=B||qa,z=z||qa;const he=B.length,Ie=z.length,Ae=Math.min(he,Ie);let Oe;for(Oe=0;Oe<Ae;Oe++){const Be=z[Oe]=Ee?fi(z[Oe]):hr(z[Oe]);T(B[Oe],Be,Q,null,re,_e,de,be,Ee)}he>Ie?ue(B,re,_e,!0,!1,Ae):M(z,Q,ae,re,_e,de,be,Ee,Ae)},te=(B,z,Q,ae,re,_e,de,be,Ee)=>{let he=0;const Ie=z.length;let Ae=B.length-1,Oe=Ie-1;for(;he<=Ae&&he<=Oe;){const Be=B[he],Ye=z[he]=Ee?fi(z[he]):hr(z[he]);if(ji(Be,Ye))T(Be,Ye,Q,null,re,_e,de,be,Ee);else break;he++}for(;he<=Ae&&he<=Oe;){const Be=B[Ae],Ye=z[Oe]=Ee?fi(z[Oe]):hr(z[Oe]);if(ji(Be,Ye))T(Be,Ye,Q,null,re,_e,de,be,Ee);else break;Ae--,Oe--}if(he>Ae){if(he<=Oe){const Be=Oe+1,Ye=Be<Ie?z[Be].el:ae;for(;he<=Oe;)T(null,z[he]=Ee?fi(z[he]):hr(z[he]),Q,Ye,re,_e,de,be,Ee),he++}}else if(he>Oe)for(;he<=Ae;)ie(B[he],re,_e,!0),he++;else{const Be=he,Ye=he,ot=new Map;for(he=Ye;he<=Oe;he++){const un=z[he]=Ee?fi(z[he]):hr(z[he]);un.key!=null&&ot.set(un.key,he)}let lt,ft=0;const qe=Oe-Ye+1;let ii=!1,kl=0;const Pi=new Array(qe);for(he=0;he<qe;he++)Pi[he]=0;for(he=Be;he<=Ae;he++){const un=B[he];if(ft>=qe){ie(un,re,_e,!0);continue}let cn;if(un.key!=null)cn=ot.get(un.key);else for(lt=Ye;lt<=Oe;lt++)if(Pi[lt-Ye]===0&&ji(un,z[lt])){cn=lt;break}cn===void 0?ie(un,re,_e,!0):(Pi[cn-Ye]=he+1,cn>=kl?kl=cn:ii=!0,T(un,z[cn],Q,null,re,_e,de,be,Ee),ft++)}const Pl=ii?J1(Pi):qa;for(lt=Pl.length-1,he=qe-1;he>=0;he--){const un=Ye+he,cn=z[un],Al=un+1<Ie?z[un+1].el:ae;Pi[he]===0?T(null,cn,Q,Al,re,_e,de,be,Ee):ii&&(lt<0||he!==Pl[lt]?Ce(cn,Q,Al,2):lt--)}}},Ce=(B,z,Q,ae,re=null)=>{const{el:_e,type:de,transition:be,children:Ee,shapeFlag:he}=B;if(he&6){Ce(B.component.subTree,z,Q,ae);return}if(he&128){B.suspense.move(z,Q,ae);return}if(he&64){de.move(B,z,Q,Je);return}if(de===nt){i(_e,z,Q);for(let Ae=0;Ae<Ee.length;Ae++)Ce(Ee[Ae],z,Q,ae);i(B.anchor,z,Q);return}if(de===wu){P(B,z,Q);return}if(ae!==2&&he&1&&be)if(ae===0)be.beforeEnter(_e),i(_e,z,Q),Qt(()=>be.enter(_e),re);else{const{leave:Ae,delayLeave:Oe,afterLeave:Be}=be,Ye=()=>i(_e,z,Q),ot=()=>{Ae(_e,()=>{Ye(),Be&&Be()})};Oe?Oe(_e,Ye,ot):ot()}else i(_e,z,Q)},ie=(B,z,Q,ae=!1,re=!1)=>{const{type:_e,props:de,ref:be,children:Ee,dynamicChildren:he,shapeFlag:Ie,patchFlag:Ae,dirs:Oe}=B;if(be!=null&&Rf(be,null,Q,B,!0),Ie&256){z.ctx.deactivate(B);return}const Be=Ie&1&&Oe,Ye=!Ya(B);let ot;if(Ye&&(ot=de&&de.onVnodeBeforeUnmount)&&$n(ot,z,B),Ie&6)ve(B.component,Q,ae);else{if(Ie&128){B.suspense.unmount(Q,ae);return}Be&&Mi(B,null,z,"beforeUnmount"),Ie&64?B.type.remove(B,z,Q,re,Je,ae):he&&(_e!==nt||Ae>0&&Ae&64)?ue(he,z,Q,!1,!0):(_e===nt&&Ae&384||!re&&Ie&16)&&ue(Ee,z,Q),ae&&De(B)}(Ye&&(ot=de&&de.onVnodeUnmounted)||Be)&&Qt(()=>{ot&&$n(ot,z,B),Be&&Mi(B,null,z,"unmounted")},Q)},De=B=>{const{type:z,el:Q,anchor:ae,transition:re}=B;if(z===nt){K(Q,ae);return}if(z===wu){I(B);return}const _e=()=>{n(Q),re&&!re.persisted&&re.afterLeave&&re.afterLeave()};if(B.shapeFlag&1&&re&&!re.persisted){const{leave:de,delayLeave:be}=re,Ee=()=>de(Q,_e);be?be(B.el,_e,Ee):Ee()}else _e()},K=(B,z)=>{let Q;for(;B!==z;)Q=d(B),n(B),B=Q;n(z)},ve=(B,z,Q)=>{const{bum:ae,scope:re,update:_e,subTree:de,um:be}=B;ae&&Ka(ae),re.stop(),_e&&(_e.active=!1,ie(de,B,z,Q)),be&&Qt(be,z),Qt(()=>{B.isUnmounted=!0},z),z&&z.pendingBranch&&!z.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===z.pendingId&&(z.deps--,z.deps===0&&z.resolve())},ue=(B,z,Q,ae=!1,re=!1,_e=0)=>{for(let de=_e;de<B.length;de++)ie(B[de],z,Q,ae,re)},ke=B=>B.shapeFlag&6?ke(B.component.subTree):B.shapeFlag&128?B.suspense.next():d(B.anchor||B.el),Ke=(B,z,Q)=>{B==null?z._vnode&&ie(z._vnode,null,null,!0):T(z._vnode||null,B,z,null,null,null,Q),T_(),z._vnode=B},Je={p:T,um:ie,m:Ce,r:De,mt:fe,mc:M,pc:ee,pbc:W,n:ke,o:e};let Ue,Ve;return t&&([Ue,Ve]=t(Je)),{render:Ke,hydrate:Ue,createApp:X1(Ke,Ue)}}function Fi({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function sp(e,t,r=!1){const i=e.children,n=t.children;if(Re(i)&&Re(n))for(let a=0;a<i.length;a++){const s=i[a];let o=n[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=n[a]=fi(n[a]),o.el=s.el),r||sp(s,o))}}function J1(e){const t=e.slice(),r=[0];let i,n,a,s,o;const l=e.length;for(i=0;i<l;i++){const u=e[i];if(u!==0){if(n=r[r.length-1],e[n]<u){t[i]=n,r.push(i);continue}for(a=0,s=r.length-1;a<s;)o=a+s>>1,e[r[o]]<u?a=o+1:s=o;u<e[r[a]]&&(a>0&&(t[i]=r[a-1]),r[a]=i)}}for(a=r.length,s=r[a-1];a-- >0;)r[a]=s,s=t[s];return r}const Z1=e=>e.__isTeleport,po=e=>e&&(e.disabled||e.disabled===""),zv=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,Mf=(e,t)=>{const r=e&&e.to;return Pt(r)?t?t(r):null:r},ek={__isTeleport:!0,process(e,t,r,i,n,a,s,o,l,u){const{mc:c,pc:f,pbc:d,o:{insert:p,querySelector:y,createText:b,createComment:T}}=u,S=po(t.props);let{shapeFlag:w,children:D,dynamicChildren:P}=t;if(e==null){const I=t.el=b(""),L=t.anchor=b("");p(I,r,i),p(L,r,i);const A=t.target=Mf(t.props,y),R=t.targetAnchor=b("");A&&(p(R,A),s=s||zv(A));const M=(N,W)=>{w&16&&c(D,N,W,n,a,s,o,l)};S?M(r,L):A&&M(A,R)}else{t.el=e.el;const I=t.anchor=e.anchor,L=t.target=e.target,A=t.targetAnchor=e.targetAnchor,R=po(e.props),M=R?r:L,N=R?I:A;if(s=s||zv(L),P?(d(e.dynamicChildren,P,M,n,a,s,o),sp(e,t,!0)):l||f(e,t,M,N,n,a,s,o,!1),S)R||tu(t,r,I,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const W=t.target=Mf(t.props,y);W&&tu(t,W,null,u,0)}else R&&tu(t,L,A,u,1)}},remove(e,t,r,i,{um:n,o:{remove:a}},s){const{shapeFlag:o,children:l,anchor:u,targetAnchor:c,target:f,props:d}=e;if(f&&a(c),(s||!po(d))&&(a(u),o&16))for(let p=0;p<l.length;p++){const y=l[p];n(y,t,r,!0,!!y.dynamicChildren)}},move:tu,hydrate:tk};function tu(e,t,r,{o:{insert:i},m:n},a=2){a===0&&i(e.targetAnchor,t,r);const{el:s,anchor:o,shapeFlag:l,children:u,props:c}=e,f=a===2;if(f&&i(s,t,r),(!f||po(c))&&l&16)for(let d=0;d<u.length;d++)n(u[d],t,r,2);f&&i(o,t,r)}function tk(e,t,r,i,n,a,{o:{nextSibling:s,parentNode:o,querySelector:l}},u){const c=t.target=Mf(t.props,l);if(c){const f=c._lpa||c.firstChild;if(t.shapeFlag&16)if(po(t.props))t.anchor=u(s(e),t,o(e),r,i,n,a),t.targetAnchor=f;else{t.anchor=s(e);let d=f;for(;d;)if(d=s(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,c._lpa=t.targetAnchor&&s(t.targetAnchor);break}u(f,t,c,r,i,n,a)}}return t.anchor&&s(t.anchor)}const nk=ek,nt=Symbol(void 0),op=Symbol(void 0),Hn=Symbol(void 0),wu=Symbol(void 0),mo=[];let tr=null;function Ne(e=!1){mo.push(tr=e?null:[])}function rk(){mo.pop(),tr=mo[mo.length-1]||null}let Mo=1;function qv(e){Mo+=e}function H_(e){return e.dynamicChildren=Mo>0?tr||qa:null,rk(),Mo>0&&tr&&tr.push(e),e}function Zt(e,t,r,i,n,a){return H_(dt(e,t,r,i,n,a,!0))}function at(e,t,r,i,n){return H_(k(e,t,r,i,n,!0))}function Fo(e){return e?e.__v_isVNode===!0:!1}function ji(e,t){return e.type===t.type&&e.key===t.key}const Bc="__vInternal",W_=({key:e})=>e!=null?e:null,ku=({ref:e,ref_key:t,ref_for:r})=>e!=null?Pt(e)||Ze(e)||Ge(e)?{i:nn,r:e,k:t,f:!!r}:e:null;function dt(e,t=null,r=null,i=0,n=null,a=e===nt?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&W_(t),ref:t&&ku(t),scopeId:Dc,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null};return o?(lp(l,r),a&128&&e.normalize(l)):r&&(l.shapeFlag|=Pt(r)?8:16),Mo>0&&!s&&tr&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&tr.push(l),l}const k=ik;function ik(e,t=null,r=null,i=0,n=null,a=!1){if((!e||e===L_)&&(e=Hn),Fo(e)){const o=Hr(e,t,!0);return r&&lp(o,r),Mo>0&&!a&&tr&&(o.shapeFlag&6?tr[tr.indexOf(e)]=o:tr.push(o)),o.patchFlag|=-2,o}if(mk(e)&&(e=e.__vccOpts),t){t=ak(t);let{class:o,style:l}=t;o&&!Pt(o)&&(t.class=Uh(o)),At(l)&&(d_(l)&&!Re(l)&&(l=Ht({},l)),t.style=Cc(l))}const s=Pt(e)?1:E_(e)?128:Z1(e)?64:At(e)?4:Ge(e)?2:0;return dt(e,t,r,i,n,s,a,!0)}function ak(e){return e?d_(e)||Bc in e?Ht({},e):e:null}function Hr(e,t,r=!1){const{props:i,ref:n,patchFlag:a,children:s}=e,o=t?gt(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:o,key:o&&W_(o),ref:t&&t.ref?r&&n?Re(n)?n.concat(ku(t)):[n,ku(t)]:ku(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==nt?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Hr(e.ssContent),ssFallback:e.ssFallback&&Hr(e.ssFallback),el:e.el,anchor:e.anchor}}function st(e=" ",t=0){return k(op,null,e,t)}function yr(e="",t=!1){return t?(Ne(),at(Hn,null,e)):k(Hn,null,e)}function hr(e){return e==null||typeof e=="boolean"?k(Hn):Re(e)?k(nt,null,e.slice()):typeof e=="object"?fi(e):k(op,null,String(e))}function fi(e){return e.el===null||e.memo?e:Hr(e)}function lp(e,t){let r=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Re(t))r=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),lp(e,n()),n._c&&(n._d=!0));return}else{r=32;const n=t._;!n&&!(Bc in t)?t._ctx=nn:n===3&&nn&&(nn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ge(t)?(t={default:t,_ctx:nn},r=32):(t=String(t),i&64?(r=16,t=[st(t)]):r=8);e.children=t,e.shapeFlag|=r}function gt(...e){const t={};for(let r=0;r<e.length;r++){const i=e[r];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=Uh([t.class,i.class]));else if(n==="style")t.style=Cc([t.style,i.style]);else if(wc(n)){const a=t[n],s=i[n];s&&a!==s&&!(Re(a)&&a.includes(s))&&(t[n]=a?[].concat(a,s):s)}else n!==""&&(t[n]=i[n])}return t}function $n(e,t,r,i=null){jn(e,t,7,[r,i])}const sk=j_();let ok=0;function lk(e,t,r){const i=e.type,n=(t?t.appContext:e.appContext)||sk,a={uid:ok++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new Zy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:B_(i,n),emitsOptions:x_(i,n),emit:null,emitted:null,propsDefaults:pt,inheritAttrs:i.inheritAttrs,ctx:pt,data:pt,props:pt,attrs:pt,slots:pt,refs:pt,setupState:pt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=y1.bind(null,a),e.ce&&e.ce(a),a}let $t=null;const Sr=()=>$t||nn,is=e=>{$t=e,e.scope.on()},Xi=()=>{$t&&$t.scope.off(),$t=null};function z_(e){return e.vnode.shapeFlag&4}let No=!1;function uk(e,t=!1){No=t;const{props:r,children:i}=e.vnode,n=z_(e);H1(e,r,n,t),q1(e,i);const a=n?ck(e,t):void 0;return No=!1,a}function ck(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=ns(new Proxy(e.ctx,N1));const{setup:i}=r;if(i){const n=e.setupContext=i.length>1?fk(e):null;is(e),da();const a=Br(i,e,0,[e.props,n]);if(fa(),Xi(),Yy(a)){if(a.then(Xi,Xi),t)return a.then(s=>{Gv(e,s,t)}).catch(s=>{Ic(s,e,0)});e.asyncDep=a}else Gv(e,a,t)}else q_(e,t)}function Gv(e,t,r){Ge(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:At(t)&&(e.setupState=m_(t)),q_(e,r)}let Kv;function q_(e,t,r){const i=e.type;if(!e.render){if(!t&&Kv&&!i.render){const n=i.template;if(n){const{isCustomElement:a,compilerOptions:s}=e.appContext.config,{delimiters:o,compilerOptions:l}=i,u=Ht(Ht({isCustomElement:a,delimiters:o},s),l);i.render=Kv(n,u)}}e.render=i.render||nr}is(e),da(),B1(e),fa(),Xi()}function dk(e){return new Proxy(e.attrs,{get(t,r){return Rn(e,"get","$attrs"),t[r]}})}function fk(e){const t=i=>{e.exposed=i||{}};let r;return{get attrs(){return r||(r=dk(e))},slots:e.slots,emit:e.emit,expose:t}}function Uc(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(m_(ns(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Vu)return Vu[r](e)}}))}const hk=/(?:^|[-_])(\w)/g,pk=e=>e.replace(hk,t=>t.toUpperCase()).replace(/[-_]/g,"");function ju(e){return Ge(e)&&e.displayName||e.name}function G_(e,t,r=!1){let i=ju(t);if(!i&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(i=n[1])}if(!i&&e&&e.parent){const n=a=>{for(const s in a)if(a[s]===t)return s};i=n(e.components||e.parent.type.components)||n(e.appContext.components)}return i?pk(i):r?"App":"Anonymous"}function mk(e){return Ge(e)&&"__vccOpts"in e}const j=(e,t)=>o1(e,t,No);function lr(e,t,r){const i=arguments.length;return i===2?At(t)&&!Re(t)?Fo(t)?k(e,null,[t]):k(e,t):k(e,null,t):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Fo(r)&&(r=[r]),k(e,t,r))}const vk="3.2.35",gk="http://www.w3.org/2000/svg",Hi=typeof document!="undefined"?document:null,Xv=Hi&&Hi.createElement("template"),yk={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,i)=>{const n=t?Hi.createElementNS(gk,e):Hi.createElement(e,r?{is:r}:void 0);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Hi.createTextNode(e),createComment:e=>Hi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Hi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,r,i,n,a){const s=r?r.previousSibling:t.lastChild;if(n&&(n===a||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),r),!(n===a||!(n=n.nextSibling)););else{Xv.innerHTML=i?`<svg>${e}</svg>`:e;const o=Xv.content;if(i){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function _k(e,t,r){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function bk(e,t,r){const i=e.style,n=Pt(r);if(r&&!n){for(const a in r)Ff(i,a,r[a]);if(t&&!Pt(t))for(const a in t)r[a]==null&&Ff(i,a,"")}else{const a=i.display;n?t!==r&&(i.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=a)}}const Yv=/\s*!important$/;function Ff(e,t,r){if(Re(r))r.forEach(i=>Ff(e,t,i));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const i=Tk(e,t);Yv.test(r)?e.setProperty(la(i),r.replace(Yv,""),"important"):e[i]=r}}const Qv=["Webkit","Moz","ms"],Ld={};function Tk(e,t){const r=Ld[t];if(r)return r;let i=zn(t);if(i!=="filter"&&i in e)return Ld[t]=i;i=Xr(i);for(let n=0;n<Qv.length;n++){const a=Qv[n]+i;if(a in e)return Ld[t]=a}return t}const Jv="http://www.w3.org/1999/xlink";function Sk(e,t,r,i,n){if(i&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(Jv,t.slice(6,t.length)):e.setAttributeNS(Jv,t,r);else{const a=yw(t);r==null||a&&!Ky(r)?e.removeAttribute(t):e.setAttribute(t,a?"":r)}}function xk(e,t,r,i,n,a,s){if(t==="innerHTML"||t==="textContent"){i&&s(i,n,a),e[t]=r==null?"":r;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const l=r==null?"":r;(e.value!==l||e.tagName==="OPTION")&&(e.value=l),r==null&&e.removeAttribute(t);return}let o=!1;if(r===""||r==null){const l=typeof e[t];l==="boolean"?r=Ky(r):r==null&&l==="string"?(r="",o=!0):l==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(t)}const[K_,Ek]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=()=>performance.now());const r=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(r&&Number(r[1])<=53)}return[e,t]})();let Nf=0;const Ck=Promise.resolve(),wk=()=>{Nf=0},kk=()=>Nf||(Ck.then(wk),Nf=K_());function Mr(e,t,r,i){e.addEventListener(t,r,i)}function Pk(e,t,r,i){e.removeEventListener(t,r,i)}function Ak(e,t,r,i,n=null){const a=e._vei||(e._vei={}),s=a[t];if(i&&s)s.value=i;else{const[o,l]=Ik(t);if(i){const u=a[t]=Ok(i,n);Mr(e,o,u,l)}else s&&(Pk(e,o,s,l),a[t]=void 0)}}const Zv=/(?:Once|Passive|Capture)$/;function Ik(e){let t;if(Zv.test(e)){t={};let r;for(;r=e.match(Zv);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[la(e.slice(2)),t]}function Ok(e,t){const r=i=>{const n=i.timeStamp||K_();(Ek||n>=r.attached-1)&&jn(Lk(i,r.value),t,5,[i])};return r.value=e,r.attached=kk(),r}function Lk(e,t){if(Re(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const eg=/^on[a-z]/,Dk=(e,t,r,i,n=!1,a,s,o,l)=>{t==="class"?_k(e,i,n):t==="style"?bk(e,r,i):wc(t)?$h(t)||Ak(e,t,r,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Rk(e,t,i,n))?xk(e,t,i,a,s,o,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Sk(e,t,i,n))};function Rk(e,t,r,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&eg.test(t)&&Ge(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||eg.test(t)&&Pt(r)?!1:t in e}function X_(e){const t=Sr();if(!t)return;const r=()=>Bf(t.subTree,e(t.proxy));E1(r),Nn(()=>{const i=new MutationObserver(r);i.observe(t.subTree.el.parentNode,{childList:!0}),Nc(()=>i.disconnect())})}function Bf(e,t){if(e.shapeFlag&128){const r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Bf(r.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)tg(e.el,t);else if(e.type===nt)e.children.forEach(r=>Bf(r,t));else if(e.type===wu){let{el:r,anchor:i}=e;for(;r&&(tg(r,t),r!==i);)r=r.nextSibling}}function tg(e,t){if(e.nodeType===1){const r=e.style;for(const i in t)r.setProperty(`--${i}`,t[i])}}const si="transition",js="animation",ar=(e,{slots:t})=>lr(k_,Q_(e),t);ar.displayName="Transition";const Y_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Mk=ar.props=Ht({},k_.props,Y_),Ni=(e,t=[])=>{Re(e)?e.forEach(r=>r(...t)):e&&e(...t)},ng=e=>e?Re(e)?e.some(t=>t.length>1):e.length>1:!1;function Q_(e){const t={};for(const Y in e)Y in Y_||(t[Y]=e[Y]);if(e.css===!1)return t;const{name:r="v",type:i,duration:n,enterFromClass:a=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=a,appearActiveClass:u=s,appearToClass:c=o,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=e,y=Fk(n),b=y&&y[0],T=y&&y[1],{onBeforeEnter:S,onEnter:w,onEnterCancelled:D,onLeave:P,onLeaveCancelled:I,onBeforeAppear:L=S,onAppear:A=w,onAppearCancelled:R=D}=t,M=(Y,le,fe)=>{di(Y,le?c:o),di(Y,le?u:s),fe&&fe()};let N=!1;const W=(Y,le)=>{N=!1,di(Y,f),di(Y,p),di(Y,d),le&&le()},X=Y=>(le,fe)=>{const ce=Y?A:w,ye=()=>M(le,Y,fe);Ni(ce,[le,ye]),rg(()=>{di(le,Y?l:a),Or(le,Y?c:o),ng(ce)||ig(le,i,b,ye)})};return Ht(t,{onBeforeEnter(Y){Ni(S,[Y]),Or(Y,a),Or(Y,s)},onBeforeAppear(Y){Ni(L,[Y]),Or(Y,l),Or(Y,u)},onEnter:X(!1),onAppear:X(!0),onLeave(Y,le){N=!0;const fe=()=>W(Y,le);Or(Y,f),Z_(),Or(Y,d),rg(()=>{!N||(di(Y,f),Or(Y,p),ng(P)||ig(Y,i,T,fe))}),Ni(P,[Y,fe])},onEnterCancelled(Y){M(Y,!1),Ni(D,[Y])},onAppearCancelled(Y){M(Y,!0),Ni(R,[Y])},onLeaveCancelled(Y){W(Y),Ni(I,[Y])}})}function Fk(e){if(e==null)return null;if(At(e))return[Dd(e.enter),Dd(e.leave)];{const t=Dd(e);return[t,t]}}function Dd(e){return Io(e)}function Or(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function di(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function rg(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Nk=0;function ig(e,t,r,i){const n=e._endId=++Nk,a=()=>{n===e._endId&&i()};if(r)return setTimeout(a,r);const{type:s,timeout:o,propCount:l}=J_(e,t);if(!s)return i();const u=s+"end";let c=0;const f=()=>{e.removeEventListener(u,d),a()},d=p=>{p.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},o+1),e.addEventListener(u,d)}function J_(e,t){const r=window.getComputedStyle(e),i=y=>(r[y]||"").split(", "),n=i(si+"Delay"),a=i(si+"Duration"),s=ag(n,a),o=i(js+"Delay"),l=i(js+"Duration"),u=ag(o,l);let c=null,f=0,d=0;t===si?s>0&&(c=si,f=s,d=a.length):t===js?u>0&&(c=js,f=u,d=l.length):(f=Math.max(s,u),c=f>0?s>u?si:js:null,d=c?c===si?a.length:l.length:0);const p=c===si&&/\b(transform|all)(,|$)/.test(r[si+"Property"]);return{type:c,timeout:f,propCount:d,hasTransform:p}}function ag(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,i)=>sg(r)+sg(e[i])))}function sg(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Z_(){return document.body.offsetHeight}const eb=new WeakMap,tb=new WeakMap,Bk={name:"TransitionGroup",props:Ht({},Mk,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Sr(),i=w_();let n,a;return np(()=>{if(!n.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!Hk(n[0].el,r.vnode.el,s))return;n.forEach(Vk),n.forEach($k);const o=n.filter(jk);Z_(),o.forEach(l=>{const u=l.el,c=u.style;Or(u,s),c.transform=c.webkitTransform=c.transitionDuration="";const f=u._moveCb=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u._moveCb=null,di(u,s))};u.addEventListener("transitionend",f)})}),()=>{const s=Qe(e),o=Q_(s);let l=s.tag||nt;n=a,a=t.default?tp(t.default()):[];for(let u=0;u<a.length;u++){const c=a[u];c.key!=null&&rs(c,Ro(c,o,i,r))}if(n)for(let u=0;u<n.length;u++){const c=n[u];rs(c,Ro(c,o,i,r)),eb.set(c,c.el.getBoundingClientRect())}return k(l,null,a)}}},Uk=Bk;function Vk(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function $k(e){tb.set(e,e.el.getBoundingClientRect())}function jk(e){const t=eb.get(e),r=tb.get(e),i=t.left-r.left,n=t.top-r.top;if(i||n){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${i}px,${n}px)`,a.transitionDuration="0s",e}}function Hk(e,t,r){const i=e.cloneNode();e._vtc&&e._vtc.forEach(s=>{s.split(/\s+/).forEach(o=>o&&i.classList.remove(o))}),r.split(/\s+/).forEach(s=>s&&i.classList.add(s)),i.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(i);const{hasTransform:a}=J_(i);return n.removeChild(i),a}const yi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Re(t)?r=>Ka(t,r):t};function Wk(e){e.target.composing=!0}function og(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const lg={created(e,{modifiers:{lazy:t,trim:r,number:i}},n){e._assign=yi(n);const a=i||n.props&&n.props.type==="number";Mr(e,t?"change":"input",s=>{if(s.target.composing)return;let o=e.value;r&&(o=o.trim()),a&&(o=Io(o)),e._assign(o)}),r&&Mr(e,"change",()=>{e.value=e.value.trim()}),t||(Mr(e,"compositionstart",Wk),Mr(e,"compositionend",og),Mr(e,"change",og))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:i,number:n}},a){if(e._assign=yi(a),e.composing||document.activeElement===e&&e.type!=="range"&&(r||i&&e.value.trim()===t||(n||e.type==="number")&&Io(e.value)===t))return;const s=t==null?"":t;e.value!==s&&(e.value=s)}},zk={deep:!0,created(e,t,r){e._assign=yi(r),Mr(e,"change",()=>{const i=e._modelValue,n=as(e),a=e.checked,s=e._assign;if(Re(i)){const o=Vh(i,n),l=o!==-1;if(a&&!l)s(i.concat(n));else if(!a&&l){const u=[...i];u.splice(o,1),s(u)}}else if(Ts(i)){const o=new Set(i);a?o.add(n):o.delete(n),s(o)}else s(nb(e,a))})},mounted:ug,beforeUpdate(e,t,r){e._assign=yi(r),ug(e,t,r)}};function ug(e,{value:t,oldValue:r},i){e._modelValue=t,Re(t)?e.checked=Vh(t,i.props.value)>-1:Ts(t)?e.checked=t.has(i.props.value):t!==r&&(e.checked=ea(t,nb(e,!0)))}const qk={created(e,{value:t},r){e.checked=ea(t,r.props.value),e._assign=yi(r),Mr(e,"change",()=>{e._assign(as(e))})},beforeUpdate(e,{value:t,oldValue:r},i){e._assign=yi(i),t!==r&&(e.checked=ea(t,i.props.value))}},Gk={deep:!0,created(e,{value:t,modifiers:{number:r}},i){const n=Ts(t);Mr(e,"change",()=>{const a=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>r?Io(as(s)):as(s));e._assign(e.multiple?n?new Set(a):a:a[0])}),e._assign=yi(i)},mounted(e,{value:t}){cg(e,t)},beforeUpdate(e,t,r){e._assign=yi(r)},updated(e,{value:t}){cg(e,t)}};function cg(e,t){const r=e.multiple;if(!(r&&!Re(t)&&!Ts(t))){for(let i=0,n=e.options.length;i<n;i++){const a=e.options[i],s=as(a);if(r)Re(t)?a.selected=Vh(t,s)>-1:a.selected=t.has(s);else if(ea(as(a),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function as(e){return"_value"in e?e._value:e.value}function nb(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const Kk={created(e,t,r){nu(e,t,r,null,"created")},mounted(e,t,r){nu(e,t,r,null,"mounted")},beforeUpdate(e,t,r,i){nu(e,t,r,i,"beforeUpdate")},updated(e,t,r,i){nu(e,t,r,i,"updated")}};function Xk(e,t){switch(e){case"SELECT":return Gk;case"TEXTAREA":return lg;default:switch(t){case"checkbox":return zk;case"radio":return qk;default:return lg}}}function nu(e,t,r,i,n){const s=Xk(e.tagName,r.props&&r.props.type)[n];s&&s(e,t,r,i)}const Yk=["ctrl","shift","alt","meta"],Qk={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Yk.some(r=>e[`${r}Key`]&&!t.includes(r))},up=(e,t)=>(r,...i)=>{for(let n=0;n<t.length;n++){const a=Qk[t[n]];if(a&&a(r,t))return}return e(r,...i)},Jk={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Rd=(e,t)=>r=>{if(!("key"in r))return;const i=la(r.key);if(t.some(n=>n===i||Jk[n]===i))return e(r)},Ss={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Hs(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:i}){!t!=!r&&(i?t?(i.beforeEnter(e),Hs(e,!0),i.enter(e)):i.leave(e,()=>{Hs(e,!1)}):Hs(e,t))},beforeUnmount(e,{value:t}){Hs(e,t)}};function Hs(e,t){e.style.display=t?e._vod:"none"}const Zk=Ht({patchProp:Dk},yk);let dg;function eP(){return dg||(dg=Y1(Zk))}const tP=(...e)=>{const t=eP().createApp(...e),{mount:r}=t;return t.mount=i=>{const n=nP(i);if(!n)return;const a=t._component;!Ge(a)&&!a.render&&!a.template&&(a.template=n.innerHTML),n.innerHTML="";const s=r(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),s},t};function nP(e){return Pt(e)?document.querySelector(e):e}var rP=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let rb;const Vc=e=>rb=e,ib=Symbol();function Uf(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var vo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(vo||(vo={}));function iP(){const e=ua(!0),t=e.run(()=>Z({}));let r=[],i=[];const n=ns({install(a){Vc(n),n._a=a,a.provide(ib,n),a.config.globalProperties.$pinia=n,i.forEach(s=>r.push(s)),i=[]},use(a){return!this._a&&!rP?i.push(a):r.push(a),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return n}const ab=()=>{};function fg(e,t,r,i=ab){e.push(t);const n=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),i())};return!r&&Sr()&&Nc(n),n}function Ea(e,...t){e.slice().forEach(r=>{r(...t)})}function Vf(e,t){for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r],n=e[r];Uf(n)&&Uf(i)&&e.hasOwnProperty(r)&&!Ze(i)&&!mi(i)?e[r]=Vf(n,i):e[r]=i}return e}const aP=Symbol();function sP(e){return!Uf(e)||!e.hasOwnProperty(aP)}const{assign:Lr}=Object;function oP(e){return!!(Ze(e)&&e.effect)}function lP(e,t,r,i){const{state:n,actions:a,getters:s}=t,o=r.state.value[e];let l;function u(){o||(r.state.value[e]=n?n():{});const c=Qh(r.state.value[e]);return Lr(c,a,Object.keys(s||{}).reduce((f,d)=>(f[d]=ns(j(()=>{Vc(r);const p=r._s.get(e);return s[d].call(p,p)})),f),{}))}return l=sb(e,u,t,r,i,!0),l.$reset=function(){const f=n?n():{};this.$patch(d=>{Lr(d,f)})},l}function sb(e,t,r={},i,n,a){let s;const o=Lr({actions:{}},r),l={deep:!0};let u,c,f=ns([]),d=ns([]),p;const y=i.state.value[e];!a&&!y&&(i.state.value[e]={}),Z({});let b;function T(A){let R;u=c=!1,typeof A=="function"?(A(i.state.value[e]),R={type:vo.patchFunction,storeId:e,events:p}):(Vf(i.state.value[e],A),R={type:vo.patchObject,payload:A,storeId:e,events:p});const M=b=Symbol();Tn().then(()=>{b===M&&(u=!0)}),c=!0,Ea(f,R,i.state.value[e])}const S=ab;function w(){s.stop(),f=[],d=[],i._s.delete(e)}function D(A,R){return function(){Vc(i);const M=Array.from(arguments),N=[],W=[];function X(fe){N.push(fe)}function Y(fe){W.push(fe)}Ea(d,{args:M,name:A,store:I,after:X,onError:Y});let le;try{le=R.apply(this&&this.$id===e?this:I,M)}catch(fe){throw Ea(W,fe),fe}return le instanceof Promise?le.then(fe=>(Ea(N,fe),fe)).catch(fe=>(Ea(W,fe),Promise.reject(fe))):(Ea(N,le),le)}}const P={_p:i,$id:e,$onAction:fg.bind(null,d),$patch:T,$reset:S,$subscribe(A,R={}){const M=fg(f,A,R.detached,()=>N()),N=s.run(()=>Le(()=>i.state.value[e],W=>{(R.flush==="sync"?c:u)&&A({storeId:e,type:vo.direct,events:p},W)},Lr({},l,R)));return M},$dispose:w},I=xn(Lr({},P));i._s.set(e,I);const L=i._e.run(()=>(s=ua(),s.run(()=>t())));for(const A in L){const R=L[A];if(Ze(R)&&!oP(R)||mi(R))a||(y&&sP(R)&&(Ze(R)?R.value=y[A]:Vf(R,y[A])),i.state.value[e][A]=R);else if(typeof R=="function"){const M=D(A,R);L[A]=M,o.actions[A]=R}}return Lr(I,L),Lr(Qe(I),L),Object.defineProperty(I,"$state",{get:()=>i.state.value[e],set:A=>{T(R=>{Lr(R,A)})}}),i._p.forEach(A=>{Lr(I,s.run(()=>A({store:I,app:i._a,pinia:i,options:o})))}),y&&a&&r.hydrate&&r.hydrate(I.$state,y),u=!0,c=!0,I}function cp(e,t,r){let i,n;const a=typeof t=="function";typeof e=="string"?(i=e,n=a?r:t):(n=e,i=e.id);function s(o,l){const u=Sr();return o=o||u&&ut(ib),o&&Vc(o),o=rb,o._s.has(i)||(a?sb(i,t,n,o):lP(i,n,o)),o._s.get(i)}return s.$id=i,s}function uP(e){return typeof e=="object"&&e!==null}function cP(e,t){return e=uP(e)?e:Object.create(null),new Proxy(e,{get(r,i,n){return Reflect.get(r,i,n)||Reflect.get(t,i,n)}})}function dP(e,t){return t.reduce((r,i)=>r==null?void 0:r[i],e)}function fP(e,t,r){return t.slice(0,-1).reduce((i,n)=>/^(__proto__)$/.test(n)?{}:i[n]=i[n]||{},e)[t[t.length-1]]=r,e}function hP(e,t){return t.reduce((r,i)=>{const n=i.split(".");return fP(r,n,dP(e,n))},{})}function pP(e={}){return function(t){const{options:{persist:r},store:i}=t;if(!r)return;const{storage:n=localStorage,beforeRestore:a=null,afterRestore:s=null,serializer:o={serialize:JSON.stringify,deserialize:JSON.parse},key:l=i.$id,paths:u=null}=cP(r,e);a==null||a(t);try{const c=n.getItem(l);c&&i.$patch(o.deserialize(c))}catch{}s==null||s(t),i.$subscribe((c,f)=>{try{const d=Array.isArray(u)?hP(f,u):f;n.setItem(l,o.serialize(d))}catch{}},{detached:!0})}}var mP=pP();class Pu{constructor(t){let{x:r,y:i,width:n,height:a}=t;this.x=r,this.y=i,this.width=n,this.height=a}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function dp(e){const t=e.getBoundingClientRect(),r=getComputedStyle(e),i=r.transform;if(i){let n,a,s,o,l;if(i.startsWith("matrix3d("))n=i.slice(9,-1).split(/, /),a=+n[0],s=+n[5],o=+n[12],l=+n[13];else if(i.startsWith("matrix("))n=i.slice(7,-1).split(/, /),a=+n[0],s=+n[3],o=+n[4],l=+n[5];else return new Pu(t);const u=r.transformOrigin,c=t.x-o-(1-a)*parseFloat(u),f=t.y-l-(1-s)*parseFloat(u.slice(u.indexOf(" ")+1)),d=a?t.width/a:e.offsetWidth,p=s?t.height/s:e.offsetHeight;return new Pu({x:c,y:f,width:d,height:p})}else return new Pu(t)}function ob(e,t,r){if(r&&(t={_isVue:!0,$parent:r,$options:t}),t){if(t.$_alreadyWarned=t.$_alreadyWarned||[],t.$_alreadyWarned.includes(e))return;t.$_alreadyWarned.push(e)}return`[Vuetify] ${e}`+(t?yP(t):"")}function Ja(e,t,r){const i=ob(e,t,r);i!=null&&console.warn(i)}function hg(e,t,r){const i=ob(e,t,r);i!=null&&console.error(i)}const vP=/(?:^|[-_])(\w)/g,gP=e=>e.replace(vP,t=>t.toUpperCase()).replace(/[-_]/g,"");function Md(e,t){if(e.$root===e)return"<Root>";const r=typeof e=="function"&&e.cid!=null?e.options:e._isVue?e.$options||e.constructor.options:e||{};let i=r.name||r._componentTag;const n=r.__file;if(!i&&n){const a=n.match(/([^/\\]+)\.vue$/);i=a==null?void 0:a[1]}return(i?`<${gP(i)}>`:"<Anonymous>")+(n&&t!==!1?` at ${n}`:"")}function yP(e){if(e._isVue&&e.$parent){const t=[];let r=0;for(;e;){if(t.length>0){const i=t[t.length-1];if(i.constructor===e.constructor){r++,e=e.$parent;continue}else r>0&&(t[t.length-1]=[i,r],r=0)}t.push(e),e=e.$parent}return`

found in

`+t.map((i,n)=>`${n===0?"---> ":" ".repeat(5+n*2)}${Array.isArray(i)?`${Md(i[0])}... (${i[1]} recursive calls)`:Md(i)}`).join(`
`)}else return`

(found in ${Md(e)})`}function pg(e,t,r){_P(e,t),t.set(e,r)}function _P(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function bP(e,t,r){var i=lb(e,t,"set");return TP(e,i,r),r}function TP(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function Bi(e,t){var r=lb(e,t,"get");return SP(e,r)}function lb(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function SP(e,t){return t.get?t.get.call(e):t.value}function ub(e,t,r){const i=t.length-1;if(i<0)return e===void 0?r:e;for(let n=0;n<i;n++){if(e==null)return r;e=e[t[n]]}return e==null||e[t[i]]===void 0?r:e[t[i]]}function fp(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const r=Object.keys(e);return r.length!==Object.keys(t).length?!1:r.every(i=>fp(e[i],t[i]))}function Hu(e,t,r){return e==null||!t||typeof t!="string"?r:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),ub(e,t.split("."),r))}function $f(e,t,r){if(t==null)return e===void 0?r:e;if(e!==Object(e))return r===void 0?e:r;if(typeof t=="string")return Hu(e,t,r);if(Array.isArray(t))return ub(e,t,r);if(typeof t!="function")return r;const i=t(e,r);return typeof i=="undefined"?r:i}function xP(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(r,i)=>t+i)}function $e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function jf(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function EP(e){return e==null?void 0:e.$el}const mg=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function il(e,t){const r=Object.create(null),i=Object.create(null);for(const n in e)t.some(a=>a instanceof RegExp?a.test(n):a===n)?r[n]=e[n]:i[n]=e[n];return[r,i]}function CP(e){return il(e,["class","style","id",/^data-/])}function ta(e){return e==null?[]:Array.isArray(e)?e:[e]}function cb(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(r,e))}function na(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const i={};for(const n in e)i[n]=e[n];for(const n in t){const a=e[n],s=t[n];if(jf(a)&&jf(s)){i[n]=na(a,s,r);continue}if(Array.isArray(a)&&Array.isArray(s)&&r){i[n]=r(a,s);continue}i[n]=s}return i}function xr(){return xr._uid++}xr._uid=0;function db(e){return e.map(t=>t.type===nt?db(t.children):t).flat()}function hp(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase()}function go(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(r=>go(e,r)).flat(1);if(Array.isArray(t.children))return t.children.map(r=>go(e,r)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return go(e,t.component.subTree).flat(1)}return[]}var ru=new WeakMap,Ca=new WeakMap;class wP{constructor(t){pg(this,ru,{writable:!0,value:[]}),pg(this,Ca,{writable:!0,value:0}),this.size=t}push(t){Bi(this,ru)[Bi(this,Ca)]=t,bP(this,Ca,(Bi(this,Ca)+1)%this.size)}values(){return Bi(this,ru).slice(Bi(this,Ca)).concat(Bi(this,ru).slice(0,Bi(this,Ca)))}}const kP=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],PP=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,AP=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],IP=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function fb(e){const t=Array(3),r=PP,i=kP;for(let n=0;n<3;++n)t[n]=Math.round(cb(r(i[n][0]*e[0]+i[n][1]*e[1]+i[n][2]*e[2]))*255);return(t[0]<<16)+(t[1]<<8)+(t[2]<<0)}function pp(e){const t=[0,0,0],r=IP,i=AP,n=r((e>>16&255)/255),a=r((e>>8&255)/255),s=r((e>>0&255)/255);for(let o=0;o<3;++o)t[o]=i[o][0]*n+i[o][1]*a+i[o][2]*s;return t}const Wu=.20689655172413793,OP=e=>e>Wu**3?Math.cbrt(e):e/(3*Wu**2)+4/29,LP=e=>e>Wu?e**3:3*Wu**2*(e-4/29);function hb(e){const t=OP,r=t(e[1]);return[116*r-16,500*(t(e[0]/.95047)-r),200*(r-t(e[2]/1.08883))]}function pb(e){const t=LP,r=(e[0]+16)/116;return[t(r+e[1]/500)*.95047,t(r),t(r-e[2]/200)*1.08883]}function vg(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function zu(e){let t;if(typeof e=="number")t=e;else if(typeof e=="string"){let r=e.startsWith("#")?e.substring(1):e;r.length===3&&(r=r.split("").map(i=>i+i).join("")),r.length!==6&&Ja(`'${e}' is not a valid rgb color`),t=parseInt(r,16)}else throw new TypeError(`Colors can only be numbers or strings, recieved ${e==null?e:e.constructor.name} instead`);return t<0?(Ja(`Colors cannot be negative: '${e}'`),t=0):(t>16777215||isNaN(t))&&(Ja(`'${e}' is not a valid rgb color`),t=16777215),t}function DP(e){let t=e.toString(16);return t.length<6&&(t="0".repeat(6-t.length)+t),"#"+t}function gg(e){const t=zu(e);return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255}}function RP(e,t){const r=hb(pp(e));return r[0]=r[0]+t*10,fb(pb(r))}function MP(e,t){const r=hb(pp(e));return r[0]=r[0]-t*10,fb(pb(r))}function FP(e){const t=zu(e);return pp(t)[1]}const qu=Symbol.for("vuetify:defaults");function NP(e){return Z(e!=null?e:{})}function mb(){const e=ut(qu);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function Qr(e,t){const r=mb(),i=Z(e),n=j(()=>{const a=ne(t==null?void 0:t.scoped),s=ne(t==null?void 0:t.reset),o=ne(t==null?void 0:t.root);let l=na(i.value,{prev:r.value});if(a)return l;if(s||o){const u=Number(s||1/0);for(let c=0;c<=u&&l.prev;c++)l=l.prev;return l}return na(l.prev,l)});return rn(qu,n),n}function BP(e,t){var r,i;return((r=e.props)==null?void 0:r.hasOwnProperty(t))||((i=e.props)==null?void 0:i.hasOwnProperty(hp(t)))}const He=function(t){var r;if(t._setup=(r=t._setup)!=null?r:t.setup,!t.name)return Ja("The component is missing an explicit name, unable to generate default prop value"),t;if(t._setup){var i;t.props=(i=t.props)!=null?i:{},t.props._as=String,t.setup=function(a,s){const o=Sr(),l=mb(),u=Xa(),c=c_(H({},Qe(a)));Tr(()=>{var p;const y=l.value.global,b=l.value[(p=a._as)!=null?p:t.name];if(b){const w=Object.entries(b).filter(D=>{let[P]=D;return P.startsWith("V")});w.length&&(u.value=Object.fromEntries(w))}for(const w of Object.keys(a)){let D;if(BP(o.vnode,w))D=a[w];else{var T,S;D=(T=(S=b==null?void 0:b[w])!=null?S:y==null?void 0:y[w])!=null?T:a[w]}c[w]!==D&&(c[w]=D)}});const f=t._setup(c,s);let d;return Le(u,(p,y)=>{!p&&d?d.stop():p&&!y&&(d=ua(),d.run(()=>{Qr(p)}))},{immediate:!0}),f}}return t};function sn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?He:Gt)(t)}function Gn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",r=arguments.length>2?arguments[2]:void 0;return He({name:r!=null?r:Xr(zn(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t}},setup(i,n){let{slots:a}=n;return()=>{var s;return lr(i.tag,{class:e},(s=a.default)==null?void 0:s.call(a))}}})}function vb(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const mp="cubic-bezier(0.4, 0, 0.2, 1)",UP="cubic-bezier(0.0, 0, 0.2, 1)",VP="cubic-bezier(0.4, 0, 1, 1)";function Kn(e,t){const r=Sr();if(!r)throw new Error(`[Vuetify] ${e} ${t||"must be called from inside a setup function"}`);return r}function Jr(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";return hp((e=Kn(t).type)==null?void 0:e.name)}function gb(e){for(;e;){if(vp(e))return e;e=e.parentElement}return document.scrollingElement}function Hf(e){const t=[];for(;e;)vp(e)&&t.push(e),e=e.parentElement;return t}function vp(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}const Mt=typeof window!="undefined",gp=Mt&&"IntersectionObserver"in window,$P=Mt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),jP=Mt&&CSS.supports("selector(:focus-visible)");function HP(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function it(e,t){return r=>Object.keys(e).reduce((i,n)=>{const s=typeof e[n]=="object"&&e[n]!=null&&!Array.isArray(e[n])?e[n]:{type:e[n]};return r&&n in r?i[n]=et(H({},s),{default:r[n]}):i[n]=s,t&&(i[n].source=t),i},{})}function Ft(e){const t=Kn("useRender");t.render=e}const yg=["x-small","small","default","large","x-large"],al=it({size:{type:[String,Number],default:"default"}},"size");function sl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jr();const r=j(()=>yg.includes(e.size)?`${t}--size-${e.size}`:null),i=j(()=>!yg.includes(e.size)&&e.size?{width:$e(e.size),height:$e(e.size)}:null);return{sizeClasses:r,sizeStyles:i}}const St=it({tag:{type:String,default:"div"}},"tag"),Wf=Symbol.for("vuetify:icons"),$c=it({icon:{type:[String,Object],required:!0},tag:{type:String,required:!0}},"icon"),WP=He({name:"VComponentIcon",props:$c(),setup(e){return()=>k(e.tag,null,{default:()=>[k(e.icon,null,null)]})}}),zP=He({name:"VSvgIcon",inheritAttrs:!1,props:$c(),setup(e,t){let{attrs:r}=t;return()=>k(e.tag,gt(r,{style:null}),{default:()=>[k("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[k("path",{d:e.icon},null)])]})}});He({name:"VLigatureIcon",props:$c(),setup(e){return()=>k(e.tag,null,{default:()=>[e.icon]})}});const yb=He({name:"VClassIcon",props:$c(),setup(e){return()=>k(e.tag,{class:e.icon},null)}}),qP={svg:{component:zP},class:{component:yb}},GP=e=>{const t=ut(Wf);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:j(()=>{const i=Ze(e)?e.value:e.icon;if(!i)throw new Error("Icon value is undefined or null");let n=i;if(typeof i=="string"&&i.includes("$")){var a;n=(a=t.aliases)==null?void 0:a[i.slice(i.indexOf("$")+1)]}if(!n)throw new Error(`Could not find aliased icon "${i}"`);if(typeof n!="string")return{component:WP,icon:n};const s=Object.keys(t.sets).find(u=>typeof n=="string"&&n.startsWith(`${u}:`)),o=s?n.slice(s.length+1):n;return{component:t.sets[s!=null?s:t.defaultSet].component,icon:o}})}};function yp(e){const t=j(()=>vg(e.value.background)),r=j(()=>vg(e.value.text)),i=j(()=>{const a=[];return e.value.background&&!t.value&&a.push(`bg-${e.value.background}`),e.value.text&&!r.value&&a.push(`text-${e.value.text}`),a}),n=j(()=>{const a={};return e.value.background&&t.value&&(a.backgroundColor=e.value.background),e.value.text&&r.value&&(a.color=e.value.text,a.caretColor=e.value.text),a});return{colorClasses:i,colorStyles:n}}function _i(e,t){const r=j(()=>({text:Ze(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:n}=yp(r);return{textColorClasses:i,textColorStyles:n}}function sr(e,t){const r=j(()=>({background:Ze(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:n}=yp(r);return{backgroundColorClasses:i,backgroundColorStyles:n}}const wa=2.4,_g=.2126729,bg=.7151522,Tg=.072175,KP=.55,XP=.58,YP=.57,QP=.62,iu=.03,Sg=1.45,JP=5e-4,ZP=1.25,eA=1.25,xg=.078,Eg=12.82051282051282,au=.06,Cg=.001;function wg(e,t){const r=((e>>16&255)/255)**wa,i=((e>>8&255)/255)**wa,n=((e>>0&255)/255)**wa,a=((t>>16&255)/255)**wa,s=((t>>8&255)/255)**wa,o=((t>>0&255)/255)**wa;let l=r*_g+i*bg+n*Tg,u=a*_g+s*bg+o*Tg;if(l<=iu&&(l+=(iu-l)**Sg),u<=iu&&(u+=(iu-u)**Sg),Math.abs(u-l)<JP)return 0;let c;if(u>l){const f=(u**KP-l**XP)*ZP;c=f<Cg?0:f<xg?f-f*Eg*au:f-au}else{const f=(u**QP-l**YP)*eA;c=f>-Cg?0:f>-xg?f-f*Eg*au:f+au}return c*100}const Gu=Symbol.for("vuetify:theme"),Nt=it({theme:String},"theme"),Ws={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"kbd-background-color":"#212529","kbd-color":"#FFFFFF","code-background-color":"#C2C2C2"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"kbd-background-color":"#212529","kbd-color":"#FFFFFF","code-background-color":"#B7B7B7"}}}},tA=function(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ws;if(!t)return et(H({},Ws),{isDisabled:!0});const r=Object.entries((e=t.themes)!=null?e:{}).reduce((i,n)=>{var a,s;let[o,l]=n;const u=l.dark?(a=Ws.themes)==null?void 0:a.dark:(s=Ws.themes)==null?void 0:s.light;return i[o]=na(u,l),i},{});return na(Ws,et(H({},t),{themes:r}))};function nA(e,t){const r=e._context.provides.usehead,i=tA(t),n=Z(),a=Z(i.defaultTheme),s=Z(i.themes),o=Z(i.variations),l=j(()=>Object.entries(s.value).reduce((b,T)=>{var S;let[w,D]=T;const P=et(H({},D),{colors:H(H({},D.colors),((S=i.variations.colors)!=null?S:[]).reduce((I,L)=>H(H({},I),u(L,D.colors[L])),{}))});for(const I of Object.keys(P.colors)){if(/on-[a-z]/.test(I)||P.colors[`on-${I}`])continue;const L=`on-${I}`,A=zu(P.colors[I]),R=Math.abs(wg(0,A)),M=Math.abs(wg(16777215,A));P.colors[L]=M>Math.min(R,50)?"#fff":"#000"}return b[w]=P,b},{}));function u(b,T){const S={};for(const w of["lighten","darken"]){const D=w==="lighten"?RP:MP;for(const P of xP(o.value[w],1))S[`${b}-${w}-${P}`]=DP(D(zu(T),P))}return S}const c=j(()=>{const b=[];for(const S of Object.keys(l.value)){const w=l.value[S].variables;b.push(...d(`.v-theme--${S}`,[...f(S),...Object.keys(w).map(D=>{const P=w[D],I=typeof P=="string"&&P.startsWith("#")?gg(P):void 0,L=I?`${I.r}, ${I.g}, ${I.b}`:void 0;return`--v-${D}: ${L!=null?L:P}`})]))}const T=new Set(Object.values(l.value).flatMap(S=>Object.keys(S.colors)));for(const S of T)/on-[a-z]/.test(S)?b.push(...d(`.${S}`,[`color: rgb(var(--v-theme-${S})) !important`])):b.push(...d(`.bg-${S}`,[`--v-theme-overlay-multiplier: var(--v-theme-${S}-overlay-multiplier)`,`background: rgb(var(--v-theme-${S})) !important`,`color: rgb(var(--v-theme-on-${S})) !important`]),...d(`.text-${S}`,[`color: rgb(var(--v-theme-${S})) !important`]),...d(`.border-${S}`,[`--v-border-color: var(--v-theme-${S})`]));return b.map((S,w)=>w===0?S:`    ${S}`).join("")});function f(b){const T=l.value[b];if(!T)throw new Error(`Could not find theme ${b}`);const S=T.dark?2:1,w=T.dark?1:2,D=[];for(const[P,I]of Object.entries(T.colors)){const L=gg(I);D.push(`--v-theme-${P}: ${L.r},${L.g},${L.b}`),P.startsWith("on-")||D.push(`--v-theme-${P}-overlay-multiplier: ${FP(I)>.18?S:w}`)}return D}function d(b,T){return[`${b} {
`,...T.map(S=>`  ${S};
`),`}
`]}if(r)r.addHeadObjs(j(()=>({style:[{children:c.value,type:"text/css",id:"vuetify-theme-stylesheet"}]}))),Mt&&Tr(()=>r.updateDOM());else{let b=function(){i.isDisabled||(T(),n.value&&(n.value.innerHTML=c.value))},T=function(){if(typeof document=="undefined"||n.value)return;const S=document.createElement("style");S.type="text/css",S.id="vuetify-theme-stylesheet",n.value=S,document.head.appendChild(n.value)};var p=b,y=T;Le(s,b,{deep:!0,immediate:!0})}return{isDisabled:i.isDisabled,themes:l,setTheme:(b,T)=>s.value[b]=T,getTheme:b=>l.value[b],current:a,themeClasses:j(()=>i.isDisabled?void 0:`v-theme--${a.value}`),styles:c}}function Kt(e){Kn("provideTheme");const t=ut(Gu,null);if(!t)throw new Error("Could not find Vuetify theme injection");const r=j(()=>{var a;return(a=e.theme)!=null?a:t==null?void 0:t.current.value}),i=j(()=>t.isDisabled?void 0:`v-theme--${r.value}`),n=et(H({},t),{current:r,themeClasses:i});return rn(Gu,n),n}const _b=it(H(H(H({color:String,start:Boolean,end:Boolean,icon:{type:[String,Object]}},al()),St({tag:"i"})),Nt()),"v-icon"),kt=He({name:"VIcon",props:_b(),setup(e,t){let{attrs:r,slots:i}=t,n;i.default&&(n=j(()=>{var c,f;const d=(c=i.default)==null?void 0:c.call(i);if(!!d)return(f=db(d).filter(p=>p.children&&typeof p.children=="string")[0])==null?void 0:f.children}));const{themeClasses:a}=Kt(e),{iconData:s}=GP(n||e),{sizeClasses:o}=sl(e),{textColorClasses:l,textColorStyles:u}=_i(ze(e,"color"));return()=>k(s.value.component,{tag:e.tag,icon:s.value.icon,class:["v-icon","notranslate",o.value,l.value,a.value,{"v-icon--clickable":!!r.onClick,"v-icon--start":e.start,"v-icon--end":e.end}],style:[o.value?void 0:{fontSize:$e(e.size),width:$e(e.size),height:$e(e.size)},u.value],"aria-hidden":"true"},null)}});const pa=it({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function ma(e){return{dimensionStyles:j(()=>({height:$e(e.height),maxHeight:$e(e.maxHeight),maxWidth:$e(e.maxWidth),minHeight:$e(e.minHeight),minWidth:$e(e.minWidth),width:$e(e.width)}))}}function rA(e){return{aspectStyles:j(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const iA=He({name:"VResponsive",props:H({aspectRatio:[String,Number],contentClass:String},pa()),setup(e,t){let{slots:r}=t;const{dimensionStyles:i}=ma(e),{aspectStyles:n}=rA(e);return()=>{var a;return k("div",{class:"v-responsive",style:i.value},[k("div",{class:"v-responsive__sizer",style:n.value},null),(a=r.additional)==null?void 0:a.call(r),r.default&&k("div",{class:["v-responsive__content",e.contentClass]},[r.default()])])}}});function aA(e,t){if(!gp)return;const r=t.modifiers||{},i=t.value,{handler:n,options:a}=typeof i=="object"?i:{handler:i,options:{}},s=new IntersectionObserver(function(){var o;let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=arguments.length>1?arguments[1]:void 0;const c=(o=e._observe)==null?void 0:o[t.instance.$.uid];if(!c)return;const f=l.some(d=>d.isIntersecting);n&&(!r.quiet||c.init)&&(!r.once||f||c.init)&&n(f,l,u),f&&r.once?bb(e,t):c.init=!0},a);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:s},s.observe(e)}function bb(e,t){var r;const i=(r=e._observe)==null?void 0:r[t.instance.$.uid];!i||(i.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const sA={mounted:aA,unmounted:bb};var Tb=sA;const Er=it({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),qi=(e,t)=>{var r;let{slots:i}=t;const l=e,{transition:n}=l,a=dr(l,["transition"]);if(!n||typeof n=="boolean")return(r=i.default)==null?void 0:r.call(i);const u=typeof n=="object"?n:{},{component:s=ar}=u,o=dr(u,["component"]);return lr(s,gt(typeof n=="string"?{name:n}:o,a),i)},ra=He({name:"VImg",directives:{intersect:Tb},props:H({aspectRatio:[String,Number],alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,width:[String,Number]},Er()),emits:["loadstart","load","error"],setup(e,t){let{emit:r,slots:i}=t;const n=Z(""),a=Z(),s=Z(e.eager?"loading":"idle"),o=Z(),l=Z(),u=j(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),c=j(()=>u.value.aspect||o.value/l.value||0);Le(()=>e.src,()=>{f(s.value!=="idle")}),rl(()=>f());function f(A){if(!(e.eager&&A)&&!(gp&&!A&&!e.eager)){if(s.value="loading",u.value.lazySrc){const R=new Image;R.src=u.value.lazySrc,b(R,null)}!u.value.src||Tn(()=>{var R,M;if(r("loadstart",((R=a.value)==null?void 0:R.currentSrc)||u.value.src),(M=a.value)!=null&&M.complete){if(a.value.naturalWidth||p(),s.value==="error")return;c.value||b(a.value,null),d()}else c.value||b(a.value),y()})}}function d(){var A;y(),s.value="loaded",r("load",((A=a.value)==null?void 0:A.currentSrc)||u.value.src)}function p(){var A;s.value="error",r("error",((A=a.value)==null?void 0:A.currentSrc)||u.value.src)}function y(){const A=a.value;A&&(n.value=A.currentSrc||A.src)}function b(A){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const M=()=>{const{naturalHeight:N,naturalWidth:W}=A;N||W?(o.value=W,l.value=N):!A.complete&&s.value==="loading"&&R!=null?setTimeout(M,R):(A.currentSrc.endsWith(".svg")||A.currentSrc.startsWith("data:image/svg+xml"))&&(o.value=1,l.value=1)};M()}const T=j(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),S=j(()=>{var A;if(!u.value.src||s.value==="idle")return;const R=lr("img",{class:["v-img__img",T.value],src:u.value.src,srcset:u.value.srcset,sizes:e.sizes,ref:a,onLoad:d,onError:p}),M=(A=i.sources)==null?void 0:A.call(i);return k(qi,{transition:e.transition,appear:!0},{default:()=>[Mn(M?k("picture",{class:"v-img__picture"},[M,R]):R,[[Ss,s.value==="loaded"]])]})}),w=j(()=>k(qi,{transition:e.transition},{default:()=>[u.value.lazySrc&&s.value!=="loaded"&&k("img",{class:["v-img__img","v-img__img--preload",T.value],src:u.value.lazySrc,alt:""},null)]})),D=j(()=>{if(!!i.placeholder)return k(qi,{transition:e.transition,appear:!0},{default:()=>[(s.value==="loading"||s.value==="error"&&!i.error)&&k("div",{class:"v-img__placeholder"},[i.placeholder()])]})}),P=j(()=>{if(!!i.error)return k(qi,{transition:e.transition,appear:!0},{default:()=>[s.value==="error"&&k("div",{class:"v-img__error"},[i.error()])]})}),I=j(()=>{if(!!e.gradient)return k("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null)}),L=Z(!1);{const A=Le(c,R=>{R&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{L.value=!0})}),A())})}return Ft(()=>Mn(k(iA,{class:["v-img",{"v-img--booting":!L.value}],style:{width:$e(e.width==="auto"?o.value:e.width)},aspectRatio:c.value,"aria-label":e.alt,role:e.alt?"img":void 0},{additional:()=>[S.value,w.value,I.value,D.value,P.value],default:i.default}),[[ha("intersect"),{handler:f,options:e.options},null,{once:!0}]])),{currentSrc:n,image:a,state:s,naturalWidth:o,naturalHeight:l}}}),oA=[null,"default","comfortable","compact"],Cr=it({density:{type:String,default:"default",validator:e=>oA.includes(e)}},"density");function wr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jr();return{densityClasses:j(()=>`${t}--density-${e.density}`)}}const Xn=it({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function Yn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jr();return{roundedClasses:j(()=>{const i=Ze(e)?e.value:e.rounded,n=[];if(i===!0||i==="")n.push(`${t}--rounded`);else if(typeof i=="string"||i===0)for(const a of String(i).split(" "))n.push(`rounded-${a}`);return n})}}const Sb=it(H(H(H(H({color:String,start:Boolean,end:Boolean,icon:String,image:String},Cr()),Xn()),al()),St())),ia=He({name:"VAvatar",props:Sb(),setup(e,t){let{slots:r}=t;const{backgroundColorClasses:i,backgroundColorStyles:n}=sr(ze(e,"color")),{densityClasses:a}=wr(e),{roundedClasses:s}=Yn(e),{sizeClasses:o,sizeStyles:l}=sl(e);return Ft(()=>{var u;return k(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},i.value,a.value,s.value,o.value],style:[n.value,l.value]},{default:()=>[e.image?k(ra,{src:e.image,alt:""},null):e.icon?k(kt,{icon:e.icon},null):(u=r.default)==null?void 0:u.call(r)]})}),{}}});const xb=He({name:"VCardActions",setup(e,t){let{slots:r}=t;return Qr({VBtn:{variant:"text"}}),Ft(()=>{var i;return k("div",{class:"v-card-actions"},[r==null||(i=r.default)==null?void 0:i.call(r)])}),{}}}),kg=Gn("v-card-avatar"),Bo=Gn("v-card-content"),lA=Gn("v-card-header"),uA=Gn("v-card-header-text"),cA=Gn("v-card-img"),dA=Gn("v-card-subtitle"),Eb=Gn("v-card-text"),Cb=Gn("v-card-title"),Ei=it({border:[Boolean,Number,String]},"border");function Ci(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jr();return{borderClasses:j(()=>{const i=[];if(e.border!=null&&e.border!==!1&&i.push(`${t}--border`),typeof e.border=="string"&&e.border!==""||e.border===0)for(const n of String(e.border).split(" "))i.push(`border-${n}`);return i})}}const Zr=it({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function ei(e){return{elevationClasses:j(()=>{const r=Ze(e)?e.value:e.elevation,i=[];return r==null||i.push(`elevation-${r}`),i})}}const fA=["static","relative","fixed","absolute","sticky"],_p=it({absolute:Boolean,bottom:[Boolean,Number,String],fixed:Boolean,left:[Boolean,Number,String],position:{type:String,validator:e=>fA.includes(e)},right:[Boolean,Number,String],top:[Boolean,Number,String]},"position");function bp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jr();const r=["top","right","bottom","left"],i=j(()=>e.fixed?`${t}--fixed`:e.absolute?`${t}--absolute`:e.position?`position-${e.position}`:void 0),n=j(()=>{const a={};for(const s of r){const o=e[s];o==null||o===!1||(a[s]=$e(o===!0?"0":String(o)))}return a});return{positionClasses:i,positionStyles:n}}function wb(){var e,t;return(e=Kn("useRouter"))==null||(t=e.proxy)==null?void 0:t.$router}function jc(e,t){const r=D_("RouterLink"),i=j(()=>!!(e.href||e.to)),n=j(()=>(i==null?void 0:i.value)||!!(t.onClick||t.onClickOnce));if(typeof r=="string")return{isLink:i,isClickable:n,href:ze(e,"href")};const a=e.to?r.useLink(e):void 0;return et(H({},a),{isLink:i,isClickable:n,href:j(()=>e.to?a==null?void 0:a.route.value.href:e.href)})}const ol=it({href:String,replace:Boolean,to:[String,Object]},"router");let Fd=!1;function hA(e){const t=wb();let r=!1,i,n;Nn(()=>{window.addEventListener("popstate",a),i=t==null?void 0:t.beforeEach((s,o,l)=>{Fd?r?e(l):l():setTimeout(()=>r?e(l):l()),Fd=!0}),n=t==null?void 0:t.afterEach(()=>{Fd=!1})}),Bn(()=>{var s,o;window.removeEventListener("popstate",a),(s=i)==null||s(),(o=n)==null||o()});function a(s){var o;(o=s.state)!=null&&o.replaced||(r=!0,setTimeout(()=>r=!1))}}const pA=["outlined","plain","text","contained","contained-flat","contained-text"];function ll(e,t){return k(nt,null,[e&&k("div",{class:`${t}__overlay`},null),k("div",{class:`${t}__underlay`},null)])}const wi=it({color:String,variant:{type:String,default:"contained",validator:e=>pA.includes(e)}},"variant");function ul(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jr();const r=j(()=>{const{variant:a}=ne(e);return`${t}--variant-${a}`}),{colorClasses:i,colorStyles:n}=yp(j(()=>{const{variant:a,color:s}=ne(e);return{[["contained","contained-flat"].includes(a)?"background":"text"]:s}}));return{colorClasses:i,colorStyles:n,variantClasses:r}}const zf=Symbol("rippleStop"),mA=80;function Pg(e,t){e.style.transform=t,e.style.webkitTransform=t}function Nd(e,t){e.style.opacity=`calc(${t} * var(--v-theme-overlay-multiplier))`}function qf(e){return e.constructor.name==="TouchEvent"}function kb(e){return e.constructor.name==="KeyboardEvent"}const vA=function(e,t){var r;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=0,a=0;if(!kb(e)){const d=t.getBoundingClientRect(),p=qf(e)?e.touches[e.touches.length-1]:e;n=p.clientX-d.left,a=p.clientY-d.top}let s=0,o=.3;(r=t._ripple)!=null&&r.circle?(o=.15,s=t.clientWidth/2,s=i.center?s:s+Math.sqrt((n-s)**2+(a-s)**2)/4):s=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const l=`${(t.clientWidth-s*2)/2}px`,u=`${(t.clientHeight-s*2)/2}px`,c=i.center?l:`${n-s}px`,f=i.center?u:`${a-s}px`;return{radius:s,scale:o,x:c,y:f,centerX:l,centerY:u}},Ku={show(e,t){var r;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(t!=null&&(r=t._ripple)!=null&&r.enabled))return;const n=document.createElement("span"),a=document.createElement("span");n.appendChild(a),n.className="v-ripple__container",i.class&&(n.className+=` ${i.class}`);const{radius:s,scale:o,x:l,y:u,centerX:c,centerY:f}=vA(e,t,i),d=`${s*2}px`;a.className="v-ripple__animation",a.style.width=d,a.style.height=d,t.appendChild(n);const p=window.getComputedStyle(t);p&&p.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),a.classList.add("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--visible"),Pg(a,`translate(${l}, ${u}) scale3d(${o},${o},${o})`),Nd(a,0),a.dataset.activated=String(performance.now()),setTimeout(()=>{a.classList.remove("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--in"),Pg(a,`translate(${c}, ${f}) scale3d(1,1,1)`),Nd(a,.08)},0)},hide(e){var t;if(!(e!=null&&(t=e._ripple)!=null&&t.enabled))return;const r=e.getElementsByClassName("v-ripple__animation");if(r.length===0)return;const i=r[r.length-1];if(i.dataset.isHiding)return;i.dataset.isHiding="true";const n=performance.now()-Number(i.dataset.activated),a=Math.max(250-n,0);setTimeout(()=>{i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),Nd(i,0),setTimeout(()=>{e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),i.parentNode&&e.removeChild(i.parentNode)},300)},a)}};function Pb(e){return typeof e=="undefined"||!!e}function Uo(e){const t={},r=e.currentTarget;if(!(!(r!=null&&r._ripple)||r._ripple.touched||e[zf])){if(e[zf]=!0,qf(e))r._ripple.touched=!0,r._ripple.isTouch=!0;else if(r._ripple.isTouch)return;if(t.center=r._ripple.centered||kb(e),r._ripple.class&&(t.class=r._ripple.class),qf(e)){if(r._ripple.showTimerCommit)return;r._ripple.showTimerCommit=()=>{Ku.show(e,r,t)},r._ripple.showTimer=window.setTimeout(()=>{var i;r!=null&&(i=r._ripple)!=null&&i.showTimerCommit&&(r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null)},mA)}else Ku.show(e,r,t)}}function Ag(e){e[zf]=!0}function Ln(e){const t=e.currentTarget;if(!(!t||!t._ripple)){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{Ln(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Ku.hide(t)}}function Ab(e){const t=e.currentTarget;!t||!t._ripple||(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Vo=!1;function Ib(e){!Vo&&(e.keyCode===mg.enter||e.keyCode===mg.space)&&(Vo=!0,Uo(e))}function Ob(e){Vo=!1,Ln(e)}function Lb(e){Vo&&(Vo=!1,Ln(e))}function Db(e,t,r){var i;const{value:n,modifiers:a}=t,s=Pb(n);if(s||Ku.hide(e),e._ripple=(i=e._ripple)!=null?i:{},e._ripple.enabled=s,e._ripple.centered=a.center,e._ripple.circle=a.circle,jf(n)&&n.class&&(e._ripple.class=n.class),s&&!r){if(a.stop){e.addEventListener("touchstart",Ag,{passive:!0}),e.addEventListener("mousedown",Ag);return}e.addEventListener("touchstart",Uo,{passive:!0}),e.addEventListener("touchend",Ln,{passive:!0}),e.addEventListener("touchmove",Ab,{passive:!0}),e.addEventListener("touchcancel",Ln),e.addEventListener("mousedown",Uo),e.addEventListener("mouseup",Ln),e.addEventListener("mouseleave",Ln),e.addEventListener("keydown",Ib),e.addEventListener("keyup",Ob),e.addEventListener("blur",Lb),e.addEventListener("dragstart",Ln,{passive:!0})}else!s&&r&&Rb(e)}function Rb(e){e.removeEventListener("mousedown",Uo),e.removeEventListener("touchstart",Uo),e.removeEventListener("touchend",Ln),e.removeEventListener("touchmove",Ab),e.removeEventListener("touchcancel",Ln),e.removeEventListener("mouseup",Ln),e.removeEventListener("mouseleave",Ln),e.removeEventListener("keydown",Ib),e.removeEventListener("keyup",Ob),e.removeEventListener("dragstart",Ln),e.removeEventListener("blur",Lb)}function gA(e,t){Db(e,t,!1)}function yA(e){delete e._ripple,Rb(e)}function _A(e,t){if(t.value===t.oldValue)return;const r=Pb(t.oldValue);Db(e,t,r)}const cl={mounted:gA,unmounted:yA,updated:_A},vi=Gt({name:"VDefaultsProvider",props:{defaults:Object,reset:[Number,String],root:Boolean,scoped:Boolean},setup(e,t){let{slots:r}=t;const{defaults:i,reset:n,root:a,scoped:s}=Qh(e);return Qr(i,{reset:n,root:a,scoped:s}),()=>{var o;return(o=r.default)==null?void 0:o.call(r)}}}),va=He({name:"VCard",directives:{Ripple:cl},props:H(H(H(H(H(H(H(H(H(H({appendAvatar:String,appendIcon:String,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:Boolean,prependAvatar:String,prependIcon:String,ripple:Boolean,subtitle:String,text:String,title:String},Nt()),Ei()),Cr()),pa()),Zr()),_p()),Xn()),ol()),St()),wi({variant:"contained"})),setup(e,t){let{attrs:r,slots:i}=t;const{themeClasses:n}=Kt(e),{borderClasses:a}=Ci(e),{colorClasses:s,colorStyles:o,variantClasses:l}=ul(e),{densityClasses:u}=wr(e),{dimensionStyles:c}=ma(e),{elevationClasses:f}=ei(e),{positionClasses:d,positionStyles:p}=bp(e),{roundedClasses:y}=Yn(e),b=jc(e,r);return()=>{var T,S,w,D;const P=b.isLink.value?"a":e.tag,I=!!(i.title||e.title),L=!!(i.subtitle||e.subtitle),A=I||L,R=!!(i.append||e.appendAvatar||e.appendIcon),M=!!(i.prepend||e.prependAvatar||e.prependIcon),N=!!(i.image||e.image),W=A||M||R,X=!!(i.text||e.text),Y=!e.disabled&&(b.isClickable.value||e.link);return Mn(k(P,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":Y},n.value,a.value,s.value,u.value,f.value,d.value,y.value,l.value],style:[o.value,c.value,p.value],href:b.href.value,onClick:Y&&b.navigate},{default:()=>[ll(Y,"v-card"),N&&k(vi,{defaults:{VImg:{cover:!0,src:e.image}}},{default:()=>[k(cA,null,{default:()=>[i.image?(T=i.image)==null?void 0:T.call(i):k(ra,{alt:""},null)]})]}),(S=i.media)==null?void 0:S.call(i),W&&k(lA,null,{default:()=>[M&&k(vi,{defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},{default:()=>[k(kg,null,{default:()=>[i.prepend?i.prepend():k(ia,null,null)]})]}),A&&k(uA,null,{default:()=>[I&&k(Cb,null,{default:()=>[i.title?i.title():e.title]}),L&&k(dA,null,{default:()=>[i.subtitle?i.subtitle():e.subtitle]}),(w=i.headerText)==null?void 0:w.call(i)]}),R&&k(vi,{defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},{default:()=>[k(kg,null,{default:()=>[i.append?i.append():k(ia,null,null)]})]})]}),X&&k(Eb,null,{default:()=>[i.text?i.text():e.text]}),i.content&&k(Bo,null,{default:i.content}),(D=i.default)==null?void 0:D.call(i),i.actions&&k(xb,null,{default:i.actions})]}),[[ha("ripple"),Y]])}}}),Ig=Gt({name:"AlertCard",props:{title:null,subtitle:null,icon:null,color:null},setup(e){return(t,r)=>(Ne(),at(va,{variant:"contained-text",density:"comfortable",color:e.color},{title:pe(()=>[Uu(t.$slots,"title",{},()=>[st(Dt(e.title),1)])]),subtitle:pe(()=>[Uu(t.$slots,"subtitle",{},()=>[st(Dt(e.subtitle),1)])]),prepend:pe(()=>[k(ia,{style:{color:"inherit"}},{default:pe(()=>[k(kt,null,{default:pe(()=>[st(Dt(e.icon),1)]),_:1})]),_:1})]),_:3},8,["color"]))}}),kr=cp("global",{state:()=>({project:"",video:"",cVideo:"",backend:"http://127.0.0.1:8000",token:""}),actions:{resetProject(){this.project="",this.cVideo=""},setVideo(e){this.video=e,this.cVideo=e,zc().items=[]}},persist:!0});function Bd(){const e=[],t=n=>{const a=e.indexOf(n);a!==-1&&e.splice(a,1)};return{on:n=>(e.push(n),{off:()=>t(n)}),off:t,trigger:n=>{e.forEach(a=>a(n))}}}function Tp(e){return Ow()?(ca(e),!0):!1}function bA(e){return ne(e)!=null}var Og;const xs=typeof window!="undefined",TA=e=>typeof e!="undefined",SA=e=>typeof e=="string",Ud=()=>{};xs&&((Og=window==null?void 0:window.navigator)==null?void 0:Og.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function xA(e,t){function r(...i){e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})}return r}const Mb=e=>e();function EA(e=Mb){const t=Z(!0);function r(){t.value=!1}function i(){t.value=!0}return{isActive:t,pause:r,resume:i,eventFilter:(...a)=>{t.value&&e(...a)}}}function CA(e,t=!1,r="Timeout"){return new Promise((i,n)=>{setTimeout(t?()=>n(r):i,e)})}function wA(e,...t){return t.some(r=>r in e)}function kA(e,t=!0){Sr()?rl(e):t?e():Tn(e)}function PA(e){let t=!1;function r(f,{flush:d="sync",deep:p=!1,timeout:y,throwOnTimeout:b}={}){let T=null;const w=[new Promise(D=>{T=Le(e,P=>{f(P)===!t&&(T==null||T(),D())},{flush:d,deep:p,immediate:!0})})];return y&&w.push(CA(y,b).finally(()=>{T==null||T()})),Promise.race(w)}function i(f,d){return r(p=>p===ne(f),d)}function n(f){return r(d=>Boolean(d),f)}function a(f){return i(null,f)}function s(f){return i(void 0,f)}function o(f){return r(Number.isNaN,f)}function l(f,d){return r(p=>{const y=Array.from(p);return y.includes(f)||y.includes(ne(f))},d)}function u(f){return c(1,f)}function c(f=1,d){let p=-1;return r(()=>(p+=1,p>=f),d)}return Array.isArray(ne(e))?{toMatch:r,toContains:l,changed:u,changedTimes:c,get not(){return t=!t,this}}:{toMatch:r,toBe:i,toBeTruthy:n,toBeNull:a,toBeNaN:o,toBeUndefined:s,changed:u,changedTimes:c,get not(){return t=!t,this}}}function AA(e,t,r={}){const{immediate:i=!0}=r,n=Z(!1);let a=null;function s(){a&&(clearTimeout(a),a=null)}function o(){n.value=!1,s()}function l(...u){s(),n.value=!0,a=setTimeout(()=>{n.value=!1,a=null,e(...u)},ne(t))}return i&&(n.value=!0,xs&&l()),Tp(o),{isPending:n,start:l,stop:o}}var Lg=Object.getOwnPropertySymbols,IA=Object.prototype.hasOwnProperty,OA=Object.prototype.propertyIsEnumerable,LA=(e,t)=>{var r={};for(var i in e)IA.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&Lg)for(var i of Lg(e))t.indexOf(i)<0&&OA.call(e,i)&&(r[i]=e[i]);return r};function DA(e,t,r={}){const i=r,{eventFilter:n=Mb}=i,a=LA(i,["eventFilter"]);return Le(e,xA(n,t),a)}var RA=Object.defineProperty,MA=Object.defineProperties,FA=Object.getOwnPropertyDescriptors,Xu=Object.getOwnPropertySymbols,Fb=Object.prototype.hasOwnProperty,Nb=Object.prototype.propertyIsEnumerable,Dg=(e,t,r)=>t in e?RA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,NA=(e,t)=>{for(var r in t||(t={}))Fb.call(t,r)&&Dg(e,r,t[r]);if(Xu)for(var r of Xu(t))Nb.call(t,r)&&Dg(e,r,t[r]);return e},BA=(e,t)=>MA(e,FA(t)),UA=(e,t)=>{var r={};for(var i in e)Fb.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&Xu)for(var i of Xu(e))t.indexOf(i)<0&&Nb.call(e,i)&&(r[i]=e[i]);return r};function VA(e,t,r={}){const i=r,{eventFilter:n}=i,a=UA(i,["eventFilter"]),{eventFilter:s,pause:o,resume:l,isActive:u}=EA(n);return{stop:DA(e,t,BA(NA({},a),{eventFilter:s})),pause:o,resume:l,isActive:u}}function $A(e){var t;const r=ne(e);return(t=r==null?void 0:r.$el)!=null?t:r}const $o=xs?window:void 0;xs&&window.document;xs&&window.navigator;xs&&window.location;function jA(...e){let t,r,i,n;if(SA(e[0])?([r,i,n]=e,t=$o):[t,r,i,n]=e,!t)return Ud;let a=Ud;const s=Le(()=>$A(t),l=>{a(),l&&(l.addEventListener(r,i,n),a=()=>{l.removeEventListener(r,i,n),a=Ud})},{immediate:!0,flush:"post"}),o=()=>{s(),a()};return Tp(o),o}function Rg(e,t={}){const{window:r=$o}=t,i=Boolean(r&&"matchMedia"in r);let n;const a=Z(!1),s=()=>{!i||(n||(n=r.matchMedia(e)),a.value=n.matches)};return kA(()=>{s(),n&&("addEventListener"in n?n.addEventListener("change",s):n.addListener(s),Tp(()=>{"removeEventListener"in n?n.removeEventListener("change",s):n.removeListener(s)}))}),a}const Gf=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Kf="__vueuse_ssr_handlers__";Gf[Kf]=Gf[Kf]||{};const HA=Gf[Kf];function WA(e,t){return HA[e]||t}function zA(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}const qA={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function GA(e,t,r,i={}){var n;const{flush:a="pre",deep:s=!0,listenToStorageChanges:o=!0,writeDefaults:l=!0,shallow:u,window:c=$o,eventFilter:f,onError:d=L=>{console.error(L)}}=i,p=(u?Xa:Z)(t);if(!r)try{r=WA("getDefaultStorage",()=>{var L;return(L=$o)==null?void 0:L.localStorage})()}catch(L){d(L)}if(!r)return p;const y=ne(t),b=zA(y),T=(n=i.serializer)!=null?n:qA[b],{pause:S,resume:w}=VA(p,()=>D(p.value),{flush:a,deep:s,eventFilter:f});return c&&o&&jA(c,"storage",I),I(),p;function D(L){try{L==null?r.removeItem(e):r.setItem(e,T.write(L))}catch(A){d(A)}}function P(L){if(!(L&&L.key!==e)){S();try{const A=L?L.newValue:r.getItem(e);return A==null?(l&&y!==null&&r.setItem(e,T.write(y)),y):typeof A!="string"?A:T.read(A)}catch(A){d(A)}finally{w()}}}function I(L){L&&L.key!==e||(p.value=P(L))}}var KA=Object.defineProperty,XA=Object.defineProperties,YA=Object.getOwnPropertyDescriptors,Mg=Object.getOwnPropertySymbols,QA=Object.prototype.hasOwnProperty,JA=Object.prototype.propertyIsEnumerable,Fg=(e,t,r)=>t in e?KA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ct=(e,t)=>{for(var r in t||(t={}))QA.call(t,r)&&Fg(e,r,t[r]);if(Mg)for(var r of Mg(t))JA.call(t,r)&&Fg(e,r,t[r]);return e},Ua=(e,t)=>XA(e,YA(t));const ZA={json:"application/json",text:"text/plain",formData:"multipart/form-data"};function Yu(e){return wA(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch")}function yo(e){return e instanceof Headers?Object.fromEntries([...e.entries()]):e}function eI(e={}){const t=e.options||{},r=e.fetchOptions||{};function i(n,...a){const s=j(()=>e.baseUrl?nI(ne(e.baseUrl),ne(n)):ne(n));let o=t,l=r;return a.length>0&&(Yu(a[0])?o=Ct(Ct({},o),a[0]):l=Ua(Ct(Ct({},l),a[0]),{headers:Ct(Ct({},yo(l.headers)||{}),yo(a[0].headers)||{})})),a.length>1&&Yu(a[1])&&(o=Ct(Ct({},o),a[1])),tI(s,l,o)}return i}function tI(e,...t){var r;const i=typeof AbortController=="function";let n={},a={immediate:!0,refetch:!1,timeout:0};const s={method:"GET",type:"text",payload:void 0};t.length>0&&(Yu(t[0])?a=Ct(Ct({},a),t[0]):n=t[0]),t.length>1&&Yu(t[1])&&(a=Ct(Ct({},a),t[1]));const{fetch:o=(r=$o)==null?void 0:r.fetch,initialData:l,timeout:u}=a,c=Bd(),f=Bd(),d=Bd(),p=Z(!1),y=Z(!1),b=Z(!1),T=Z(null),S=Xa(null),w=Xa(null),D=Xa(l),P=j(()=>i&&y.value);let I,L;const A=()=>{i&&I&&I.abort()},R=le=>{y.value=le,p.value=!le};u&&(L=AA(A,u,{immediate:!1}));const M=async(le=!1)=>{var fe;R(!0),w.value=null,T.value=null,b.value=!1,I=void 0,i&&(I=new AbortController,I.signal.onabort=()=>b.value=!0,n=Ua(Ct({},n),{signal:I.signal}));const ce={method:s.method,headers:{}};if(s.payload){const se=yo(ce.headers);s.payloadType&&(se["Content-Type"]=(fe=ZA[s.payloadType])!=null?fe:s.payloadType),ce.body=s.payloadType==="json"?JSON.stringify(ne(s.payload)):ne(s.payload)}let ye=!1;const xe={url:ne(e),options:Ct(Ct({},ce),n),cancel:()=>{ye=!0}};if(a.beforeFetch&&Object.assign(xe,await a.beforeFetch(xe)),ye||!o)return R(!1),Promise.resolve(null);let ee=null;return L&&L.start(),new Promise((se,te)=>{var Ce;o(xe.url,Ua(Ct(Ct({},ce),xe.options),{headers:Ct(Ct({},yo(ce.headers)),yo((Ce=xe.options)==null?void 0:Ce.headers))})).then(async ie=>{if(S.value=ie,T.value=ie.status,ee=await ie[s.type](),a.afterFetch&&T.value>=200&&T.value<300&&({data:ee}=await a.afterFetch({data:ee,response:ie})),D.value=ee,!ie.ok)throw new Error(ie.statusText);return c.trigger(ie),se(ie)}).catch(async ie=>{let De=ie.message||ie.name;return a.onFetchError&&({data:ee,error:De}=await a.onFetchError({data:ee,error:ie,response:S.value})),D.value=ee,w.value=De,f.trigger(ie),le?te(ie):se(null)}).finally(()=>{R(!1),L&&L.stop(),d.trigger(null)})})};Le(()=>[ne(e),ne(a.refetch)],()=>ne(a.refetch)&&M(),{deep:!0});const N={isFinished:p,statusCode:T,response:S,error:w,data:D,isFetching:y,canAbort:P,aborted:b,abort:A,execute:M,onFetchResponse:c.on,onFetchError:f.on,onFetchFinally:d.on,get:W("GET"),put:W("PUT"),post:W("POST"),delete:W("DELETE"),patch:W("PATCH"),head:W("HEAD"),options:W("OPTIONS"),json:Y("json"),text:Y("text"),blob:Y("blob"),arrayBuffer:Y("arrayBuffer"),formData:Y("formData")};function W(le){return(fe,ce)=>{if(!y.value)return s.method=le,s.payload=fe,s.payloadType=ce,Ze(s.payload)&&Le(()=>[ne(s.payload),ne(a.refetch)],()=>ne(a.refetch)&&M(),{deep:!0}),!ce&&ne(fe)&&Object.getPrototypeOf(ne(fe))===Object.prototype&&(s.payloadType="json"),Ua(Ct({},N),{then(ye,xe){return X().then(ye,xe)}})}}function X(){return new Promise((le,fe)=>{PA(p).toBe(!0).then(()=>le(N)).catch(ce=>fe(ce))})}function Y(le){return()=>{if(!y.value)return s.type=le,Ua(Ct({},N),{then(fe,ce){return X().then(fe,ce)}})}}return a.immediate&&setTimeout(M,0),Ua(Ct({},N),{then(le,fe){return X().then(le,fe)}})}function nI(e,t){return!e.endsWith("/")&&!t.startsWith("/")?`${e}/${t}`:`${e}${t}`}function rI(e){const t=Rg("(prefers-color-scheme: light)",e),r=Rg("(prefers-color-scheme: dark)",e);return j(()=>r.value?"dark":t.value?"light":"no-preference")}function iI(e,t,r,i={}){var n;const{passive:a=!1,eventName:s,deep:o=!1,defaultValue:l}=i,u=Sr(),c=r||(u==null?void 0:u.emit)||((n=u==null?void 0:u.$emit)==null?void 0:n.bind(u));let f=s;t||(t="modelValue"),f=s||f||`update:${t}`;const d=()=>TA(e[t])?e[t]:l;if(a){const p=Z(d());return Le(()=>e[t],y=>p.value=y),Le(p,y=>{(y!==e[t]||o)&&c(f,y)},{deep:o}),p}else return j({get(){return d()},set(p){c(f,p)}})}const Au=new Map,aI=()=>Au.clear();function jo(...e){if(sI(e)){const t=e.join("/");if(Au.has(t))return Au.get(t);const r=Bb(...e);return Au.set(t,r),r}else return}const Bb=(...e)=>{const t=kr(),r=new URL(e.join("/"),t.backend);return t.project!=""&&r.searchParams.append("project",t.project),r.toString()},bi=eI({options:{async beforeFetch({url:e,options:t}){return{url:Bb(e),options:t}},afterFetch(e){return Jf().reset(),e},onFetchError(e){const t=Jf();return e.response&&e.response.status>=400?e.response.status>=500&&t.set({status:e.response.status,message:e.error.message,stack:e.error.stack}):e.error&&t.set({message:e.error.message,stack:e.error.stack}),e}},fetchOptions:{mode:"cors"}});function su(e){const t=String(~~(e/3600)).padStart(2,"0"),r=String(~~(e%3600/60)).padStart(2,"0"),i=String(~~e%60).padStart(2,"0"),n=String(~~((e-~~e)*1e3)).padStart(3,"0");return`${t}:${r}:${i}.${n}`}function sI(e){return e.every(t=>bA(t))}/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Ub=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Es=e=>Ub?Symbol(e):"_vr_"+e,oI=Es("rvlm"),Ng=Es("rvd"),Hc=Es("r"),Sp=Es("rl"),Xf=Es("rvl"),Va=typeof window!="undefined";function lI(e){return e.__esModule||Ub&&e[Symbol.toStringTag]==="Module"}const ht=Object.assign;function Vd(e,t){const r={};for(const i in t){const n=t[i];r[i]=Array.isArray(n)?n.map(e):e(n)}return r}const _o=()=>{},uI=/\/$/,cI=e=>e.replace(uI,"");function $d(e,t,r="/"){let i,n={},a="",s="";const o=t.indexOf("?"),l=t.indexOf("#",o>-1?o:0);return o>-1&&(i=t.slice(0,o),a=t.slice(o+1,l>-1?l:t.length),n=e(a)),l>-1&&(i=i||t.slice(0,l),s=t.slice(l,t.length)),i=pI(i!=null?i:t,r),{fullPath:i+(a&&"?")+a+s,path:i,query:n,hash:s}}function dI(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function Bg(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function fI(e,t,r){const i=t.matched.length-1,n=r.matched.length-1;return i>-1&&i===n&&ss(t.matched[i],r.matched[n])&&Vb(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function ss(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Vb(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!hI(e[r],t[r]))return!1;return!0}function hI(e,t){return Array.isArray(e)?Ug(e,t):Array.isArray(t)?Ug(t,e):e===t}function Ug(e,t){return Array.isArray(t)?e.length===t.length&&e.every((r,i)=>r===t[i]):e.length===1&&e[0]===t}function pI(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),i=e.split("/");let n=r.length-1,a,s;for(a=0;a<i.length;a++)if(s=i[a],!(n===1||s==="."))if(s==="..")n--;else break;return r.slice(0,n).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var Ho;(function(e){e.pop="pop",e.push="push"})(Ho||(Ho={}));var bo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(bo||(bo={}));function mI(e){if(!e)if(Va){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),cI(e)}const vI=/^[^#]+#/;function gI(e,t){return e.replace(vI,"#")+t}function yI(e,t){const r=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-r.left-(t.left||0),top:i.top-r.top-(t.top||0)}}const Wc=()=>({left:window.pageXOffset,top:window.pageYOffset});function _I(e){let t;if("el"in e){const r=e.el,i=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;t=yI(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Vg(e,t){return(history.state?history.state.position-t:-1)+e}const Yf=new Map;function bI(e,t){Yf.set(e,t)}function TI(e){const t=Yf.get(e);return Yf.delete(e),t}let SI=()=>location.protocol+"//"+location.host;function $b(e,t){const{pathname:r,search:i,hash:n}=t,a=e.indexOf("#");if(a>-1){let o=n.includes(e.slice(a))?e.slice(a).length:1,l=n.slice(o);return l[0]!=="/"&&(l="/"+l),Bg(l,"")}return Bg(r,e)+i+n}function xI(e,t,r,i){let n=[],a=[],s=null;const o=({state:d})=>{const p=$b(e,location),y=r.value,b=t.value;let T=0;if(d){if(r.value=p,t.value=d,s&&s===y){s=null;return}T=b?d.position-b.position:0}else i(p);n.forEach(S=>{S(r.value,y,{delta:T,type:Ho.pop,direction:T?T>0?bo.forward:bo.back:bo.unknown})})};function l(){s=r.value}function u(d){n.push(d);const p=()=>{const y=n.indexOf(d);y>-1&&n.splice(y,1)};return a.push(p),p}function c(){const{history:d}=window;!d.state||d.replaceState(ht({},d.state,{scroll:Wc()}),"")}function f(){for(const d of a)d();a=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:f}}function $g(e,t,r,i=!1,n=!1){return{back:e,current:t,forward:r,replaced:i,position:window.history.length,scroll:n?Wc():null}}function EI(e){const{history:t,location:r}=window,i={value:$b(e,r)},n={value:t.state};n.value||a(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(l,u,c){const f=e.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?e:e.slice(f))+l:SI()+e+l;try{t[c?"replaceState":"pushState"](u,"",d),n.value=u}catch(p){console.error(p),r[c?"replace":"assign"](d)}}function s(l,u){const c=ht({},t.state,$g(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});a(l,c,!0),i.value=l}function o(l,u){const c=ht({},n.value,t.state,{forward:l,scroll:Wc()});a(c.current,c,!0);const f=ht({},$g(i.value,l,null),{position:c.position+1},u);a(l,f,!1),i.value=l}return{location:i,state:n,push:o,replace:s}}function CI(e){e=mI(e);const t=EI(e),r=xI(e,t.state,t.location,t.replace);function i(a,s=!0){s||r.pauseListeners(),history.go(a)}const n=ht({location:"",base:e,go:i,createHref:gI.bind(null,e)},t,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function wI(e){return typeof e=="string"||e&&typeof e=="object"}function jb(e){return typeof e=="string"||typeof e=="symbol"}const oi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Hb=Es("nf");var jg;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(jg||(jg={}));function os(e,t){return ht(new Error,{type:e,[Hb]:!0},t)}function li(e,t){return e instanceof Error&&Hb in e&&(t==null||!!(e.type&t))}const Hg="[^/]+?",kI={sensitive:!1,strict:!1,start:!0,end:!0},PI=/[.+*?^${}()[\]/\\]/g;function AI(e,t){const r=ht({},kI,t),i=[];let n=r.start?"^":"";const a=[];for(const u of e){const c=u.length?[]:[90];r.strict&&!u.length&&(n+="/");for(let f=0;f<u.length;f++){const d=u[f];let p=40+(r.sensitive?.25:0);if(d.type===0)f||(n+="/"),n+=d.value.replace(PI,"\\$&"),p+=40;else if(d.type===1){const{value:y,repeatable:b,optional:T,regexp:S}=d;a.push({name:y,repeatable:b,optional:T});const w=S||Hg;if(w!==Hg){p+=10;try{new RegExp(`(${w})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${y}" (${w}): `+P.message)}}let D=b?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;f||(D=T&&u.length<2?`(?:/${D})`:"/"+D),T&&(D+="?"),n+=D,p+=20,T&&(p+=-8),b&&(p+=-20),w===".*"&&(p+=-50)}c.push(p)}i.push(c)}if(r.strict&&r.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&(n+="(?:/|$)");const s=new RegExp(n,r.sensitive?"":"i");function o(u){const c=u.match(s),f={};if(!c)return null;for(let d=1;d<c.length;d++){const p=c[d]||"",y=a[d-1];f[y.name]=p&&y.repeatable?p.split("/"):p}return f}function l(u){let c="",f=!1;for(const d of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const p of d)if(p.type===0)c+=p.value;else if(p.type===1){const{value:y,repeatable:b,optional:T}=p,S=y in u?u[y]:"";if(Array.isArray(S)&&!b)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const w=Array.isArray(S)?S.join("/"):S;if(!w)if(T)d.length<2&&e.length>1&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);c+=w}}return c}return{re:s,score:i,keys:a,parse:o,stringify:l}}function II(e,t){let r=0;for(;r<e.length&&r<t.length;){const i=t[r]-e[r];if(i)return i;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function OI(e,t){let r=0;const i=e.score,n=t.score;for(;r<i.length&&r<n.length;){const a=II(i[r],n[r]);if(a)return a;r++}return n.length-i.length}const LI={type:0,value:""},DI=/[a-zA-Z0-9_]/;function RI(e){if(!e)return[[]];if(e==="/")return[[LI]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${r})/"${u}": ${p}`)}let r=0,i=r;const n=[];let a;function s(){a&&n.push(a),a=[]}let o=0,l,u="",c="";function f(){!u||(r===0?a.push({type:0,value:u}):r===1||r===2||r===3?(a.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;o<e.length;){if(l=e[o++],l==="\\"&&r!==2){i=r,r=4;continue}switch(r){case 0:l==="/"?(u&&f(),s()):l===":"?(f(),r=1):d();break;case 4:d(),r=i;break;case 1:l==="("?r=2:DI.test(l)?d():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,c="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),s(),n}function MI(e,t,r){const i=AI(RI(e.path),r),n=ht(i,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function FI(e,t){const r=[],i=new Map;t=zg({strict:!1,end:!0,sensitive:!1},t);function n(c){return i.get(c)}function a(c,f,d){const p=!d,y=BI(c);y.aliasOf=d&&d.record;const b=zg(t,c),T=[y];if("alias"in c){const D=typeof c.alias=="string"?[c.alias]:c.alias;for(const P of D)T.push(ht({},y,{components:d?d.record.components:y.components,path:P,aliasOf:d?d.record:y}))}let S,w;for(const D of T){const{path:P}=D;if(f&&P[0]!=="/"){const I=f.record.path,L=I[I.length-1]==="/"?"":"/";D.path=f.record.path+(P&&L+P)}if(S=MI(D,f,b),d?d.alias.push(S):(w=w||S,w!==S&&w.alias.push(S),p&&c.name&&!Wg(S)&&s(c.name)),"children"in y){const I=y.children;for(let L=0;L<I.length;L++)a(I[L],S,d&&d.children[L])}d=d||S,l(S)}return w?()=>{s(w)}:_o}function s(c){if(jb(c)){const f=i.get(c);f&&(i.delete(c),r.splice(r.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=r.indexOf(c);f>-1&&(r.splice(f,1),c.record.name&&i.delete(c.record.name),c.children.forEach(s),c.alias.forEach(s))}}function o(){return r}function l(c){let f=0;for(;f<r.length&&OI(c,r[f])>=0&&(c.record.path!==r[f].record.path||!Wb(c,r[f]));)f++;r.splice(f,0,c),c.record.name&&!Wg(c)&&i.set(c.record.name,c)}function u(c,f){let d,p={},y,b;if("name"in c&&c.name){if(d=i.get(c.name),!d)throw os(1,{location:c});b=d.record.name,p=ht(NI(f.params,d.keys.filter(w=>!w.optional).map(w=>w.name)),c.params),y=d.stringify(p)}else if("path"in c)y=c.path,d=r.find(w=>w.re.test(y)),d&&(p=d.parse(y),b=d.record.name);else{if(d=f.name?i.get(f.name):r.find(w=>w.re.test(f.path)),!d)throw os(1,{location:c,currentLocation:f});b=d.record.name,p=ht({},f.params,c.params),y=d.stringify(p)}const T=[];let S=d;for(;S;)T.unshift(S.record),S=S.parent;return{name:b,path:y,params:p,matched:T,meta:VI(T)}}return e.forEach(c=>a(c)),{addRoute:a,resolve:u,removeRoute:s,getRoutes:o,getRecordMatcher:n}}function NI(e,t){const r={};for(const i of t)i in e&&(r[i]=e[i]);return r}function BI(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:UI(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function UI(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const i in e.components)t[i]=typeof r=="boolean"?r:r[i];return t}function Wg(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function VI(e){return e.reduce((t,r)=>ht(t,r.meta),{})}function zg(e,t){const r={};for(const i in e)r[i]=i in t?t[i]:e[i];return r}function Wb(e,t){return t.children.some(r=>r===e||Wb(e,r))}const zb=/#/g,$I=/&/g,jI=/\//g,HI=/=/g,WI=/\?/g,qb=/\+/g,zI=/%5B/g,qI=/%5D/g,Gb=/%5E/g,GI=/%60/g,Kb=/%7B/g,KI=/%7C/g,Xb=/%7D/g,XI=/%20/g;function xp(e){return encodeURI(""+e).replace(KI,"|").replace(zI,"[").replace(qI,"]")}function YI(e){return xp(e).replace(Kb,"{").replace(Xb,"}").replace(Gb,"^")}function Qf(e){return xp(e).replace(qb,"%2B").replace(XI,"+").replace(zb,"%23").replace($I,"%26").replace(GI,"`").replace(Kb,"{").replace(Xb,"}").replace(Gb,"^")}function QI(e){return Qf(e).replace(HI,"%3D")}function JI(e){return xp(e).replace(zb,"%23").replace(WI,"%3F")}function ZI(e){return e==null?"":JI(e).replace(jI,"%2F")}function Qu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function eO(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<i.length;++n){const a=i[n].replace(qb," "),s=a.indexOf("="),o=Qu(s<0?a:a.slice(0,s)),l=s<0?null:Qu(a.slice(s+1));if(o in t){let u=t[o];Array.isArray(u)||(u=t[o]=[u]),u.push(l)}else t[o]=l}return t}function qg(e){let t="";for(let r in e){const i=e[r];if(r=QI(r),i==null){i!==void 0&&(t+=(t.length?"&":"")+r);continue}(Array.isArray(i)?i.map(a=>a&&Qf(a)):[i&&Qf(i)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+r,a!=null&&(t+="="+a))})}return t}function tO(e){const t={};for(const r in e){const i=e[r];i!==void 0&&(t[r]=Array.isArray(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return t}function zs(){let e=[];function t(i){return e.push(i),()=>{const n=e.indexOf(i);n>-1&&e.splice(n,1)}}function r(){e=[]}return{add:t,list:()=>e,reset:r}}function hi(e,t,r,i,n){const a=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((s,o)=>{const l=f=>{f===!1?o(os(4,{from:r,to:t})):f instanceof Error?o(f):wI(f)?o(os(2,{from:t,to:f})):(a&&i.enterCallbacks[n]===a&&typeof f=="function"&&a.push(f),s())},u=e.call(i&&i.instances[n],t,r,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(f=>o(f))})}function jd(e,t,r,i){const n=[];for(const a of e)for(const s in a.components){let o=a.components[s];if(!(t!=="beforeRouteEnter"&&!a.instances[s]))if(nO(o)){const u=(o.__vccOpts||o)[t];u&&n.push(hi(u,r,i,a,s))}else{let l=o();n.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${a.path}"`));const c=lI(u)?u.default:u;a.components[s]=c;const d=(c.__vccOpts||c)[t];return d&&hi(d,r,i,a,s)()}))}}return n}function nO(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Gg(e){const t=ut(Hc),r=ut(Sp),i=j(()=>t.resolve(ne(e.to))),n=j(()=>{const{matched:l}=i.value,{length:u}=l,c=l[u-1],f=r.matched;if(!c||!f.length)return-1;const d=f.findIndex(ss.bind(null,c));if(d>-1)return d;const p=Kg(l[u-2]);return u>1&&Kg(c)===p&&f[f.length-1].path!==p?f.findIndex(ss.bind(null,l[u-2])):d}),a=j(()=>n.value>-1&&sO(r.params,i.value.params)),s=j(()=>n.value>-1&&n.value===r.matched.length-1&&Vb(r.params,i.value.params));function o(l={}){return aO(l)?t[ne(e.replace)?"replace":"push"](ne(e.to)).catch(_o):Promise.resolve()}return{route:i,href:j(()=>i.value.href),isActive:a,isExactActive:s,navigate:o}}const rO=Gt({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Gg,setup(e,{slots:t}){const r=xn(Gg(e)),{options:i}=ut(Hc),n=j(()=>({[Xg(e.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[Xg(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const a=t.default&&t.default(r);return e.custom?a:lr("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},a)}}}),iO=rO;function aO(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function sO(e,t){for(const r in t){const i=t[r],n=e[r];if(typeof i=="string"){if(i!==n)return!1}else if(!Array.isArray(n)||n.length!==i.length||i.some((a,s)=>a!==n[s]))return!1}return!0}function Kg(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Xg=(e,t,r)=>e!=null?e:t!=null?t:r,oO=Gt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const i=ut(Xf),n=j(()=>e.route||i.value),a=ut(Ng,0),s=j(()=>n.value.matched[a]);rn(Ng,a+1),rn(oI,s),rn(Xf,n);const o=Z();return Le(()=>[o.value,s.value,e.name],([l,u,c],[f,d,p])=>{u&&(u.instances[c]=l,d&&d!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),l&&u&&(!d||!ss(u,d)||!f)&&(u.enterCallbacks[c]||[]).forEach(y=>y(l))},{flush:"post"}),()=>{const l=n.value,u=s.value,c=u&&u.components[e.name],f=e.name;if(!c)return Yg(r.default,{Component:c,route:l});const d=u.props[e.name],p=d?d===!0?l.params:typeof d=="function"?d(l):d:null,b=lr(c,ht({},p,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(u.instances[f]=null)},ref:o}));return Yg(r.default,{Component:b,route:l})||b}}});function Yg(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const lO=oO;function uO(e){const t=FI(e.routes,e),r=e.parseQuery||eO,i=e.stringifyQuery||qg,n=e.history,a=zs(),s=zs(),o=zs(),l=Xa(oi);let u=oi;Va&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Vd.bind(null,K=>""+K),f=Vd.bind(null,ZI),d=Vd.bind(null,Qu);function p(K,ve){let ue,ke;return jb(K)?(ue=t.getRecordMatcher(K),ke=ve):ke=K,t.addRoute(ke,ue)}function y(K){const ve=t.getRecordMatcher(K);ve&&t.removeRoute(ve)}function b(){return t.getRoutes().map(K=>K.record)}function T(K){return!!t.getRecordMatcher(K)}function S(K,ve){if(ve=ht({},ve||l.value),typeof K=="string"){const Ve=$d(r,K,ve.path),B=t.resolve({path:Ve.path},ve),z=n.createHref(Ve.fullPath);return ht(Ve,B,{params:d(B.params),hash:Qu(Ve.hash),redirectedFrom:void 0,href:z})}let ue;if("path"in K)ue=ht({},K,{path:$d(r,K.path,ve.path).path});else{const Ve=ht({},K.params);for(const B in Ve)Ve[B]==null&&delete Ve[B];ue=ht({},K,{params:f(K.params)}),ve.params=f(ve.params)}const ke=t.resolve(ue,ve),Ke=K.hash||"";ke.params=c(d(ke.params));const Je=dI(i,ht({},K,{hash:YI(Ke),path:ke.path})),Ue=n.createHref(Je);return ht({fullPath:Je,hash:Ke,query:i===qg?tO(K.query):K.query||{}},ke,{redirectedFrom:void 0,href:Ue})}function w(K){return typeof K=="string"?$d(r,K,l.value.path):ht({},K)}function D(K,ve){if(u!==K)return os(8,{from:ve,to:K})}function P(K){return A(K)}function I(K){return P(ht(w(K),{replace:!0}))}function L(K){const ve=K.matched[K.matched.length-1];if(ve&&ve.redirect){const{redirect:ue}=ve;let ke=typeof ue=="function"?ue(K):ue;return typeof ke=="string"&&(ke=ke.includes("?")||ke.includes("#")?ke=w(ke):{path:ke},ke.params={}),ht({query:K.query,hash:K.hash,params:K.params},ke)}}function A(K,ve){const ue=u=S(K),ke=l.value,Ke=K.state,Je=K.force,Ue=K.replace===!0,Ve=L(ue);if(Ve)return A(ht(w(Ve),{state:Ke,force:Je,replace:Ue}),ve||ue);const B=ue;B.redirectedFrom=ve;let z;return!Je&&fI(i,ke,ue)&&(z=os(16,{to:B,from:ke}),se(ke,ke,!0,!1)),(z?Promise.resolve(z):M(B,ke)).catch(Q=>li(Q)?li(Q,2)?Q:ee(Q):ye(Q,B,ke)).then(Q=>{if(Q){if(li(Q,2))return A(ht(w(Q.to),{state:Ke,force:Je,replace:Ue}),ve||B)}else Q=W(B,ke,!0,Ue,Ke);return N(B,ke,Q),Q})}function R(K,ve){const ue=D(K,ve);return ue?Promise.reject(ue):Promise.resolve()}function M(K,ve){let ue;const[ke,Ke,Je]=cO(K,ve);ue=jd(ke.reverse(),"beforeRouteLeave",K,ve);for(const Ve of ke)Ve.leaveGuards.forEach(B=>{ue.push(hi(B,K,ve))});const Ue=R.bind(null,K,ve);return ue.push(Ue),ka(ue).then(()=>{ue=[];for(const Ve of a.list())ue.push(hi(Ve,K,ve));return ue.push(Ue),ka(ue)}).then(()=>{ue=jd(Ke,"beforeRouteUpdate",K,ve);for(const Ve of Ke)Ve.updateGuards.forEach(B=>{ue.push(hi(B,K,ve))});return ue.push(Ue),ka(ue)}).then(()=>{ue=[];for(const Ve of K.matched)if(Ve.beforeEnter&&!ve.matched.includes(Ve))if(Array.isArray(Ve.beforeEnter))for(const B of Ve.beforeEnter)ue.push(hi(B,K,ve));else ue.push(hi(Ve.beforeEnter,K,ve));return ue.push(Ue),ka(ue)}).then(()=>(K.matched.forEach(Ve=>Ve.enterCallbacks={}),ue=jd(Je,"beforeRouteEnter",K,ve),ue.push(Ue),ka(ue))).then(()=>{ue=[];for(const Ve of s.list())ue.push(hi(Ve,K,ve));return ue.push(Ue),ka(ue)}).catch(Ve=>li(Ve,8)?Ve:Promise.reject(Ve))}function N(K,ve,ue){for(const ke of o.list())ke(K,ve,ue)}function W(K,ve,ue,ke,Ke){const Je=D(K,ve);if(Je)return Je;const Ue=ve===oi,Ve=Va?history.state:{};ue&&(ke||Ue?n.replace(K.fullPath,ht({scroll:Ue&&Ve&&Ve.scroll},Ke)):n.push(K.fullPath,Ke)),l.value=K,se(K,ve,ue,Ue),ee()}let X;function Y(){X||(X=n.listen((K,ve,ue)=>{const ke=S(K),Ke=L(ke);if(Ke){A(ht(Ke,{replace:!0}),ke).catch(_o);return}u=ke;const Je=l.value;Va&&bI(Vg(Je.fullPath,ue.delta),Wc()),M(ke,Je).catch(Ue=>li(Ue,12)?Ue:li(Ue,2)?(A(Ue.to,ke).then(Ve=>{li(Ve,20)&&!ue.delta&&ue.type===Ho.pop&&n.go(-1,!1)}).catch(_o),Promise.reject()):(ue.delta&&n.go(-ue.delta,!1),ye(Ue,ke,Je))).then(Ue=>{Ue=Ue||W(ke,Je,!1),Ue&&(ue.delta?n.go(-ue.delta,!1):ue.type===Ho.pop&&li(Ue,20)&&n.go(-1,!1)),N(ke,Je,Ue)}).catch(_o)}))}let le=zs(),fe=zs(),ce;function ye(K,ve,ue){ee(K);const ke=fe.list();return ke.length?ke.forEach(Ke=>Ke(K,ve,ue)):console.error(K),Promise.reject(K)}function xe(){return ce&&l.value!==oi?Promise.resolve():new Promise((K,ve)=>{le.add([K,ve])})}function ee(K){return ce||(ce=!K,Y(),le.list().forEach(([ve,ue])=>K?ue(K):ve()),le.reset()),K}function se(K,ve,ue,ke){const{scrollBehavior:Ke}=e;if(!Va||!Ke)return Promise.resolve();const Je=!ue&&TI(Vg(K.fullPath,0))||(ke||!ue)&&history.state&&history.state.scroll||null;return Tn().then(()=>Ke(K,ve,Je)).then(Ue=>Ue&&_I(Ue)).catch(Ue=>ye(Ue,K,ve))}const te=K=>n.go(K);let Ce;const ie=new Set;return{currentRoute:l,addRoute:p,removeRoute:y,hasRoute:T,getRoutes:b,resolve:S,options:e,push:P,replace:I,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:a.add,beforeResolve:s.add,afterEach:o.add,onError:fe.add,isReady:xe,install(K){const ve=this;K.component("RouterLink",iO),K.component("RouterView",lO),K.config.globalProperties.$router=ve,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>ne(l)}),Va&&!Ce&&l.value===oi&&(Ce=!0,P(n.location).catch(Ke=>{}));const ue={};for(const Ke in oi)ue[Ke]=j(()=>l.value[Ke]);K.provide(Hc,ve),K.provide(Sp,xn(ue)),K.provide(Xf,l);const ke=K.unmount;ie.add(K),K.unmount=function(){ie.delete(K),ie.size<1&&(u=oi,X&&X(),X=null,l.value=oi,Ce=!1,ce=!1),ke()}}}}function ka(e){return e.reduce((t,r)=>t.then(()=>r()),Promise.resolve())}function cO(e,t){const r=[],i=[],n=[],a=Math.max(t.matched.length,e.matched.length);for(let s=0;s<a;s++){const o=t.matched[s];o&&(e.matched.find(u=>ss(u,o))?i.push(o):r.push(o));const l=e.matched[s];l&&(t.matched.find(u=>ss(u,l))||n.push(l))}return[r,i,n]}function dO(){return ut(Hc)}function Yb(){return ut(Sp)}const zc=cp("frames",()=>{const e=Z([]),t=Z(!1),r=kr(),i=Yb(),n=j(()=>"/videos/"+r.video+"/frames"),a=async()=>{t.value=!0;const l=await bi(n).get().json();return t.value=!1,Array.isArray(l.data.value)&&(e.value=l.data.value),l},s=l=>bi(n).post({frames:[l]}).json(),o=l=>{(l=="extract"||l=="label")&&e.value.length==0&&!t.value&&a()};return Le(()=>r.video,()=>{i&&(i.name=="extract"||i.name=="label")&&a()}),{items:e,isFetching:t,framesUrl:n,handleRouteChange:o,update:a,extract:s}}),Jf=cp("errors",{state:()=>({error:void 0,updatedAt:void 0}),actions:{set(e){this.error=e,this.updatedAt=new Date},reset(){this.error=void 0,this.updatedAt=new Date}}});var Cs=(e,t)=>{const r=e.__vccOpts||e;for(const[i,n]of t)r[i]=n;return r};const fO=He({name:"VBtnGroup",props:H(H(H(H(H(H(H({divided:Boolean},Ei()),Cr()),Zr()),Xn()),St()),Nt()),wi()),setup(e,t){let{slots:r}=t;const{themeClasses:i}=Kt(e),{densityClasses:n}=wr(e),{borderClasses:a}=Ci(e),{elevationClasses:s}=ei(e),{roundedClasses:o}=Yn(e);Qr({VBtn:{height:"auto",color:ze(e,"color"),density:ze(e,"density"),flat:!0,variant:ze(e,"variant")}}),Ft(()=>k(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},i.value,a.value,n.value,s.value,o.value]},r))}});function Wt(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l=>l,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:l=>l;const a=Kn("useProxiedModel"),s=j(()=>{var l,u;return!!(typeof e[t]!="undefined"&&(a!=null&&(l=a.vnode.props)!=null&&l.hasOwnProperty(t)||a!=null&&(u=a.vnode.props)!=null&&u.hasOwnProperty(hp(t))))}),o=Z(i(e[t]));return j({get(){return s.value?i(e[t]):o.value},set(l){(s.value?i(e[t]):o.value)!==l&&(o.value=l,a==null||a.emit(`update:${t}`,n(l)))}})}const Ep=it({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),qc=it({value:null,disabled:Boolean,selectedClass:String},"group-item");function Cp(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=Kn("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const n=xr();rn(Symbol.for(`${t.description}:id`),n);const a=ut(t,null);if(!a){if(!r)return a;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const s=ze(e,"value"),o=j(()=>a.disabled.value||e.disabled);a.register({id:n,value:s,disabled:o},i),Bn(()=>{a.unregister(n)});const l=j(()=>a.isSelected(n)),u=j(()=>l.value&&[a.selectedClass.value,e.selectedClass]);return Le(l,c=>{i.emit("group:selected",{value:c})}),{id:n,isSelected:l,toggle:()=>a.select(n,!l.value),select:c=>a.select(n,c),selectedClass:u,value:s,disabled:o,group:a}}function wp(e,t){let r=!1;const i=xn([]),n=Wt(e,"modelValue",[],d=>d==null?[]:Qb(i,ta(d)),d=>{const p=pO(i,d);return e.multiple?p:p[0]}),a=Kn("useGroup");function s(d,p){const y=d,b=Symbol.for(`${t.description}:id`),S=go(b,a==null?void 0:a.vnode).indexOf(p);S>-1?i.splice(S,0,y):i.push(y)}function o(d){if(r)return;l();const p=i.findIndex(y=>y.id===d);i.splice(p,1)}function l(){const d=i.find(p=>!p.disabled);d&&e.mandatory==="force"&&!n.value.length&&(n.value=[d.id])}Nn(()=>{l()}),Bn(()=>{r=!0});function u(d,p){const y=i.find(S=>S.id===d);if(!(p&&y!=null&&y.disabled))if(e.multiple){var b;const S=n.value.slice(),w=S.findIndex(P=>P===d),D=~w;if(p=(b=p)!=null?b:!D,D&&e.mandatory&&S.length<=1||!D&&e.max!=null&&S.length+1>e.max)return;w<0&&p?S.push(d):w>=0&&!p&&S.splice(w,1),n.value=S}else{var T;const S=n.value.includes(d);if(e.mandatory&&S)return;n.value=((T=p)!=null?T:!S)?[d]:[]}}function c(d){if(e.multiple&&Ja('This method is not supported when using "multiple" prop'),n.value.length){const p=n.value[0],y=i.findIndex(S=>S.id===p);let b=(y+d)%i.length,T=i[b];for(;T.disabled&&b!==y;)b=(b+d)%i.length,T=i[b];if(T.disabled)return;n.value=[i[b].id]}else{const p=i.find(y=>!y.disabled);p&&(n.value=[p.id])}}const f={register:s,unregister:o,selected:n,select:u,disabled:ze(e,"disabled"),prev:()=>c(i.length-1),next:()=>c(1),isSelected:d=>n.value.includes(d),selectedClass:j(()=>e.selectedClass),items:j(()=>i),getItemIndex:d=>hO(i,d)};return rn(t,f),f}function hO(e,t){const r=Qb(e,[t]);return r.length?e.findIndex(i=>i.id===r[0]):-1}function Qb(e,t){const r=[];for(let i=0;i<e.length;i++){const n=e[i];n.value!=null?t.find(a=>fp(a,n.value))!=null&&r.push(n.id):t.includes(i)&&r.push(n.id)}return r}function pO(e,t){const r=[];for(let i=0;i<e.length;i++){const n=e[i];t.includes(n.id)&&r.push(n.value!=null?n.value:i)}return r}const Jb=Symbol.for("vuetify:v-btn-toggle");sn()({name:"VBtnToggle",props:Ep({selectedClass:"v-btn--selected"}),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{isSelected:i,next:n,prev:a,select:s,selected:o}=wp(e,Jb);return Ft(()=>{var l;return k(fO,{class:"v-btn-toggle"},{default:()=>[(l=r.default)==null?void 0:l.call(r,{isSelected:i,next:n,prev:a,select:s,selected:o})]})}),{next:n,prev:a,select:s}}});function mO(e,t){Le(()=>{var r;return(r=e.isExactActive)==null?void 0:r.value},r=>{e.isLink.value&&r&&t&&Tn(()=>{t(!0)})},{immediate:!0})}const bt=He({name:"VBtn",directives:{Ripple:cl},props:H(H(H(H(H(H(H(H(H(H(H(H({active:Boolean,symbol:{type:null,default:Jb},flat:Boolean,icon:[Boolean,String],prependIcon:String,appendIcon:String,block:Boolean,stacked:Boolean,ripple:{type:Boolean,default:!0}},Ei()),Xn()),Cr()),pa()),Zr()),qc()),_p()),ol()),al()),St({tag:"button"})),Nt()),wi({variant:"contained"})),setup(e,t){let{attrs:r,slots:i}=t;const{themeClasses:n}=Kt(e),{borderClasses:a}=Ci(e),{colorClasses:s,colorStyles:o,variantClasses:l}=ul(e),{densityClasses:u}=wr(e),{dimensionStyles:c}=ma(e),{elevationClasses:f}=ei(e),{positionClasses:d,positionStyles:p}=bp(e),{roundedClasses:y}=Yn(e),{sizeClasses:b}=sl(e),T=Cp(e,e.symbol,!1),S=jc(e,r),w=j(()=>(T==null?void 0:T.disabled.value)||e.disabled),D=j(()=>e.variant==="contained"&&!(e.disabled||e.flat||e.border));return mO(S,T==null?void 0:T.select),()=>{var P;const I=S.isLink.value?"a":e.tag,L=!T||T.isSelected.value;return Mn(k(I,{type:I==="a"?void 0:"button",class:["v-btn",T==null?void 0:T.selectedClass.value,{"v-btn--active":e.active,"v-btn--block":e.block,"v-btn--disabled":w.value,"v-btn--elevated":D.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--stacked":e.stacked},n.value,a.value,L?s.value:void 0,u.value,f.value,d.value,y.value,b.value,l.value],style:[L?o.value:void 0,c.value,p.value],disabled:w.value||void 0,href:S.href.value,onClick:A=>{var R;w.value||((R=S.navigate)==null||R.call(S,A),T==null||T.toggle())}},{default:()=>[ll(!0,"v-btn"),!e.icon&&e.prependIcon&&k(kt,{class:"v-btn__icon",icon:e.prependIcon,start:!0},null),typeof e.icon=="boolean"?(P=i.default)==null?void 0:P.call(i):k(kt,{class:"v-btn__icon",icon:e.icon,size:e.size},null),!e.icon&&e.appendIcon&&k(kt,{class:"v-btn__icon",icon:e.appendIcon,end:!0},null)]}),[[ha("ripple"),!w.value&&e.ripple,null]])}}});function Xt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top center 0",r=arguments.length>2?arguments[2]:void 0;return He({name:e,props:{group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:{type:String,default:r},origin:{type:String,default:t}},setup(i,n){let{slots:a}=n;return()=>{const s=i.group?Uk:ar;return lr(s,{name:e,mode:i.mode,onBeforeEnter(o){o.style.transformOrigin=i.origin},onLeave(o){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:c,offsetHeight:f}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${l}px`,o.style.left=`${u}px`,o.style.width=`${c}px`,o.style.height=`${f}px`}i.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(i.leaveAbsolute&&o!=null&&o._transitionInitialStyles){const{position:l,top:u,left:c,width:f,height:d}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=l||"",o.style.top=u||"",o.style.left=c||"",o.style.width=f||"",o.style.height=d||""}}},a.default)}}})}function Zb(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return He({name:e,props:{mode:{type:String,default:r}},setup(i,n){let{slots:a}=n;return()=>lr(ar,H({name:e},t),a.default)}})}function eT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=zn(`offset-${r}`);return{onBeforeEnter(s){s._parent=s.parentNode,s._initialStyle={transition:s.style.transition,overflow:s.style.overflow,[r]:s.style[r]}},onEnter(s){const o=s._initialStyle;s.style.setProperty("transition","none","important"),s.style.overflow="hidden";const l=`${s[i]}px`;s.style[r]="0",s.offsetHeight,s.style.transition=o.transition,e&&s._parent&&s._parent.classList.add(e),requestAnimationFrame(()=>{s.style[r]=l})},onAfterEnter:a,onEnterCancelled:a,onLeave(s){s._initialStyle={transition:"",overflow:s.style.overflow,[r]:s.style[r]},s.style.overflow="hidden",s.style[r]=`${s[i]}px`,s.offsetHeight,requestAnimationFrame(()=>s.style[r]="0")},onAfterLeave:n,onLeaveCancelled:n};function n(s){e&&s._parent&&s._parent.classList.remove(e),a(s)}function a(s){const o=s._initialStyle[r];s.style.overflow=s._initialStyle.overflow,o!=null&&(s.style[r]=o),delete s._initialStyle}}const tT=He({name:"VDialogTransition",props:{target:Object},setup(e,t){let{slots:r}=t;const i={onBeforeEnter(n){n.style.pointerEvents="none"},async onEnter(n,a){await new Promise(u=>requestAnimationFrame(u));const{x:s,y:o}=Qg(e.target,n);n.animate([{transform:`translate(${s}px, ${o}px) scale(0.1)`,opacity:0},{transform:""}],{duration:225,easing:UP}).finished.then(()=>a())},onAfterEnter(n){n.style.removeProperty("pointer-events")},onBeforeLeave(n){n.style.pointerEvents="none"},async onLeave(n,a){await new Promise(u=>requestAnimationFrame(u));const{x:s,y:o}=Qg(e.target,n);n.animate([{transform:""},{transform:`translate(${s}px, ${o}px) scale(0.1)`,opacity:0}],{duration:125,easing:VP}).finished.then(()=>a())},onAfterLeave(n){n.style.removeProperty("pointer-events")}};return()=>e.target?k(ar,gt({name:"dialog-transition"},i,{css:!1}),r):k(ar,{name:"dialog-transition"},r)}});function Qg(e,t){const r=e.getBoundingClientRect(),i=dp(t),[n,a]=getComputedStyle(t).transformOrigin.split(" ").map(c=>parseFloat(c)),[s,o]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=r.left+r.width/2;s==="left"||o==="left"?l-=r.width/2:(s==="right"||o==="right")&&(l+=r.width/2);let u=r.top+r.height/2;return s==="top"||o==="top"?u-=r.height/2:(s==="bottom"||o==="bottom")&&(u+=r.height/2),{x:l-(n+i.left),y:u-(a+i.top)}}Xt("carousel-transition");Xt("carousel-reverse-transition");Xt("tab-transition");Xt("tab-reverse-transition");Xt("menu-transition");Xt("fab-transition","center center","out-in");Xt("dialog-bottom-transition");Xt("dialog-top-transition");const Jg=Xt("fade-transition");Xt("scale-transition");Xt("scroll-x-transition");Xt("scroll-x-reverse-transition");Xt("scroll-y-transition");Xt("scroll-y-reverse-transition");Xt("slide-x-transition");Xt("slide-x-reverse-transition");const nT=Xt("slide-y-transition");Xt("slide-y-reverse-transition");const vO=Zb("expand-transition",eT()),rT=Zb("expand-x-transition",eT("",!0));const gO=it({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function yO(e,t){const r={},i=n=>()=>{if(!Mt)return Promise.resolve(!0);const a=n==="openDelay";return r.closeDelay&&window.clearTimeout(r.closeDelay),delete r.closeDelay,r.openDelay&&window.clearTimeout(r.openDelay),delete r.openDelay,new Promise(s=>{var o;const l=parseInt((o=e[n])!=null?o:0,10);r[n]=window.setTimeout(()=>{t==null||t(a),s(a)},l)})};return{runCloseDelay:i("closeDelay"),runOpenDelay:i("openDelay")}}const Zf=Symbol.for("vuetify:v-menu"),_O=it(H({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean},gO()));function bO(e,t){let{isActive:r,isTop:i}=t;const n=Z();let a=!1,s=!1;const o=j(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),l=j(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!o.value),{runOpenDelay:u,runCloseDelay:c}=yO(e,S=>{S===(e.openOnHover&&a||o.value&&s)&&!(e.openOnHover&&r.value&&!i.value)&&(r.value=S)}),f={click:S=>{S.stopPropagation(),n.value=S.currentTarget||S.target,r.value=!r.value},mouseenter:S=>{a=!0,n.value=S.currentTarget||S.target,u()},mouseleave:S=>{a=!1,c()},focus:S=>{jP&&!S.target.matches(":focus-visible")||(s=!0,S.stopPropagation(),n.value=S.currentTarget||S.target,u())},blur:S=>{s=!1,S.stopPropagation(),c()}},d=j(()=>{const S={};return l.value&&(S.click=f.click),e.openOnHover&&(S.mouseenter=f.mouseenter,S.mouseleave=f.mouseleave),o.value&&(S.focus=f.focus,S.blur=f.blur),S}),p=j(()=>{const S={};if(e.openOnHover&&(S.mouseenter=()=>{a=!0,u()},S.mouseleave=()=>{a=!1,c()}),e.closeOnContentClick){const w=ut(Zf,null);S.click=()=>{r.value=!1,w==null||w.closeParents()}}return S});Le(i,S=>{S&&e.openOnHover&&!a&&(r.value=!1)});const y=Z();Tr(()=>{!y.value||Tn(()=>{const S=y.value;n.value=EP(S)?S.$el:S})});const b=Kn("useActivator");let T;return Le(()=>!!e.activator,S=>{S&&Mt?(T=ua(),T.run(()=>{TO(e,b,{activatorEl:n,activatorEvents:d})})):T&&T.stop()},{flush:"post",immediate:!0}),{activatorEl:n,activatorRef:y,activatorEvents:d,contentEvents:p}}function TO(e,t,r){let{activatorEl:i,activatorEvents:n}=r;Le(()=>e.activator,(l,u)=>{if(u&&l!==u){const c=o(u);c&&s(c)}l&&Tn(()=>a())},{immediate:!0}),Le(()=>e.activatorProps,()=>{a()}),ca(()=>{s()});function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;!l||(Object.entries(n.value).forEach(c=>{let[f,d]=c;l.addEventListener(f,d)}),Object.keys(u).forEach(c=>{u[c]==null?l.removeAttribute(c):l.setAttribute(c,u[c])}))}function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;!l||(Object.entries(n.value).forEach(c=>{let[f,d]=c;l.removeEventListener(f,d)}),Object.keys(u).forEach(c=>{l.removeAttribute(c)}))}function o(){var l;let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator,c;if(u)if(u==="parent"){var f,d;c=t==null||(f=t.proxy)==null||(d=f.$el)==null?void 0:d.parentNode}else typeof u=="string"?c=document.querySelector(u):"$el"in u?c=u.$el:c=u;return i.value=((l=c)==null?void 0:l.nodeType)===Node.ELEMENT_NODE?c:null,i.value}}function Zg(e){let[t,r]=e.split(" ");return r||(r=t==="top"||t==="bottom"?"start":t==="start"||t==="end"?"top":"center"),{side:t,align:r}}function Hd(e){return{side:{center:"center",top:"bottom",bottom:"top",start:"end",end:"start"}[e.side],align:e.align}}function e0(e,t){var r,i;const{side:n,align:a}=e,{direction:s}=window.getComputedStyle(t),o=s==="ltr"?{start:"left",end:"right"}:{start:"right",end:"left"};return((r=o[n])!=null?r:n)+" "+((i=o[a])!=null?i:a)}function Wd(e,t){return{x:e.x+t.x,y:e.y+t.y}}function SO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function t0(e,t){if(e.side==="top"||e.side==="bottom"){const{side:r,align:i}=e,n=i==="start"?0:i==="center"?t.width/2:i==="end"?t.width:i,a=r==="top"?0:r==="bottom"?t.height:r;return Wd({x:n,y:a},t)}else if(e.side==="start"||e.side==="end"){const{side:r,align:i}=e,n=r==="start"?0:r==="end"?t.width:r,a=i==="top"?0:i==="center"?t.height/2:i==="bottom"?t.height:i;return Wd({x:n,y:a},t)}return Wd({x:t.width/2,y:t.height/2},t)}const iT={static:CO,connected:wO},xO=it({positionStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in iT},anchor:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String]});function EO(e,t){const r=Z({}),i=Z();let n;Tr(async()=>{var s;(s=n)==null||s.stop(),i.value=void 0,Mt&&t.isActive.value&&e.positionStrategy&&(n=ua(),await Tn(),n.run(()=>{if(typeof e.positionStrategy=="function"){var o;i.value=(o=e.positionStrategy(t,e,r))==null?void 0:o.updatePosition}else{var l;i.value=(l=iT[e.positionStrategy](t,e,r))==null?void 0:l.updatePosition}}))}),Mt&&window.addEventListener("resize",a,{passive:!0}),ca(()=>{var s;Mt&&window.removeEventListener("resize",a),i.value=void 0,(s=n)==null||s.stop()});function a(s){var o;(o=i.value)==null||o.call(i,s)}return{contentStyles:r,updatePosition:i}}function CO(){}function wO(e,t,r){const i=HP(e.activatorEl.value);i&&Object.assign(r.value,{position:"fixed"});const n=j(()=>Zg(t.anchor)),a=j(()=>t.origin==="overlap"?n.value:t.origin==="auto"?Hd(n.value):Zg(t.origin)),s=j(()=>n.value.side===a.value.side),o=j(()=>{const f=parseFloat(t.maxHeight);return isNaN(f)?1/0:f}),l=j(()=>{const f=parseFloat(t.minWidth);return isNaN(f)?1/0:f});let u=!1;if(Mt){const f=new ResizeObserver(()=>{u&&c()});f.observe(e.activatorEl.value),f.observe(e.contentEl.value),ca(()=>{f.disconnect()})}function c(){var f;u=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>u=!0)});const d=e.activatorEl.value.getBoundingClientRect();t.offset&&(d.x-=+t.offset,d.y-=+t.offset,d.width+=+t.offset*2,d.height+=+t.offset*2);const p=gb(e.contentEl.value),y=p.clientWidth,b=Math.min(p.clientHeight,window.innerHeight);let T;{const ce=new Map;e.contentEl.value.querySelectorAll("*").forEach(ee=>{const se=ee.scrollLeft,te=ee.scrollTop;(se||te)&&ce.set(ee,[se,te])});const ye=e.contentEl.value.style.maxWidth,xe=e.contentEl.value.style.maxHeight;e.contentEl.value.style.removeProperty("max-width"),e.contentEl.value.style.removeProperty("max-height"),T=dp(e.contentEl.value),T.x-=parseFloat(e.contentEl.value.style.left)||0,T.y-=parseFloat(e.contentEl.value.style.top)||0,e.contentEl.value.style.maxWidth=ye,e.contentEl.value.style.maxHeight=xe,ce.forEach((ee,se)=>{se.scrollTo(...ee)})}const S=Math.min(o.value,T.height),w=t.maxWidth===void 0?Number.MAX_VALUE:parseInt((f=t.maxWidth)!=null?f:0,10),D=12,P={top:d.top-D,bottom:b-d.bottom-D,left:Math.min(d.left-D,w),right:Math.min(y-d.right-D,w)},I=n.value.side==="bottom"&&S<=P.bottom||n.value.side==="top"&&S<=P.top,L=I?n.value:n.value.side==="bottom"&&P.top>P.bottom||n.value.side==="top"&&P.bottom>P.top?Hd(n.value):n.value,A=I?a.value:Hd(L),M=s.value||["center","top","bottom"].includes(L.side)?Math.min(y,Math.max(d.width,y-D*2)):L.side==="end"?P.right:L.side==="start"?P.left:null,N=Math.min(l.value,M,d.width),W=I?o.value:Math.min(o.value,Math.floor(L.side==="top"?P.top:P.bottom)),X=t0(L,d),Y=t0(A,new Pu(et(H({},T),{height:Math.min(S,W)}))),{x:le,y:fe}=SO(X,Y);Object.assign(r.value,{"--v-overlay-anchor-origin":e0(L,e.activatorEl.value),top:$e(Math.round(fe)),left:$e(Math.round(le)),transformOrigin:e0(A,e.activatorEl.value),minWidth:$e(N),maxWidth:$e(M),maxHeight:$e(W)})}return Le(()=>[n.value,a.value,t.offset],()=>c(),{immediate:!i}),i&&Tn(()=>c()),requestAnimationFrame(()=>{r.value.maxHeight&&c()}),{updatePosition:c}}let eh=!0;const Ju=[];function kO(e){!eh||Ju.length?(Ju.push(e),th()):(eh=!1,e(),th())}let n0=-1;function th(){cancelAnimationFrame(n0),n0=requestAnimationFrame(()=>{const e=Ju.shift();e&&e(),Ju.length?th():eh=!0})}const nh={none:null,close:IO,block:OO,reposition:LO},PO=it({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in nh}});function AO(e,t){if(!Mt)return;let r;Tr(async()=>{var i;(i=r)==null||i.stop(),t.isActive.value&&e.scrollStrategy&&(r=ua(),await Tn(),r.run(()=>{if(typeof e.scrollStrategy=="function")e.scrollStrategy(t);else{var n;(n=nh[e.scrollStrategy])==null||n.call(nh,t)}}))})}function IO(e){var t;function r(i){e.isActive.value=!1}aT((t=e.activatorEl.value)!=null?t:e.contentEl.value,r)}function OO(e){var t;const r=[...new Set([...Hf(e.activatorEl.value),...Hf(e.contentEl.value)])].filter(a=>!a.classList.contains("v-overlay-scroll-blocked")),i=window.innerWidth-document.documentElement.offsetWidth,n=(a=>vp(a)&&a)(((t=e.root.value)==null?void 0:t.offsetParent)||document.documentElement);n&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((a,s)=>{a.style.setProperty("--v-body-scroll-x",$e(-a.scrollLeft)),a.style.setProperty("--v-body-scroll-y",$e(-a.scrollTop)),a.style.setProperty("--v-scrollbar-offset",$e(i)),a.classList.add("v-overlay-scroll-blocked")}),ca(()=>{r.forEach((a,s)=>{const o=parseFloat(a.style.getPropertyValue("--v-body-scroll-x")),l=parseFloat(a.style.getPropertyValue("--v-body-scroll-y"));a.style.removeProperty("--v-body-scroll-x"),a.style.removeProperty("--v-body-scroll-y"),a.style.removeProperty("--v-scrollbar-offset"),a.classList.remove("v-overlay-scroll-blocked"),a.scrollLeft=-o,a.scrollTop=-l}),n&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function LO(e){var t;let r=!1,i=-1;function n(a){kO(()=>{var s,o;const l=performance.now();(s=(o=e.updatePosition).value)==null||s.call(o,a),r=(performance.now()-l)/(1e3/60)>2})}aT((t=e.activatorEl.value)!=null?t:e.contentEl.value,a=>{r?(cancelAnimationFrame(i),i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n(a)})})):n(a)})}function aT(e,t){const r=[document,...Hf(e)];r.forEach(i=>{i.addEventListener("scroll",t,{passive:!0})}),ca(()=>{r.forEach(i=>{i.removeEventListener("scroll",t)})})}var DO={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Page {0}, Current Page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}}};const RO={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!1,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1},rh=Symbol.for("vuetify:rtl");function MO(e,t){var r,i;return FO({rtl:H(H({},RO),(r=t==null?void 0:t.rtl)!=null?r:{}),isRtl:Z((i=t==null?void 0:t.defaultRtl)!=null?i:!1),rtlClasses:Z("")},e)}function FO(e,t,r){const i=j(()=>typeof(r==null?void 0:r.rtl)=="boolean"?r.rtl:t.current.value&&e.rtl.hasOwnProperty(t.current.value)?e.rtl[t.current.value]:e.isRtl.value);return{isRtl:i,rtl:e.rtl,rtlClasses:j(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function Gc(){const e=ut(rh);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return e}function To(e){return{teleportTarget:j(()=>{const r=e.value;if(r===!0||!Mt)return;const i=r===!1?document.body:typeof r=="string"?document.querySelector(r):r;if(i==null){l1(`Unable to locate target ${r}`);return}if(!To.cache.has(i)){const n=document.createElement("div");n.className="v-overlay-container",i.appendChild(n),To.cache.set(i,n)}return To.cache.get(i)})}}To.cache=new WeakMap;const NO=it({eager:Boolean},"lazy");function BO(e,t){const r=Z(!1),i=j(()=>r.value||e.eager||t.value);Le(t,()=>r.value=!0);function n(){e.eager||(r.value=!1)}return{isBooted:r,hasContent:i,onAfterLeave:n}}const qs=Z([]);function UO(e){const t=Kn("useStack");let r;Le(e,n=>{if(n)r=ua(),r.run(()=>{qs.value.push(t),ca(()=>{const s=qs.value.indexOf(t);qs.value.splice(s,1)})});else{var a;(a=r)==null||a.stop()}},{immediate:!0});const i=Z(!0);return Tr(()=>{const n=Qe(qs.value[qs.value.length-1])===t;setTimeout(()=>i.value=n)}),{isTop:Ac(i)}}function VO(){return!0}function sT(e,t,r){if(!e||oT(e,r)===!1)return!1;const i=vb(t);if(typeof ShadowRoot!="undefined"&&i instanceof ShadowRoot&&i.host===e.target)return!1;const n=(typeof r.value=="object"&&r.value.include||(()=>[]))();return n.push(t),!n.some(a=>a==null?void 0:a.contains(e.target))}function oT(e,t){return(typeof t.value=="object"&&t.value.closeConditional||VO)(e)}function $O(e,t,r){const i=typeof r.value=="function"?r.value:r.value.handler;t._clickOutside.lastMousedownWasOutside&&sT(e,t,r)&&setTimeout(()=>{oT(e,r)&&i&&i(e)},0)}function r0(e,t){const r=vb(e);t(document),typeof ShadowRoot!="undefined"&&r instanceof ShadowRoot&&t(r)}const jO={mounted(e,t){const r=n=>$O(n,e,t),i=n=>{e._clickOutside.lastMousedownWasOutside=sT(n,e,t)};r0(e,n=>{n.addEventListener("click",r,!0),n.addEventListener("mousedown",i,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!0}),e._clickOutside[t.instance.$.uid]={onClick:r,onMousedown:i}},unmounted(e,t){!e._clickOutside||(r0(e,r=>{var i;if(!r||!((i=e._clickOutside)!=null&&i[t.instance.$.uid]))return;const{onClick:n,onMousedown:a}=e._clickOutside[t.instance.$.uid];r.removeEventListener("click",n,!0),r.removeEventListener("mousedown",a,!0)}),delete e._clickOutside[t.instance.$.uid])}};function HO(e){const n=e,{modelValue:t,color:r}=n,i=dr(n,["modelValue","color"]);return k(ar,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&k("div",gt({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},i),null)]})}const Kc=sn()({name:"VOverlay",directives:{ClickOutside:jO},inheritAttrs:!1,props:H(H(H(H(H(H(H({absolute:Boolean,attach:[Boolean,String,Object],contained:Boolean,contentClass:null,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[String,Boolean],default:!0}},_O()),pa()),xO()),PO()),Nt()),Er()),NO()),emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:r,attrs:i,emit:n}=t;const a=Wt(e,"modelValue"),{teleportTarget:s}=To(j(()=>e.attach||e.contained)),{themeClasses:o}=Kt(e),{rtlClasses:l}=Gc(),{hasContent:u,onAfterLeave:c}=BO(e,a),f=sr(j(()=>typeof e.scrim=="string"?e.scrim:null)),{isTop:d}=UO(a),{activatorEl:p,activatorRef:y,activatorEvents:b,contentEvents:T}=bO(e,{isActive:a,isTop:d}),{dimensionStyles:S}=ma(e),w=Z(),D=Z(),{contentStyles:P,updatePosition:I}=EO(e,{contentEl:D,activatorEl:p,isActive:a});AO(e,{root:w,contentEl:D,activatorEl:p,isActive:a,updatePosition:I});function L(W){n("click:outside",W),e.persistent?N():a.value=!1}function A(){return a.value&&d.value}Mt&&Le(a,W=>{W?window.addEventListener("keydown",R):window.removeEventListener("keydown",R)},{immediate:!0});function R(W){W.key==="Escape"&&d.value&&(e.persistent?N():a.value=!1)}hA(W=>{d.value&&a.value?(W(!1),e.persistent?N():a.value=!1):W()});const M=Z();Le(()=>a.value&&(e.absolute||e.contained)&&s.value==null,W=>{if(W){const X=gb(w.value);X&&X!==document.scrollingElement&&(M.value=X.scrollTop)}});function N(){var W;e.noClickAnimation||(W=D.value)==null||W.animate([{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:mp})}return Ft(()=>{var W,X;return k(nt,null,[(W=r.activator)==null?void 0:W.call(r,{isActive:a.value,props:gt({ref:y},Bv(b.value),e.activatorProps)}),Mt&&k(nk,{disabled:!s.value,to:s.value},{default:()=>[u.value&&k("div",gt({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":a.value,"v-overlay--contained":e.contained},o.value,l.value],style:{top:$e(M.value)},ref:w},i),[k(HO,{color:f,modelValue:a.value&&!!e.scrim},null),k(qi,{appear:!0,persisted:!0,transition:e.transition,target:p.value,onAfterLeave:()=>{c(),n("afterLeave")}},{default:()=>[Mn(k("div",gt({ref:D,class:["v-overlay__content",e.contentClass],style:[S.value,P.value]},Bv(T.value)),[(X=r.default)==null?void 0:X.call(r,{isActive:a})]),[[Ss,a.value],[ha("click-outside"),{handler:L,closeConditional:A,include:()=>[p.value]}]])]})])]})])}),{animateClick:N,contentEl:D,activatorEl:p,isTop:d,updatePosition:I}}}),Xc=sn()({name:"VDialog",inheritAttrs:!1,props:H(H({fullscreen:Boolean,origin:{type:String,default:"center center"},retainFocus:{type:Boolean,default:!0},scrollable:Boolean,modelValue:Boolean},pa({width:"auto"})),Er({transition:{component:tT}})),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:i}=t;const n=Wt(e,"modelValue"),{dimensionStyles:a}=ma(e),s=Z();function o(l){var u,c;const f=l.relatedTarget,d=l.target;if(f!==d&&(u=s.value)!=null&&u.contentEl&&(c=s.value)!=null&&c.isTop&&![document,s.value.contentEl].includes(d)&&!s.value.contentEl.contains(d)){const p=[...s.value.contentEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(T=>!T.hasAttribute("disabled"));if(!p.length)return;const y=p[0],b=p[p.length-1];f===y?b.focus():y.focus()}}return Mt&&Le(()=>n.value&&e.retainFocus,l=>{l?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0}),Le(n,async l=>{if(await Tn(),l){var u;(u=s.value.contentEl)==null||u.focus({preventScroll:!0})}else{var c;(c=s.value.activatorEl)==null||c.focus({preventScroll:!0})}}),()=>k(Kc,gt({modelValue:n.value,"onUpdate:modelValue":l=>n.value=l,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable}],style:a.value,transition:e.transition,ref:s,"aria-role":"dialog","aria-modal":"true",activatorProps:{"aria-haspopup":"dialog","aria-expanded":String(n.value)}},r),{default:i.default,activator:i.activator})}});const ls=He({name:"VContainer",props:H({fluid:{type:Boolean,default:!1}},St()),setup(e,t){let{slots:r}=t;return()=>k(e.tag,{class:["v-container",{"v-container--fluid":e.fluid}]},r)}}),kp=["sm","md","lg","xl","xxl"],lT=(()=>kp.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}))(),uT=(()=>kp.reduce((e,t)=>(e["offset"+Xr(t)]={type:[String,Number],default:null},e),{}))(),cT=(()=>kp.reduce((e,t)=>(e["order"+Xr(t)]={type:[String,Number],default:null},e),{}))(),i0={col:Object.keys(lT),offset:Object.keys(uT),order:Object.keys(cT)};function WO(e,t,r){let i=e;if(!(r==null||r===!1))return t&&(i+=`-${t.replace(e,"")}`),e==="col"&&(i="v-"+i),e==="col"&&(r===""||r===!0)||(i+=`-${r}`),i.toLowerCase()}const zO=He({name:"VCol",props:H(et(H(et(H(et(H({cols:{type:[Boolean,String,Number],default:!1}},lT),{offset:{type:[String,Number],default:null}}),uT),{order:{type:[String,Number],default:null}}),cT),{alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)}}),St()),setup(e,t){let{slots:r}=t;const i=j(()=>{const n=[];let a;for(a in i0)i0[a].forEach(o=>{const l=e[o],u=WO(a,o,l);u&&n.push(u)});const s=n.some(o=>o.startsWith("v-col-"));return n.push({"v-col":!s||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),n});return()=>{var n;return lr(e.tag,{class:i.value},(n=r.default)==null?void 0:n.call(r))}}}),qO=["sm","md","lg","xl","xxl"],Pp=["start","end","center"];function Ap(e,t){return qO.reduce((r,i)=>(r[e+Xr(i)]=t(),r),{})}const dT=e=>[...Pp,"baseline","stretch"].includes(e),fT=Ap("align",()=>({type:String,default:null,validator:dT})),hT=e=>[...Pp,"space-between","space-around"].includes(e),pT=Ap("justify",()=>({type:String,default:null,validator:hT})),mT=e=>[...Pp,"space-between","space-around","stretch"].includes(e),vT=Ap("alignContent",()=>({type:String,default:null,validator:mT})),a0={align:Object.keys(fT),justify:Object.keys(pT),alignContent:Object.keys(vT)},GO={align:"align",justify:"justify",alignContent:"align-content"};function KO(e,t,r){let i=GO[e];if(r!=null)return t&&(i+=`-${t.replace(e,"")}`),i+=`-${r}`,i.toLowerCase()}const So=He({name:"VRow",props:H(H(et(H(et(H({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:dT}},fT),{justify:{type:String,default:null,validator:hT}}),pT),{alignContent:{type:String,default:null,validator:mT}}),vT),St()),setup(e,t){let{slots:r}=t;const i=j(()=>{const n=[];let a;for(a in a0)a0[a].forEach(s=>{const o=e[s],l=KO(a,s,o);l&&n.push(l)});return n.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),n});return()=>{var n;return lr(e.tag,{class:["v-row",i.value]},(n=r.default)==null?void 0:n.call(r))}}}),ga=Gn("flex-grow-1","div","VSpacer");function gT(e){const t=Z(),r=Z(!1);if(gp){const i=new IntersectionObserver(n=>{e==null||e(n,i),r.value=!!n.find(a=>a.isIntersecting)});Bn(()=>{i.disconnect()}),Le(t,(n,a)=>{a&&(i.unobserve(a),r.value=!1),n&&i.observe(n)},{flush:"post"})}return{intersectionRef:t,isIntersecting:r}}function Zu(e){const t=Z(),r=Z();if(Mt){const i=new ResizeObserver(n=>{e==null||e(n,i),n.length&&(r.value=n[0].contentRect)});Bn(()=>{i.disconnect()}),Le(t,(n,a)=>{a&&(i.unobserve(a),r.value=void 0),n&&i.observe(n)},{flush:"post"})}return{resizeRef:t,contentRect:Ac(r)}}const ws=He({name:"VProgressCircular",props:H(H(H({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4}},al()),St({tag:"div"})),Nt()),setup(e,t){let{slots:r}=t;const i=20,n=2*Math.PI*i,a=Z(),{themeClasses:s}=Kt(e),{sizeClasses:o,sizeStyles:l}=sl(e),{textColorClasses:u,textColorStyles:c}=_i(ze(e,"color")),{textColorClasses:f,textColorStyles:d}=_i(ze(e,"bgColor")),{intersectionRef:p,isIntersecting:y}=gT(),{resizeRef:b,contentRect:T}=Zu(),S=j(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),w=j(()=>Number(e.width)),D=j(()=>l.value?Number(e.size):T.value?T.value.width:Math.max(w.value,32)),P=j(()=>i/(1-w.value/D.value)*2),I=j(()=>w.value/D.value*P.value),L=j(()=>$e((100-S.value)/100*n));return Tr(()=>{p.value=a.value,b.value=a.value}),()=>k(e.tag,{ref:a,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":y.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},s.value,o.value,u.value],style:[l.value,c.value],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:S.value},{default:()=>[k("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${P.value} ${P.value}`},[k("circle",{class:["v-progress-circular__underlay",f.value],style:d.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":I.value,"stroke-dasharray":n,"stroke-dashoffset":0},null),k("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":I.value,"stroke-dasharray":n,"stroke-dashoffset":L.value},null)]),r.default&&k("div",{class:"v-progress-circular__content"},[r.default({value:S.value})])]})}});const XO=He({name:"VMessages",props:H({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]}},Er({transition:{component:nT,leaveAbsolute:!0,group:!0}})),setup(e,t){let{slots:r}=t;const i=j(()=>ta(e.messages)),{textColorClasses:n,textColorStyles:a}=_i(j(()=>e.color));return()=>k(qi,{transition:e.transition,tag:"div",class:["v-messages",n.value],style:a.value},{default:()=>[e.active&&i.value.map((s,o)=>k("div",{class:"v-messages__message",key:`${o}-${i.value}`},[r.message?r.message({message:s}):s]))]})}}),YO=Symbol.for("vuetify:form");function QO(){return ut(YO,null)}const JO=it({disabled:Boolean,error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,readonly:Boolean,rules:{type:Array,default:()=>[]},modelValue:null});function ZO(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jr();const r=Wt(e,"modelValue"),i=QO(),n=Z([]),a=Z(!0),s=j(()=>ta(r.value===""?null:r.value).length>0),o=j(()=>!!(e.disabled||i!=null&&i.isDisabled.value)),l=j(()=>!!(e.readonly||i!=null&&i.isReadonly.value)),u=j(()=>e.errorMessages.length?ta(e.errorMessages):n.value),c=j(()=>e.error||u.value.length?!1:a.value?null:!0),f=Z(!1),d=j(()=>({[`${t}--error`]:c.value===!1,[`${t}--dirty`]:s.value,[`${t}--disabled`]:o.value,[`${t}--readonly`]:l.value})),p=j(()=>{var S;return(S=e.name)!=null?S:xr()});rl(()=>{i==null||i.register(p.value,T,y,b,c)}),Bn(()=>{i==null||i.unregister(p.value)}),Le(r,()=>{r.value!=null&&T()});function y(){b(),r.value=null}function b(){a.value=!0,n.value=[]}async function T(){const S=[];f.value=!0;for(const w of e.rules){if(S.length>=(e.maxErrors||1))break;const P=await(typeof w=="function"?w:()=>w)(r.value);if(P!==!0){if(typeof P!="string"){console.warn(`${P} is not a valid value. Rule functions must return boolean true or a string.`);continue}S.push(P)}}return n.value=S,f.value=!1,a.value=!1,n.value}return{errorMessages:u,isDirty:s,isDisabled:o,isReadonly:l,isPristine:a,isValid:c,isValidating:f,reset:y,resetValidation:b,validate:T,validationClasses:d}}const yT=it(H(H({id:String,appendIcon:String,prependIcon:String,hideDetails:[Boolean,String],messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)}},Cr()),JO())),_T=sn()({name:"VInput",props:H({},yT()),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:i,emit:n}=t;const{densityClasses:a}=wr(e),{errorMessages:s,isDirty:o,isDisabled:l,isReadonly:u,isPristine:c,isValid:f,isValidating:d,reset:p,resetValidation:y,validate:b,validationClasses:T}=ZO(e),S=xr(),w=j(()=>e.id||`input-${S}`),D=j(()=>({id:w,isDirty:o,isDisabled:l,isReadonly:u,isPristine:c,isValid:f,isValidating:d,reset:p,resetValidation:y,validate:b}));return Ft(()=>{var P,I,L,A,R;const M=!!(i.prepend||e.prependIcon),N=!!(i.append||e.appendIcon),W=!!((P=e.messages)!=null&&P.length||s.value.length),X=!e.hideDetails||e.hideDetails==="auto"&&W;return k("div",{class:["v-input",`v-input--${e.direction}`,a.value,T.value]},[M&&k("div",{class:"v-input__prepend"},[i==null||(I=i.prepend)==null?void 0:I.call(i,D.value),e.prependIcon&&k(kt,{onClick:r["onClick:prepend"],icon:e.prependIcon},null)]),i.default&&k("div",{class:"v-input__control"},[(L=i.default)==null?void 0:L.call(i,D.value)]),N&&k("div",{class:"v-input__append"},[i==null||(A=i.append)==null?void 0:A.call(i,D.value),e.appendIcon&&k(kt,{onClick:r["onClick:append"],icon:e.appendIcon},null)]),X&&k("div",{class:"v-input__details"},[k(XO,{active:W,messages:s.value.length>0?s.value:e.messages},{message:i.message}),(R=i.details)==null?void 0:R.call(i,D.value)])])}),{reset:p,resetValidation:y,validate:b}}});function eL(e){return il(e,Object.keys(_T.props))}const tL=He({name:"VLabel",props:H({text:String},Nt()),setup(e,t){let{slots:r}=t;return()=>{var i;return k("label",{class:"v-label"},[e.text,(i=r.default)==null?void 0:i.call(r)])}}}),ou=He({name:"VFieldLabel",props:{floating:Boolean},setup(e,t){let{slots:r}=t;return()=>k(tL,{class:["v-field-label",{"v-field-label--floating":e.floating}],"aria-hidden":e.floating||void 0},r)}});const nL=He({name:"VProgressLinear",props:H(H(H({active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean},Xn()),St()),Nt()),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const i=Wt(e,"modelValue"),{isRtl:n}=Gc(),{themeClasses:a}=Kt(e),{textColorClasses:s,textColorStyles:o}=_i(e,"color"),{backgroundColorClasses:l,backgroundColorStyles:u}=sr(j(()=>e.bgColor||e.color)),{backgroundColorClasses:c,backgroundColorStyles:f}=sr(e,"color"),{roundedClasses:d}=Yn(e),{intersectionRef:p,isIntersecting:y}=gT(),b=j(()=>parseInt(e.max,10)),T=j(()=>parseInt(e.height,10)),S=j(()=>parseFloat(e.bufferValue)/b.value*100),w=j(()=>parseFloat(i.value)/b.value*100),D=j(()=>n.value!==e.reverse),P=j(()=>e.indeterminate?"fade-transition":"slide-x-transition"),I=j(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function L(A){if(!p.value)return;const{left:R,right:M,width:N}=p.value.getBoundingClientRect(),W=D.value?N-A.clientX+(M-N):A.clientX-R;i.value=Math.round(W/N*b.value)}return()=>k(e.tag,{ref:p,class:["v-progress-linear",{"v-progress-linear--active":e.active&&y.value,"v-progress-linear--reverse":D.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},d.value,a.value],style:{height:e.active?$e(T.value):0,"--v-progress-linear-height":$e(T.value)},role:"progressbar","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:w.value,onClick:e.clickable&&L},{default:()=>[e.stream&&k("div",{class:["v-progress-linear__stream",s.value],style:et(H({},o.value),{[D.value?"left":"right"]:$e(-T.value),borderTop:`${$e(T.value/2)} dotted`,opacity:I.value,top:`calc(50% - ${$e(T.value/4)})`,width:$e(100-S.value,"%"),"--v-progress-linear-stream-to":$e(T.value*(D.value?1:-1))})},null),k("div",{class:["v-progress-linear__background",l.value],style:[u.value,{opacity:I.value,width:$e(e.stream?S.value:100,"%")}]},null),k(ar,{name:P.value},{default:()=>[e.indeterminate?k("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(A=>k("div",{key:A,class:["v-progress-linear__indeterminate",A,c.value],style:f.value},null))]):k("div",{class:["v-progress-linear__determinate",c.value],style:[f.value,{width:$e(w.value,"%")}]},null)]}),r.default&&k("div",{class:"v-progress-linear__content"},[r.default({value:w.value,buffer:S.value})])]})}}),rL=it({loading:Boolean},"loader");function iL(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jr();return{loaderClasses:j(()=>({[`${t}--loading`]:e.loading}))}}function aL(e,t){var r;let{slots:i}=t;return k("div",{class:`${e.name}__loader`},[((r=i.default)==null?void 0:r.call(i,{color:e.color,isActive:e.active}))||k(nL,{active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const sL=it({focused:Boolean},"focus");function oL(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jr();const r=Wt(e,"focused"),i=j(()=>({[`${t}--focused`]:r.value}));function n(){r.value=!0}function a(){r.value=!1}return{focusClasses:i,isFocused:r,focus:n,blur:a}}const lL=["underlined","outlined","filled","contained","plain"],bT=it(H(H({appendInnerIcon:String,bgColor:String,clearable:Boolean,clearIcon:{type:String,default:"$clear"},active:Boolean,color:String,dirty:Boolean,disabled:Boolean,error:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:String,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>lL.includes(e)}},Nt()),rL()),"v-field"),TT=sn()({name:"VField",inheritAttrs:!1,props:H(H({id:String},sL()),bT()),emits:{"click:clear":e=>!0,"click:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:i,slots:n}=t;const{themeClasses:a}=Kt(e),{loaderClasses:s}=iL(e),{focusClasses:o,isFocused:l,focus:u,blur:c}=oL(e),f=j(()=>e.dirty||e.active),d=j(()=>!e.singleLine&&!!(e.label||n.label)),p=xr(),y=j(()=>e.id||`input-${p}`),b=Z(),T=Z(),S=Z(),{backgroundColorClasses:w,backgroundColorStyles:D}=sr(ze(e,"bgColor")),{textColorClasses:P,textColorStyles:I}=_i(j(()=>f.value&&l.value&&!e.error&&!e.disabled?e.color:void 0));Le(f,R=>{if(d.value){const M=b.value.$el,N=T.value.$el,W=dp(M),X=N.getBoundingClientRect(),Y=X.x-W.x,le=X.y-W.y-(W.height/2-X.height/2),fe=X.width/.75,ce=Math.abs(fe-W.width)>1?{maxWidth:$e(fe)}:void 0,ye=parseFloat(getComputedStyle(M).transitionDuration)*1e3,xe=parseFloat(getComputedStyle(N).getPropertyValue("--v-field-label-scale"));M.style.visibility="visible",N.style.visibility="hidden",M.animate([{transform:"translate(0)"},H({transform:`translate(${Y}px, ${le}px) scale(${xe})`},ce)],{duration:ye,easing:mp,direction:R?"normal":"reverse"}).finished.then(()=>{M.style.removeProperty("visibility"),N.style.removeProperty("visibility")})}},{flush:"post"});const L=j(()=>({isActive:f,isFocused:l,controlRef:S,blur:c,focus:u}));function A(R){R.target!==document.activeElement&&R.preventDefault(),i("click:control",R)}return Ft(()=>{var R,M,N;const W=e.variant==="outlined",X=n.prependInner||e.prependInnerIcon,Y=!!(e.clearable||n.clear),le=!!(n.appendInner||e.appendInnerIcon||Y),fe=n.label?n.label({label:e.label,props:{for:y.value}}):e.label;return k("div",gt({class:["v-field",{"v-field--active":f.value,"v-field--appended":le,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":X,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--has-label":!!fe,[`v-field--variant-${e.variant}`]:!0},a.value,w.value,o.value,s.value],style:[D.value,I.value],onClick:A},r),[k("div",{class:"v-field__overlay"},null),k(aL,{name:"v-field",active:e.loading,color:e.error?"error":e.color},{default:n.loader}),X&&k("div",{class:"v-field__prepend-inner"},[e.prependInnerIcon&&k(kt,{onClick:r["onClick:prependInner"],icon:e.prependInnerIcon},null),n==null||(R=n.prependInner)==null?void 0:R.call(n,L.value)]),k("div",{class:"v-field__field"},[["contained","filled"].includes(e.variant)&&d.value&&k(ou,{ref:T,class:[P.value],floating:!0},{default:()=>[fe]}),k(ou,{ref:b,for:y.value},{default:()=>[fe]}),(M=n.default)==null?void 0:M.call(n,et(H({},L.value),{props:{id:y.value,class:"v-field__input"},focus:u,blur:c}))]),Y&&k(rT,null,{default:()=>[Mn(k("div",{class:"v-field__clearable"},[n.clear?n.clear():k(kt,{onClick:ce=>i("click:clear",ce),icon:e.clearIcon},null)]),[[Ss,e.dirty]])]}),le&&k("div",{class:"v-field__append-inner"},[n==null||(N=n.appendInner)==null?void 0:N.call(n,L.value),e.appendInnerIcon&&k(kt,{onClick:r["onClick:appendInner"],icon:e.appendInnerIcon},null)]),k("div",{class:["v-field__outline",P.value]},[W&&k(nt,null,[k("div",{class:"v-field__outline__start"},null),d.value&&k("div",{class:"v-field__outline__notch"},[k(ou,{ref:T,floating:!0},{default:()=>[fe]})]),k("div",{class:"v-field__outline__end"},null)]),["plain","underlined"].includes(e.variant)&&d.value&&k(ou,{ref:T,floating:!0},{default:()=>[fe]})])])}),{controlRef:S}}});function uL(e){return il(e,Object.keys(TT.props))}const cL=He({name:"VCounter",functional:!0,props:H({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0}},Er({transition:{component:nT}})),setup(e,t){let{slots:r}=t;const i=j(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return()=>k(qi,{transition:e.transition},{default:()=>[Mn(k("div",{class:"v-counter"},[r.default?r.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[Ss,e.active]])]})}});function dl(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return new Proxy(e,{get(n,a){if(Reflect.has(n,a))return Reflect.get(n,a);for(const s of r)if(s.value&&Reflect.has(s.value,a)){const o=Reflect.get(s.value,a);return typeof o=="function"?o.bind(s.value):o}},getOwnPropertyDescriptor(n,a){const s=Reflect.getOwnPropertyDescriptor(n,a);if(s)return s;for(const o of r){if(!o.value)continue;const l=Reflect.getOwnPropertyDescriptor(o.value,a);if(l)return l}for(const o of r){let l=o.value&&Object.getPrototypeOf(o.value);for(;l;){const u=Reflect.getOwnPropertyDescriptor(l,a);if(u)return u;l=Object.getPrototypeOf(l)}}}})}const dL=["color","file","time","date","datetime-local","week","month"],us=sn()({name:"VTextField",directives:{Intersect:Tb},inheritAttrs:!1,props:H(H({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"}},yT()),bT()),emits:{"click:clear":e=>!0,"click:control":e=>!0,"click:input":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:i,slots:n}=t;const a=Wt(e,"modelValue"),s=j(()=>{var w;return typeof e.counterValue=="function"?e.counterValue(a.value):((w=a.value)!=null?w:"").toString().length}),o=j(()=>{if(r.maxlength)return r.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function l(w,D){var P,I;!e.autofocus||!w||(P=D[0].target)==null||(I=P.focus)==null||I.call(P)}const u=Z(),c=Z(),f=Z(!1),d=Z(),p=j(()=>dL.includes(e.type)||e.persistentPlaceholder||f.value),y=j(()=>e.messages.length?e.messages:f.value||e.persistentHint?e.hint:"");function b(){if(d.value!==document.activeElement){var w;(w=d.value)==null||w.focus()}f.value||(f.value=!0)}function T(w){b(),i("click:control",w)}function S(w){w.stopPropagation(),b(),Tn(()=>{a.value="",i("click:clear",w)})}return Ft(()=>{const w=!!(n.counter||e.counter||e.counterValue),[D,P]=CP(r),[R]=eL(e),M=R,{modelValue:I}=M,L=dr(M,["modelValue"]),[A]=uL(e);return k(_T,gt({ref:u,modelValue:a.value,"onUpdate:modelValue":N=>a.value=N,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":r["onClick:prepend"],"onClick:append":r["onClick:append"]},D,L,{messages:y.value}),et(H({},n),{default:N=>{let{isDisabled:W,isDirty:X,isReadonly:Y,isValid:le}=N;return k(TT,gt({ref:c,onMousedown:fe=>{fe.target!==d.value&&fe.preventDefault()},"onClick:control":T,"onClick:clear":S,"onClick:prependInner":r["onClick:prependInner"],"onClick:appendInner":r["onClick:prependInner"],role:"textbox"},A,{active:p.value||X.value,dirty:X.value||e.dirty,focused:f.value,error:le.value===!1}),et(H({},n),{default:fe=>{var ce;let{props:ee}=fe,se=ee,{class:ye}=se,xe=dr(se,["class"]);return k(nt,null,[e.prefix&&k("span",{class:"v-text-field__prefix"},[e.prefix]),k("div",{class:ye,onClick:te=>i("click:input",te)},[(ce=n.default)==null?void 0:ce.call(n),Mn(k("input",gt({ref:d,"onUpdate:modelValue":te=>a.value=te,autofocus:e.autofocus,readonly:Y.value,disabled:W.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:b,onBlur:()=>f.value=!1},xe,P),null),[[Kk,a.value],[ha("intersect"),{handler:l},null,{once:!0}]])]),e.suffix&&k("span",{class:"v-text-field__suffix"},[e.suffix])])}}))},details:w?()=>k(nt,null,[k("span",null,null),k(cL,{active:e.persistentCounter||f.value,value:s.value,max:o.value},n.counter)]):void 0}))}),dl({},u,c,d)}}),fL=st("Backend Configuration"),hL=st("Reset"),pL={key:1},mL=st("Reload"),vL=Gt({name:"BackendDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const r=e,i=kr(),n=Jf(),a=iI(r,"modelValue",t),s=Z(!1),{isFetching:o,execute:l}=bi("/");n.$subscribe((f,d)=>{d.error&&(a.value=!0)});const u=()=>{window.location.reload()},c=()=>{i.backend="http://127.0.0.1:8000",i.token=""};return(f,d)=>(Ne(),Zt("div",null,[k(Xc,{modelValue:ne(a),"onUpdate:modelValue":d[4]||(d[4]=p=>Ze(a)?a.value=p:null),persistent:ne(n).error},{default:pe(()=>[k(va,{class:"parent"},{default:pe(()=>[k(Cb,null,{default:pe(()=>[fL]),_:1}),k(Bo,null,{default:pe(()=>[ne(n).error||!ne(n).updatedAt?(Ne(),at(Ig,{key:0,title:"Disconnected!",icon:"mdi-wifi-strength-alert-outline",color:"red"},{subtitle:pe(()=>{var p,y;return[st(Dt((p=ne(n).error)==null?void 0:p.status)+" "+Dt((y=ne(n).error)==null?void 0:y.message),1)]}),_:1})):(Ne(),at(Ig,{key:1,title:"Connected!",icon:"mdi-check-circle",color:"success"},{subtitle:pe(()=>{var p;return[st(" Updated At: "+Dt((p=ne(n).updatedAt)==null?void 0:p.toLocaleString()),1)]}),_:1})),k(us,{label:"Backend",modelValue:ne(i).backend,"onUpdate:modelValue":d[0]||(d[0]=p=>ne(i).backend=p),placeholder:"http://127.0.0.1:8000",clearable:"","hide-details":""},null,8,["modelValue"]),k(us,{label:"Secret Token",modelValue:ne(i).token,"onUpdate:modelValue":d[1]||(d[1]=p=>ne(i).token=p),"append-icon":s.value?"mdi-eye":"mdi-eye-off",type:s.value?"text":"password","onClick:append":d[2]||(d[2]=p=>s.value=!s.value),clearable:"","hide-details":""},null,8,["modelValue","append-icon","type"])]),_:1}),k(xb,{class:"justify-end"},{default:pe(()=>[k(bt,{color:"red",onClick:c},{default:pe(()=>[hL]),_:1}),k(ga),k(bt,{disabled:ne(o),onClick:d[3]||(d[3]=p=>ne(l)())},{default:pe(()=>[ne(o)?(Ne(),at(ws,{key:0,size:"22",indeterminate:""})):(Ne(),Zt("span",pL,"Test Connection"))]),_:1},8,["disabled"]),k(bt,{color:"blue",onClick:u},{default:pe(()=>[mL]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","persistent"])]))}});var gL=Cs(vL,[["__scopeId","data-v-5b4ee2a4"]]);const ec=Symbol.for("vuetify:layout"),ST=Symbol.for("vuetify:layout-item"),zd=1e3,yL=it({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Ip=it({name:{type:String},priority:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function _L(){const e=ut(ec);if(!e)throw new Error("Could not find injected Vuetify layout");return e}function Op(e){var t;const r=ut(ec);if(!r)throw new Error("Could not find injected Vuetify layout");const i=(t=e.id)!=null?t:`layout-item-${xr()}`,n=Kn("useLayoutItem");rn(ST,{id:i});const a=Z(!1);I_(()=>a.value=!0),A_(()=>a.value=!1);const{layoutItemStyles:s,layoutItemScrimStyles:o}=r.register(n,et(H({},e),{active:j(()=>a.value?!1:e.active.value),id:i}));return Bn(()=>r.unregister(i)),{layoutItemStyles:s,layoutRect:r.layoutRect,layoutItemScrimStyles:o}}const bL=(e,t,r,i)=>{let n={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:H({},n)}];for(const s of e){const o=t.get(s),l=r.get(s),u=i.get(s);if(!o||!l||!u)continue;const c=et(H({},n),{[o.value]:parseInt(n[o.value],10)+(u.value?parseInt(l.value,10):0)});a.push({id:s,layer:c}),n=c}return a};function TL(e){const t=ut(ec,null),r=j(()=>t?t.rootZIndex.value-100:zd),i=Z([]),n=xn(new Map),a=xn(new Map),s=xn(new Map),o=xn(new Map),l=xn(new Map),{resizeRef:u,contentRect:c}=Zu(),f=j(()=>{var I;const L=new Map,A=(I=e.overlaps)!=null?I:[];for(const R of A.filter(M=>M.includes(":"))){const[M,N]=R.split(":");if(!i.value.includes(M)||!i.value.includes(N))continue;const W=n.get(M),X=n.get(N),Y=a.get(M),le=a.get(N);!W||!X||!Y||!le||(L.set(N,{position:W.value,amount:parseInt(Y.value,10)}),L.set(M,{position:X.value,amount:-parseInt(le.value,10)}))}return L}),d=j(()=>{const I=[...new Set([...s.values()].map(A=>A.value))].sort((A,R)=>A-R),L=[];for(const A of I){const R=i.value.filter(M=>{var N;return((N=s.get(M))==null?void 0:N.value)===A});L.push(...R)}return bL(L,n,a,o)}),p=j(()=>!Array.from(l.values()).some(I=>I.value)),y=j(()=>{const I=d.value[d.value.length-1].layer;return H({position:"relative",paddingLeft:$e(I.left),paddingRight:$e(I.right),paddingTop:$e(I.top),paddingBottom:$e(I.bottom)},p.value?void 0:{transition:"none"})}),b=j(()=>d.value.slice(1).map((I,L)=>{let{id:A}=I;const{layer:R}=d.value[L],M=a.get(A);return et(H({id:A},R),{size:Number(M.value)})})),T=I=>b.value.find(L=>L.id===I),S=Kn("createLayout"),w=Z(!1);Nn(()=>{w.value=!0}),rn(ec,{register:(I,L)=>{let{id:A,priority:R,position:M,layoutSize:N,elementSize:W,active:X,disableTransitions:Y,absolute:le}=L;s.set(A,R),n.set(A,M),a.set(A,N),o.set(A,X),Y&&l.set(A,Y);const ce=go(ST,S==null?void 0:S.vnode).indexOf(I);ce>-1?i.value.splice(ce,0,A):i.value.push(A);const ye=j(()=>b.value.findIndex(te=>te.id===A)),xe=j(()=>r.value+d.value.length*2-ye.value*2),ee=j(()=>{const te=M.value==="left"||M.value==="right",Ce=M.value==="right",ie=M.value==="bottom",De=H({[M.value]:0,zIndex:xe.value,transform:`translate${te?"X":"Y"}(${(X.value?0:-110)*(Ce||ie?-1:1)}%)`,position:le.value||r.value!==zd?"absolute":"fixed"},p.value?void 0:{transition:"none"});if(!w.value)return De;if(ye.value<0)throw new Error(`Layout item "${A}" is missing`);const K=b.value[ye.value];if(!K)throw new Error(`Could not find layout item "${A}`);const ve=f.value.get(A);return ve&&(K[ve.position]+=ve.amount),et(H({},De),{height:te?`calc(100% - ${K.top}px - ${K.bottom}px)`:W.value?`${W.value}px`:void 0,marginLeft:Ce?void 0:`${K.left}px`,marginRight:Ce?`${K.right}px`:void 0,marginTop:M.value!=="bottom"?`${K.top}px`:void 0,marginBottom:M.value!=="top"?`${K.bottom}px`:void 0,width:te?W.value?`${W.value}px`:void 0:`calc(100% - ${K.left}px - ${K.right}px)`})}),se=j(()=>({zIndex:xe.value-1,position:r.value===zd?"fixed":"absolute"}));return{layoutItemStyles:ee,layoutItemScrimStyles:se,zIndex:xe}},unregister:I=>{s.delete(I),n.delete(I),a.delete(I),o.delete(I),l.delete(I),i.value=i.value.filter(L=>L!==I)},mainStyles:y,getLayoutItem:T,items:b,layoutRect:c,rootZIndex:r});const D=j(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),P=j(()=>({zIndex:r.value}));return{layoutClasses:D,layoutStyles:P,getLayoutItem:T,items:b,layoutRect:c,layoutRef:u}}const ih=Symbol.for("vuetify:display"),s0={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},SL=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s0;return na(s0,e)};function o0(){return Mt?Math.max(document.documentElement.clientWidth,window.innerWidth):0}function l0(){return Mt?Math.max(document.documentElement.clientHeight,window.innerHeight):0}function xL(){const e=Mt?window.navigator.userAgent:"ssr";function t(y){return Boolean(e.match(y))}const r=t(/android/i),i=t(/iphone|ipad|ipod/i),n=t(/cordova/i),a=t(/electron/i),s=t(/chrome/i),o=t(/edge/i),l=t(/firefox/i),u=t(/opera/i),c=t(/win/i),f=t(/mac/i),d=t(/linux/i),p=t(/ssr/i);return{android:r,ios:i,cordova:n,electron:a,chrome:s,edge:o,firefox:l,opera:u,win:c,mac:f,linux:d,touch:$P,ssr:p}}function EL(e){const{thresholds:t,mobileBreakpoint:r}=SL(e),i=Z(l0()),n=xL(),a=xn({}),s=Z(o0());function o(){i.value=l0(),s.value=o0()}return Tr(()=>{const l=s.value<t.sm,u=s.value<t.md&&!l,c=s.value<t.lg&&!(u||l),f=s.value<t.xl&&!(c||u||l),d=s.value<t.xxl&&!(f||c||u||l),p=s.value>=t.xxl,y=l?"xs":u?"sm":c?"md":f?"lg":d?"xl":"xxl",b=typeof r=="number"?r:t[r],T=n.ssr?n.android||n.ios||n.opera:s.value<b;a.xs=l,a.sm=u,a.md=c,a.lg=f,a.xl=d,a.xxl=p,a.smAndUp=!l,a.mdAndUp=!(l||u),a.lgAndUp=!(l||u||c),a.xlAndUp=!(l||u||c||f),a.smAndDown=!(c||f||d||p),a.mdAndDown=!(f||d||p),a.lgAndDown=!(d||p),a.xlAndDown=!p,a.name=y,a.height=i.value,a.width=s.value,a.mobile=T,a.mobileBreakpoint=r,a.platform=n,a.thresholds=t}),Mt&&window.addEventListener("resize",o,{passive:!0}),Qh(a)}function xT(){const e=ut(ih);if(!e)throw new Error("Could not find Vuetify display injection");return e}const CL=100,wL=20;function u0(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function c0(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let r=e.length-1;r>0;r--){if(e[r].t===e[r-1].t)continue;const i=u0(t),n=(e[r].d-e[r-1].d)/(e[r].t-e[r-1].t);t+=(n-i)*Math.abs(n),r===e.length-1&&(t*=.5)}return u0(t)*1e3}function kL(){const e={};function t(n){Array.from(n.changedTouches).forEach(a=>{var s;((s=e[a.identifier])!=null?s:e[a.identifier]=new wP(wL)).push([n.timeStamp,a])})}function r(n){Array.from(n.changedTouches).forEach(a=>{delete e[a.identifier]})}function i(n){var a;const s=(a=e[n])==null?void 0:a.values().reverse();if(!s)throw new Error(`No samples for touch id ${n}`);const o=s[0],l=[],u=[];for(const c of s){if(o[0]-c[0]>CL)break;l.push({t:c[0],d:c[1].clientX}),u.push({t:c[0],d:c[1].clientY})}return{x:c0(l),y:c0(u),get direction(){const{x:c,y:f}=this,[d,p]=[Math.abs(c),Math.abs(f)];return d>p&&c>=0?"right":d>p&&c<=0?"left":p>d&&f>=0?"down":p>d&&f<=0?"up":PL()}}}return{addMovement:t,endTouch:r,getVelocity:i}}function PL(){throw new Error}function AL(e){let{isActive:t,isTemporary:r,width:i,touchless:n,position:a}=e;Nn(()=>{window.addEventListener("touchstart",S,{passive:!0}),window.addEventListener("touchmove",w,{passive:!1}),window.addEventListener("touchend",D,{passive:!0})}),Bn(()=>{window.removeEventListener("touchstart",S),window.removeEventListener("touchmove",w),window.removeEventListener("touchend",D)});const s=j(()=>a.value!=="bottom"),{addMovement:o,endTouch:l,getVelocity:u}=kL();let c=!1;const f=Z(!1),d=Z(0),p=Z(0);let y;function b(I,L){return(a.value==="left"?I:a.value==="right"?document.documentElement.clientWidth-I:a.value==="bottom"?document.documentElement.clientHeight-I:Pa())-(L?i.value:0)}function T(I){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const A=a.value==="left"?(I-p.value)/i.value:a.value==="right"?(document.documentElement.clientWidth-I-p.value)/i.value:a.value==="bottom"?(document.documentElement.clientHeight-I-p.value)/i.value:Pa();return L?Math.max(0,Math.min(1,A)):A}function S(I){if(n.value)return;const L=I.changedTouches[0].clientX,A=I.changedTouches[0].clientY,R=25,M=a.value==="left"?L<R:a.value==="right"?L>document.documentElement.clientWidth-R:a.value==="bottom"?A>document.documentElement.clientHeight-R:Pa(),N=t.value&&(a.value==="left"?L<i.value:a.value==="right"?L>document.documentElement.clientWidth-i.value:a.value==="bottom"?A>document.documentElement.clientHeight-i.value:Pa());(M||N||t.value&&r.value)&&(c=!0,y=[L,A],p.value=b(s.value?L:A,t.value),d.value=T(s.value?L:A),l(I),o(I))}function w(I){const L=I.changedTouches[0].clientX,A=I.changedTouches[0].clientY;if(c){if(!I.cancelable){c=!1;return}const M=Math.abs(L-y[0]),N=Math.abs(A-y[1]);(s.value?M>N&&M>3:N>M&&N>3)?(f.value=!0,c=!1):(s.value?N:M)>3&&(c=!1)}if(!f.value)return;I.preventDefault(),o(I);const R=T(s.value?L:A,!1);d.value=Math.max(0,Math.min(1,R)),R>1?p.value=b(s.value?L:A,!0):R<0&&(p.value=b(s.value?L:A,!1))}function D(I){if(c=!1,!f.value)return;o(I),f.value=!1;const L=u(I.changedTouches[0].identifier),A=Math.abs(L.x),R=Math.abs(L.y);(s.value?A>R&&A>400:R>A&&R>3)?t.value=L.direction===({left:"right",right:"left",bottom:"up"}[a.value]||Pa()):t.value=d.value>.5}const P=j(()=>f.value?{transform:a.value==="left"?`translateX(calc(-100% + ${d.value*i.value}px))`:a.value==="right"?`translateX(calc(100% - ${d.value*i.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${d.value*i.value}px))`:Pa(),transition:"none"}:void 0);return{isDragging:f,dragProgress:d,dragStyles:P}}function Pa(){throw new Error}const IL=He({name:"VNavigationDrawer",props:H(H(H(H(H(H({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:Boolean,railWidth:{type:[Number,String],default:72},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},position:{type:String,default:"left",validator:e=>["left","right","bottom"].includes(e)}},Ei()),Zr()),Ip()),Xn()),St({tag:"nav"})),Nt()),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:i}=t;const{themeClasses:n}=Kt(e),{borderClasses:a}=Ci(e),{backgroundColorClasses:s,backgroundColorStyles:o}=sr(ze(e,"color")),{elevationClasses:l}=ei(e),{mobile:u}=xT(),{roundedClasses:c}=Yn(e),f=wb(),d=Wt(e,"modelValue",null,M=>!!M),p=Z(!1),y=j(()=>e.rail&&e.expandOnHover&&p.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),b=j(()=>!e.permanent&&(u.value||e.temporary));e.disableResizeWatcher||Le(b,M=>!e.permanent&&(d.value=!M)),!e.disableRouteWatcher&&f&&Le(f.currentRoute,()=>b.value&&(d.value=!1)),Le(()=>e.permanent,M=>{M&&(d.value=!0)}),rl(()=>{e.modelValue!=null||b.value||(d.value=e.permanent||!u.value)});const T=Z(),{isDragging:S,dragProgress:w,dragStyles:D}=AL({isActive:d,isTemporary:b,width:y,touchless:ze(e,"touchless"),position:ze(e,"position")}),P=j(()=>{const M=b.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):y.value;return S.value?M*w.value:M}),{layoutItemStyles:I,layoutRect:L,layoutItemScrimStyles:A}=Op({id:e.name,priority:j(()=>parseInt(e.priority,10)),position:ze(e,"position"),layoutSize:P,elementSize:y,active:j(()=>d.value||S.value),disableTransitions:j(()=>S.value),absolute:ze(e,"absolute")}),R=j(()=>H(H(H({},S.value?{opacity:w.value*.2,transition:"none"}:void 0),L.value?{left:$e(L.value.left),right:$e(L.value.right),top:$e(L.value.top),bottom:$e(L.value.bottom)}:void 0),A.value));return()=>{var M,N,W,X;const Y=i.image||e.image;return k(nt,null,[k(e.tag,gt({ref:T,onMouseenter:()=>p.value=!0,onMouseleave:()=>p.value=!1,class:["v-navigation-drawer",{"v-navigation-drawer--bottom":e.position==="bottom","v-navigation-drawer--end":e.position==="right","v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":p.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--start":e.position==="left","v-navigation-drawer--temporary":b.value,"v-navigation-drawer--active":d.value},n.value,s.value,a.value,l.value,c.value],style:[o.value,I.value,D.value]},r),{default:()=>[Y&&k("div",{class:"v-navigation-drawer__img"},[i.image?(M=i.image)==null?void 0:M.call(i,{image:e.image}):k("img",{src:e.image,alt:""},null)]),i.prepend&&k("div",{class:"v-navigation-drawer__prepend"},[(N=i.prepend)==null?void 0:N.call(i)]),k("div",{class:"v-navigation-drawer__content"},[(W=i.default)==null?void 0:W.call(i)]),i.append&&k("div",{class:"v-navigation-drawer__append"},[(X=i.append)==null?void 0:X.call(i)])]}),k(ar,{name:"fade-transition"},{default:()=>[b.value&&(S.value||d.value)&&k("div",{class:"v-navigation-drawer__scrim",style:R.value,onClick:()=>d.value=!1},null)]})])}}});const ET=Symbol.for("vuetify:v-chip-group");He({name:"VChipGroup",props:H(H(H(H({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:fp}},Ep({selectedClass:"v-chip--selected"})),St()),Nt()),wi({variant:"contained-text"})),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{themeClasses:i}=Kt(e),{isSelected:n,select:a,next:s,prev:o,selected:l}=wp(e,ET);return Qr({VChip:{color:ze(e,"color"),filter:ze(e,"filter"),variant:ze(e,"variant")}}),()=>{var u;return k(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},i.value]},{default:()=>[(u=r.default)==null?void 0:u.call(r,{isSelected:n,select:a,next:s,prev:o,selected:l.value})]})}}});const CT=He({name:"VChip",directives:{Ripple:cl},props:H(H(H(H(H(H(H(H(H(H({activeClass:String,appendAvatar:String,appendIcon:String,closable:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,pill:Boolean,prependAvatar:String,prependIcon:String,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0}},Ei()),Cr()),Zr()),qc()),Xn()),ol()),al()),St({tag:"span"})),Nt()),wi({variant:"contained-text"})),emits:{"click:close":e=>!0,"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:i,slots:n}=t;const a=Wt(e,"modelValue"),{themeClasses:s}=Kt(e),{borderClasses:o}=Ci(e),{colorClasses:l,colorStyles:u,variantClasses:c}=ul(e),{elevationClasses:f}=ei(e),d=Cp(e,ET,!1),{roundedClasses:p}=Yn(e),{sizeClasses:y}=sl(e),{densityClasses:b}=wr(e),T=jc(e,r);function S(w){a.value=!1,i("click:close",w)}return()=>{var w,D;const P=T.isLink.value?"a":e.tag,I=!!(n.append||e.appendIcon||e.appendAvatar),L=!!(n.close||e.closable),A=!!(n.filter||e.filter)&&d,R=!!(n.prepend||e.prependIcon||e.prependAvatar),M=!d||d.isSelected.value,N=!e.disabled&&(!!d||T.isClickable.value||e.link),W=e.link?e.link:d==null?void 0:d.toggle;return a.value&&Mn(k(P,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":N,"v-chip--pill":e.pill},s.value,o.value,M?l.value:void 0,b.value,f.value,p.value,y.value,c.value,d==null?void 0:d.selectedClass.value],style:[M?u.value:void 0],disabled:e.disabled||void 0,draggable:e.draggable,href:T.href.value,onClick:N&&W},{default:()=>[ll(N,"v-chip"),A&&k(rT,null,{default:()=>[Mn(k("div",{class:"v-chip__filter"},[n.filter?n.filter():k(kt,{icon:e.filterIcon},null)]),[[Ss,d.isSelected.value]])]}),R&&k("div",{class:"v-chip__prepend"},[n.prepend?n.prepend():k(ia,{icon:e.prependIcon,image:e.prependAvatar,size:e.size},null)]),(w=(D=n.default)==null?void 0:D.call(n,{isSelected:d==null?void 0:d.isSelected.value,selectedClass:d==null?void 0:d.selectedClass.value,select:d==null?void 0:d.select,toggle:d==null?void 0:d.toggle,value:d==null?void 0:d.value.value,disabled:e.disabled}))!=null?w:e.text,I&&k("div",{class:"v-chip__append"},[n.append?n.append():k(ia,{icon:e.appendIcon,image:e.appendAvatar,size:e.size},null)]),L&&k("div",{class:"v-chip__close",onClick:S},[n.close?n.close({props:{onClick:S}}):k(kt,{icon:e.closeIcon,size:"x-small"},null)])]}),[[ha("ripple"),N&&e.ripple,null]])}}});const xo=He({name:"VDivider",props:H({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean},Nt()),setup(e,t){let{attrs:r}=t;const{themeClasses:i}=Kt(e),{backgroundColorClasses:n,backgroundColorStyles:a}=sr(ze(e,"color")),s=j(()=>{const o={};return e.length&&(o[e.vertical?"maxHeight":"maxWidth"]=$e(e.length)),e.thickness&&(o[e.vertical?"borderRightWidth":"borderTopWidth"]=$e(e.thickness)),o});return()=>k("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},i.value,n.value],style:[s.value,a.value],"aria-orientation":!r.role||r.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${r.role||"separator"}`},null)}}),ah=Symbol.for("vuetify:list");function wT(){const e=ut(ah,{hasPrepend:Z(!1),updateHasPrepend:()=>null}),t={hasPrepend:Z(!1),updateHasPrepend:r=>{r&&(t.hasPrepend.value=r)}};return rn(ah,t),e}function kT(){return ut(ah,null)}const OL={open:e=>{let{id:t,value:r,opened:i,parents:n}=e;if(r){const a=new Set;a.add(t);let s=n.get(t);for(;s!=null;)a.add(s),s=n.get(s);return a}else return i.delete(t),i},select:()=>null},PT={open:e=>{let{id:t,value:r,opened:i,parents:n}=e;if(r){let a=n.get(t);for(i.add(t);a!=null&&a!==t;)i.add(a),a=n.get(a);return i}else i.delete(t);return i},select:()=>null},LL={open:PT.open,select:e=>{let{id:t,value:r,opened:i,parents:n}=e;if(!r)return i;const a=[];let s=n.get(t);for(;s!=null;)a.push(s),s=n.get(s);return new Set(a)}},Lp=e=>{const t={select:r=>{let{id:i,value:n,selected:a}=r;if(e&&!n){const s=Array.from(a.entries()).reduce((o,l)=>{let[u,c]=l;return c==="on"?[...o,u]:o},[]);if(s.length===1&&s[0]===i)return a}return a.set(i,n?"on":"off"),a},in:(r,i,n)=>{let a=new Map;for(const s of r||[])a=t.select({id:s,value:!0,selected:new Map(a),children:i,parents:n});return a},out:r=>{const i=[];for(const[n,a]of r.entries())a==="on"&&i.push(n);return i}};return t},AT=e=>{const t=Lp(e);return{select:i=>{let l=i,{selected:n,id:a}=l,s=dr(l,["selected","id"]);const o=n.has(a)?new Map([[a,n.get(a)]]):new Map;return t.select(et(H({},s),{id:a,selected:o}))},in:(i,n,a)=>{let s=new Map;return i!=null&&i.length&&(s=t.in(i.slice(0,1),n,a)),s},out:(i,n,a)=>t.out(i,n,a)}},DL=e=>{const t=Lp(e);return{select:i=>{let l=i,{id:n,selected:a,children:s}=l,o=dr(l,["id","selected","children"]);return s.has(n)?a:t.select(H({id:n,selected:a,children:s},o))},in:t.in,out:t.out}},RL=e=>{const t=AT(e);return{select:i=>{let l=i,{id:n,selected:a,children:s}=l,o=dr(l,["id","selected","children"]);return s.has(n)?a:t.select(H({id:n,selected:a,children:s},o))},in:t.in,out:t.out}},ML=e=>{const t={select:r=>{let{id:i,value:n,selected:a,children:s,parents:o}=r;const l=new Map(a),u=[i];for(;u.length;){const f=u.shift();a.set(f,n?"on":"off"),s.has(f)&&u.push(...s.get(f))}let c=o.get(i);for(;c;){const f=s.get(c),d=f.every(y=>a.get(y)==="on"),p=f.every(y=>!a.has(y)||a.get(y)==="off");a.set(c,d?"on":p?"off":"indeterminate"),c=o.get(c)}return e&&!n&&Array.from(a.entries()).reduce((d,p)=>{let[y,b]=p;return b==="on"?[...d,y]:d},[]).length===0?l:a},in:(r,i,n)=>{let a=new Map;for(const s of r||[])a=t.select({id:s,value:!0,selected:new Map(a),children:i,parents:n});return a},out:(r,i)=>{const n=[];for(const[a,s]of r.entries())s==="on"&&!i.has(a)&&n.push(a);return n}};return t},Wo=Symbol.for("vuetify:nested"),IT={id:Z(),root:{register:()=>null,unregister:()=>null,parents:Z(new Map),children:Z(new Map),open:()=>null,select:()=>null,opened:Z(new Set),selected:Z(new Map),selectedValues:Z([])}},FL=it({selectStrategy:[String,Function],openStrategy:[String,Function],opened:Array,selected:Array,mandatory:Boolean},"nested"),NL=e=>{let t=!1;const r=Z(new Map),i=Z(new Map),n=Wt(e,"opened",e.opened,f=>new Set(f),f=>[...f.values()]),a=j(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return RL(e.mandatory);case"leaf":return DL(e.mandatory);case"independent":return Lp(e.mandatory);case"single-independent":return AT(e.mandatory);case"classic":default:return ML(e.mandatory)}}),s=j(()=>{if(typeof e.openStrategy=="function")return e.openStrategy;switch(e.openStrategy){case"list":return LL;case"single":return OL;case"multiple":default:return PT}}),o=Wt(e,"selected",e.selected,f=>a.value.in(f,r.value,i.value),f=>a.value.out(f,r.value,i.value));Bn(()=>{t=!0});function l(f){const d=[];let p=f;for(;p!=null;)d.unshift(p),p=i.value.get(p);return d}const u=Kn("nested"),c={id:Z(),root:{opened:n,selected:o,selectedValues:j(()=>{const f=[];for(const[d,p]of o.value.entries())p==="on"&&f.push(d);return f}),register:(f,d,p)=>{d&&f!==d&&i.value.set(f,d),p&&r.value.set(f,[]),d!=null&&r.value.set(d,[...r.value.get(d)||[],f])},unregister:f=>{if(t)return;r.value.delete(f);const d=i.value.get(f);if(d){var p;const y=(p=r.value.get(d))!=null?p:[];r.value.set(d,y.filter(b=>b!==f))}i.value.delete(f),n.value.delete(f)},open:(f,d,p)=>{u.emit("click:open",{id:f,value:d,path:l(f),event:p});const y=s.value.open({id:f,value:d,opened:new Set(n.value),children:r.value,parents:i.value,event:p});y&&(n.value=y)},select:(f,d,p)=>{u.emit("click:select",{id:f,value:d,path:l(f),event:p});const y=a.value.select({id:f,value:d,selected:new Map(o.value),children:r.value,parents:i.value,event:p});y&&(o.value=y);const b=s.value.select({id:f,value:d,selected:new Map(o.value),opened:new Set(n.value),children:r.value,parents:i.value,event:p});b&&(n.value=b)},children:r,parents:i}};return rn(Wo,c),c.root},OT=(e,t)=>{const r=ut(Wo,IT),i=j(()=>{var a;return(a=e.value)!=null?a:xr().toString()}),n=et(H({},r),{id:i,open:(a,s)=>r.root.open(i.value,a,s),isOpen:j(()=>r.root.opened.value.has(i.value)),parent:j(()=>r.root.parents.value.get(i.value)),select:(a,s)=>r.root.select(i.value,a,s),isSelected:j(()=>r.root.selected.value.get(i.value)==="on"),isIndeterminate:j(()=>r.root.selected.value.get(i.value)==="indeterminate"),isLeaf:j(()=>!r.root.children.value.get(i.value)),isGroupActivator:r.isGroupActivator});return!r.isGroupActivator&&r.root.register(i.value,r.id.value,t),Bn(()=>{!r.isGroupActivator&&r.root.unregister(i.value)}),t&&rn(Wo,n),n},BL=()=>{const e=ut(Wo,IT);rn(Wo,et(H({},e),{isGroupActivator:!0}))},UL=He({name:"VListGroupActivator",setup(e,t){let{slots:r}=t;return BL(),()=>{var i;return(i=r.default)==null?void 0:i.call(r)}}}),LT=sn()({name:"VListGroup",props:H({activeColor:String,color:String,collapseIcon:{type:String,default:"$collapse"},expandIcon:{type:String,default:"$expand"},value:null},St()),setup(e,t){let{slots:r}=t;const{isOpen:i,open:n}=OT(ze(e,"value"),!0),a=kT(),s=l=>{n(!i.value,l)},o=j(()=>{var l;return{onClick:s,active:i.value,appendIcon:i.value?e.collapseIcon:e.expandIcon,class:"v-list-group__header",color:i.value?(l=e.activeColor)!=null?l:e.color:void 0}});return()=>{var l;return k(e.tag,{class:["v-list-group",{"v-list-group--prepend":a==null?void 0:a.hasPrepend.value}]},{default:()=>[r.activator&&k(vi,{defaults:{VListItemIcon:{color:o.value.color}}},{default:()=>[k(UL,null,{default:()=>[r.activator({props:o.value,isOpen:i})]})]}),k(vO,null,{default:()=>[Mn(k("div",{class:"v-list-group__items"},[(l=r.default)==null?void 0:l.call(r)]),[[Ss,i.value]])]})]})}}});const d0=He({name:"VListItemAvatar",props:Sb(),setup(e,t){let{slots:r}=t;return()=>k(ia,gt({class:["v-list-item-avatar",{"v-list-item-avatar--start":e.start,"v-list-item-avatar--end":e.end}]},e),r)}}),VL=Gn("v-list-item-header"),f0=He({name:"VListItemIcon",props:_b(),setup(e,t){let{slots:r}=t;return()=>k(kt,gt({class:["v-list-item-icon",{"v-list-item-icon--start":e.start,"v-list-item-icon--end":e.end}]},e),r)}}),$L=Gn("v-list-item-subtitle"),jL=Gn("v-list-item-title"),Wr=sn()({name:"VListItem",directives:{Ripple:cl},props:H(H(H(H(H(H(H(H(H({active:Boolean,activeColor:String,activeClass:String,appendAvatar:String,appendIcon:String,disabled:Boolean,lines:String,nav:Boolean,prependAvatar:String,prependIcon:String,subtitle:String,title:String,value:null,link:Boolean},Ei()),Cr()),pa()),Zr()),Xn()),ol()),St()),Nt()),wi({variant:"text"})),setup(e,t){let{attrs:r,slots:i}=t;const n=jc(e,r),a=j(()=>{var W;return(W=e.value)!=null?W:n.href.value}),{select:s,isSelected:o,isIndeterminate:l,isGroupActivator:u,root:c,parent:f}=OT(a,!1),d=kT(),p=j(()=>{var W;return e.active||((W=n.isExactActive)==null?void 0:W.value)||o.value}),y=j(()=>e.rounded||e.nav),b=j(()=>{var W;return{color:p.value&&(W=e.activeColor)!=null?W:e.color,variant:e.variant}});Nn(()=>{var W;(W=n.isExactActive)!=null&&W.value&&f.value!=null&&c.open(f.value,!0)}),Le(()=>{var W;return(W=n.isExactActive)==null?void 0:W.value},W=>{W&&f.value!=null&&c.open(f.value,!0)});const{themeClasses:T}=Kt(e),{borderClasses:S}=Ci(e),{colorClasses:w,colorStyles:D,variantClasses:P}=ul(b),{densityClasses:I}=wr(e),{dimensionStyles:L}=ma(e),{elevationClasses:A}=ei(e),{roundedClasses:R}=Yn(y),M=j(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),N=j(()=>({isActive:p.value,select:s,isSelected:o.value,isIndeterminate:l.value}));Ft(()=>{var W,X,Y;const le=n.isLink.value?"a":e.tag,fe=!d||o.value||p.value,ce=i.title||e.title,ye=i.subtitle||e.subtitle,xe=!!(ce||ye),ee=!!(i.append||e.appendAvatar||e.appendIcon),se=!!(i.prepend||e.prependAvatar||e.prependIcon),te=!e.disabled&&(e.link||n.isClickable.value||e.value!=null&&!!d);return d==null||d.updateHasPrepend(se),Mn(k(le,{class:["v-list-item",{"v-list-item--active":p.value,"v-list-item--disabled":e.disabled,"v-list-item--link":te,"v-list-item--nav":e.nav,"v-list-item--prepend":!se&&(d==null?void 0:d.hasPrepend.value),[`${e.activeClass}`]:p.value},T.value,S.value,fe?w.value:void 0,I.value,A.value,M.value,R.value,P.value],style:[fe?D.value:void 0,L.value],href:n.href.value,tabindex:te?0:void 0,onClick:te&&(Ce=>{var ie;u||((ie=n.navigate)==null||ie.call(n,Ce),e.value!=null&&s(!o.value,Ce))})},{default:()=>[ll(te||p.value,"v-list-item"),se&&k(nt,null,[e.prependAvatar&&k(d0,{image:e.prependAvatar,start:!0},null),e.prependIcon&&k(f0,{icon:e.prependIcon,start:!0},null),(W=i.prepend)==null?void 0:W.call(i,N.value)]),xe&&k(VL,null,{default:()=>[ce&&k(jL,null,{default:()=>[i.title?i.title({title:e.title}):e.title]}),ye&&k($L,null,{default:()=>[i.subtitle?i.subtitle({subtitle:e.subtitle}):e.subtitle]})]}),(X=i.default)==null?void 0:X.call(i,N.value),ee&&k(nt,null,[(Y=i.append)==null?void 0:Y.call(i,N.value),e.appendAvatar&&k(d0,{image:e.appendAvatar,end:!0},null),e.appendIcon&&k(f0,{icon:e.appendIcon,end:!0},null)])]}),[[ha("ripple"),te]])})}}),HL=He({name:"VListSubheader",props:H({color:String,inset:Boolean,sticky:Boolean,text:String},St()),setup(e,t){let{slots:r}=t;const{textColorClasses:i,textColorStyles:n}=_i(ze(e,"color"));return()=>{var a,s;const o=!!(r.default||e.text);return k(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},i.value],style:{textColorStyles:n}},{default:()=>[o&&k("div",{class:"v-list-subheader__text"},[(a=(s=r.default)==null?void 0:s.call(r))!=null?a:e.text])]})}}}),DT=sn()({name:"VListChildren",props:{items:Array},setup(e,t){let{slots:r}=t;return wT(),()=>{var i,n,a;return(i=(n=r.default)==null?void 0:n.call(r))!=null?i:(a=e.items)==null?void 0:a.map(s=>{let{children:o,props:l,type:u}=s;return u==="divider"?k(xo,l,null):u==="subheader"?k(HL,l,r):o?k(LT,{value:l==null?void 0:l.value},{activator:c=>{let{props:f}=c;return r.header?r.header(H(H({},l),f)):k(Wr,gt(l,f),r)},default:()=>k(DT,{items:o},r)}):r.item?r.item(l):k(Wr,l,r)})}}}),RT=e=>{if(!!e)return e.map(t=>{if(typeof t=="string")return{type:"item",value:t,title:t};const a=t,{$type:r,$children:i}=a,n=dr(a,["$type","$children"]);return r==="subheader"?{type:"subheader",props:n}:r==="divider"?{type:"divider",props:n}:{type:"item",props:n,children:RT(i)}})},Yc=sn()({name:"VList",props:H(H(H(H(H(H(H(H(H({activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,items:Array},FL({selectStrategy:"single-leaf",openStrategy:"list"})),Ei()),Cr()),pa()),Zr()),Xn()),St()),Nt()),wi({variant:"text"})),emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:r}=t;const i=j(()=>RT(e.items)),{themeClasses:n}=Kt(e),{backgroundColorClasses:a,backgroundColorStyles:s}=sr(ze(e,"bgColor")),{borderClasses:o}=Ci(e),{densityClasses:l}=wr(e),{dimensionStyles:u}=ma(e),{elevationClasses:c}=ei(e),{roundedClasses:f}=Yn(e),{open:d,select:p}=NL(e),y=j(()=>e.lines?`v-list--${e.lines}-line`:void 0),b=ze(e,"activeColor"),T=ze(e,"color");return wT(),Qr({VListGroup:{activeColor:b,color:T},VListItem:{activeClass:ze(e,"activeClass"),activeColor:b,color:T,density:ze(e,"density"),disabled:ze(e,"disabled"),lines:ze(e,"lines"),nav:ze(e,"nav"),variant:ze(e,"variant")}}),Ft(()=>k(e.tag,{class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav},n.value,a.value,o.value,l.value,c.value,y.value,f.value],style:[s.value,u.value]},{default:()=>[k(DT,{items:i.value},r)]})),{open:d,select:p}}});const MT=sn()({name:"VMenu",inheritAttrs:!1,props:H({modelValue:Boolean,id:String},Er({transition:{component:tT}})),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:i}=t;const n=Wt(e,"modelValue"),a=xr(),s=j(()=>e.id||`v-menu-${a}`),o=Z(),l=ut(Zf,null);let u=0;rn(Zf,{register(){++u},unregister(){--u},closeParents(){setTimeout(()=>{u||(n.value=!1,l==null||l.closeParents())},40)}}),Le(n,f=>{f?l==null||l.register():l==null||l.unregister()});function c(){l==null||l.closeParents()}return Ft(()=>k(Kc,gt({ref:o,modelValue:n.value,"onUpdate:modelValue":f=>n.value=f,class:["v-menu"],transition:e.transition,absolute:!0,closeOnContentClick:!0,positionStrategy:"connected",scrollStrategy:"reposition",scrim:!1,openDelay:"300",closeDelay:"250",activatorProps:{"aria-haspopup":"menu","aria-expanded":String(n.value),"aria-owns":s.value},"onClick:outside":c},r),{default:i.default,activator:i.activator})),dl({id:s},o)}}),WL=it({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:String,default:"children"},itemProps:{type:Function,default:e=>({})}},"item");function FT(e,t){var r;const i=$f(t,e.itemTitle,t),n=$f(t,e.itemValue,i),a=Hu(t,e.itemChildren);return H({title:i,value:n,children:Array.isArray(a)?NT(e,a):void 0},(r=e.itemProps)==null?void 0:r.call(e,t))}function NT(e,t){const r=[];for(const i of t)r.push(FT(e,i));return r}function BT(e){return{items:j(()=>NT(e,e.items))}}const sh=Symbol.for("vuetify:locale-adapter"),lu=Symbol.for("vuetify:locale");function UT(){const e=ut(sh);if(!e)throw new Error("[Vuetify] Could not find injected locale adapter");return e.getScope()}function zL(e){return!!e&&e.hasOwnProperty("getScope")&&e.hasOwnProperty("createScope")&&e.hasOwnProperty("createRoot")}function qL(e,t){const r=zL(t)?t:XL(t),i=r.createRoot(e);return{adapter:r,rootInstance:i}}const h0="$vuetify.",p0=(e,t)=>e.replace(/\{(\d+)\}/g,(r,i)=>String(t[+i])),GL=(e,t,r)=>function(i){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];if(!i.startsWith(h0))return p0(i,a);const o=i.replace(h0,""),l=e.value&&r.value[e.value],u=t.value&&r.value[t.value];let c=Hu(l,o,null);return c||(Ja(`Translation key "${i}" not found in "${e.value}", trying fallback locale`),c=Hu(u,o,null)),c||(hg(`Translation key "${i}" not found in fallback`),c=i),typeof c!="string"&&(hg(`Translation key "${i}" has a non-string value`),c=i),p0(c,a)};function KL(e,t){return(r,i)=>new Intl.NumberFormat([e.value,t.value],i).format(r)}function XL(e){const t=r=>{const i=Z(r.current),n=Z(r.fallback),a=Z(r.messages);return{current:i,fallback:n,messages:a,t:GL(i,n,a),n:KL(i,n)}};return{createRoot:r=>{var i,n,a;const s=t({current:(i=e==null?void 0:e.defaultLocale)!=null?i:"en",fallback:(n=e==null?void 0:e.fallbackLocale)!=null?n:"en",messages:(a=e==null?void 0:e.messages)!=null?a:{en:DO}});return r.provide(lu,s),s},getScope:()=>{const r=ut(lu);if(!r)throw new Error("[Vuetify] Could not find injected locale instance");return r},createScope:r=>{const i=ut(lu);if(!i)throw new Error("[Vuetify] Could not find injected locale instance");const n=t({current:j(()=>{var a;return(a=r==null?void 0:r.locale)!=null?a:i.current.value}),fallback:j(()=>{var a;return(a=r==null?void 0:r.locale)!=null?a:i.fallback.value}),messages:j(()=>{var a;return(a=r==null?void 0:r.messages)!=null?a:i.messages.value})});return rn(lu,n),n}}}const VT=it(H({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menuIcon:{type:String,default:"$dropdown"},modelValue:{type:[Number,String,Array],default:()=>[]},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean},WL()),"select"),YL=sn()({name:"VSelect",props:H(H({},VT()),Er({transition:"scale-transition"})),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{t:i}=UT(),n=Z(),a=Z(),s=Z(!1),{items:o}=BT(e),l=Wt(e,"modelValue",[],b=>ta(b),b=>e.multiple?b:b[0]),u=j(()=>o.value.filter(b=>l.value.includes(b.value))),c=j(()=>u.value.map(b=>b.value));function f(b){l.value=[],e.openOnClear&&(s.value=!0)}function d(){e.hideNoData&&!o.value.length||(s.value=!0)}function p(b){["Enter","ArrowDown"," "].includes(b.key)&&(s.value=!0),["Escape","Tab"].includes(b.key)&&(s.value=!1)}function y(b){if(e.multiple){const T=c.value.findIndex(S=>S===b.value);if(T===-1)l.value=[...l.value,b.value];else{const S=[...l.value];S.splice(T,1),l.value=S}}else l.value=[b.value],s.value=!1}return Le(()=>n.value,b=>{a.value=b.$el.querySelector(".v-input__control")}),Ft(()=>{const b=!!(e.chips||r.chip);return k(us,{ref:n,class:["v-select",{"v-select--active-menu":s.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0}],appendInnerIcon:e.menuIcon,readonly:!0,"onClick:clear":f,"onClick:input":d,"onClick:control":d,onBlur:()=>s.value=!1,modelValue:l.value.join(", "),onKeydown:p},et(H({},r),{default:()=>{var T,S;return k(nt,null,[a.value&&k(MT,{modelValue:s.value,"onUpdate:modelValue":w=>s.value=w,activator:a.value,contentClass:"v-select__content",eager:e.eager,openOnClick:!1,transition:e.transition},{default:()=>[k(Yc,{selected:c.value,selectStrategy:e.multiple?"independent":"single-independent"},{default:()=>[!o.value.length&&!e.hideNoData&&((T=(S=r["no-data"])==null?void 0:S.call(r))!=null?T:k(Wr,{title:i(e.noDataText)},null)),o.value.map(w=>k(Wr,gt(w,{onMousedown:D=>D.preventDefault(),onClick:()=>y(w)}),null))]})]}),u.value.map((w,D)=>{function P(L){L.stopPropagation(),L.preventDefault(),y(w)}const I={"onClick:close":P,modelValue:!0};return k("div",{class:"v-select__selection"},[b&&k(vi,{defaults:{VChip:{closable:e.closableChips,size:"small",text:w.title}}},{default:()=>[r.chip?r.chip({props:I,selection:w}):k(CT,I,null)]}),!b&&(r.selection?r.selection({selection:w}):k("span",{class:"v-select__selection-text"},[w.title,e.multiple&&D<u.value.length-1&&k("span",{class:"v-select__selection-comma"},[st(",")])]))])})])}}))}),dl({},n)}});const fl=sn()({name:"VToolbarTitle",props:H({text:String},St()),setup(e,t){let{slots:r}=t;return Ft(()=>{var i;const n=!!(r.default||r.text||e.text);return k(e.tag,{class:"v-toolbar-title"},{default:()=>[n&&k("div",{class:"v-toolbar-title__placeholder"},[r.text?r.text():e.text,(i=r.default)==null?void 0:i.call(r)])]})}),{}}}),QL=[null,"prominent","default","comfortable","compact"],$T=it(H(H(H(H(H({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>QL.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:56},image:String,title:String},Ei()),Zr()),Xn()),St({tag:"header"})),Nt()),"v-toolbar"),aa=sn()({name:"VToolbar",props:$T(),setup(e,t){let{slots:r}=t;const{borderClasses:i}=Ci(e),{elevationClasses:n}=ei(e),{roundedClasses:a}=Yn(e),{themeClasses:s}=Kt(e),{backgroundColorClasses:o,backgroundColorStyles:l}=sr(ze(e,"color")),u=j(()=>!!(e.extended||r.extension)),c=j(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),f=j(()=>u.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Qr({VBtn:{flat:!0,variant:"text"}}),Ft(()=>{var d,p,y,b,T;const S=!!(e.title||r.title),w=!!(r.image||e.image);return k(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},o.value,i.value,n.value,a.value,s.value],style:[l.value]},{default:()=>[w&&k("div",{class:"v-toolbar__image"},[k(vi,{defaults:{VImg:{cover:!0,src:e.image}},scoped:!0},{default:()=>[r.image?(d=r.image)==null?void 0:d.call(r):k(ra,null,null)]})]),k("div",{class:"v-toolbar__content",style:{height:$e(c.value)}},[r.prepend&&k("div",{class:"v-toolbar__prepend"},[(p=r.prepend)==null?void 0:p.call(r)]),S&&k(fl,{text:e.title},{text:r.title}),(y=r.default)==null?void 0:y.call(r),r.append&&k("div",{class:"v-toolbar__append"},[(b=r.append)==null?void 0:b.call(r)])]),u.value&&k("div",{class:"v-toolbar__extension",style:{height:$e(f.value)}},[(T=r.extension)==null?void 0:T.call(r)])]})}),dl({contentHeight:c,extensionHeight:f})}});function JL(e){var t;return il(e,Object.keys((t=aa==null?void 0:aa.props)!=null?t:{}))}const ZL=st("Settings"),eD=st("mdi-chevron-right"),tD=Gt({name:"SettingsMenu",props:{modelValue:{type:Boolean},theme:null},emits:["update:modelValue","update:theme"],setup(e,{emit:t}){const r=e,i=Z(!1),n=j({get:()=>r.modelValue,set:s=>t("update:modelValue",s)}),a=j({get:()=>Xr(r.theme),set:s=>{t("update:theme",s.toLowerCase())}});return(s,o)=>(Ne(),at(IL,{modelValue:ne(n),"onUpdate:modelValue":o[4]||(o[4]=l=>Ze(n)?n.value=l:null),width:300,position:"right",temporary:""},{default:pe(()=>[k(aa,null,{default:pe(()=>[k(fl,null,{default:pe(()=>[ZL]),_:1}),k(ga),k(bt,{onClick:o[0]||(o[0]=up(l=>n.value=!1,["stop"])),icon:"mdi-close"})]),_:1}),k(ls,null,{default:pe(()=>[k(YL,{label:"Theme",modelValue:ne(a),"onUpdate:modelValue":o[1]||(o[1]=l=>Ze(a)?a.value=l:null),items:["Auto","Light","Dark"],"hide-details":""},null,8,["modelValue"]),Mn((Ne(),at(va,{title:"Backend",subtitle:"Configuration",variant:"contained-text",style:{cursor:"pointer","user-select":"none"},onClick:o[2]||(o[2]=l=>i.value=!0)},{append:pe(()=>[k(ia,null,{default:pe(()=>[k(kt,{size:"32"},{default:pe(()=>[eD]),_:1})]),_:1})]),_:1})),[[cl]]),k(gL,{modelValue:i.value,"onUpdate:modelValue":o[3]||(o[3]=l=>i.value=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]))}});var nD=Cs(tD,[["__scopeId","data-v-ed39772a"]]);try{self["workbox:window:6.5.2"]&&_()}catch{}function oh(e,t){return new Promise(function(r){var i=new MessageChannel;i.port1.onmessage=function(n){r(n.data)},e.postMessage(t,[i.port2])})}function rD(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function m0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function iD(e,t){var r;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(r=function(n,a){if(n){if(typeof n=="string")return m0(n,a);var s=Object.prototype.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?m0(n,a):void 0}}(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(r=e[Symbol.iterator]()).next.bind(r)}try{self["workbox:core:6.5.2"]&&_()}catch{}var qd=function(){var e=this;this.promise=new Promise(function(t,r){e.resolve=t,e.reject=r})};function Gd(e,t){var r=location.href;return new URL(e,r).href===new URL(t,r).href}var Gs=function(e,t){this.type=e,Object.assign(this,t)};function uu(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function aD(){}var sD={type:"SKIP_WAITING"};function v0(e,t){if(!t)return e&&e.then?e.then(aD):Promise.resolve()}var oD=function(e){var t,r;function i(o,l){var u,c;return l===void 0&&(l={}),(u=e.call(this)||this).nn={},u.tn=0,u.rn=new qd,u.en=new qd,u.on=new qd,u.un=0,u.an=new Set,u.cn=function(){var f=u.fn,d=f.installing;u.tn>0||!Gd(d.scriptURL,u.sn.toString())||performance.now()>u.un+6e4?(u.vn=d,f.removeEventListener("updatefound",u.cn)):(u.hn=d,u.an.add(d),u.rn.resolve(d)),++u.tn,d.addEventListener("statechange",u.ln)},u.ln=function(f){var d=u.fn,p=f.target,y=p.state,b=p===u.vn,T={sw:p,isExternal:b,originalEvent:f};!b&&u.mn&&(T.isUpdate=!0),u.dispatchEvent(new Gs(y,T)),y==="installed"?u.wn=self.setTimeout(function(){y==="installed"&&d.waiting===p&&u.dispatchEvent(new Gs("waiting",T))},200):y==="activating"&&(clearTimeout(u.wn),b||u.en.resolve(p))},u.dn=function(f){var d=u.hn,p=d!==navigator.serviceWorker.controller;u.dispatchEvent(new Gs("controlling",{isExternal:p,originalEvent:f,sw:d,isUpdate:u.mn})),p||u.on.resolve(d)},u.gn=(c=function(f){var d=f.data,p=f.ports,y=f.source;return uu(u.getSW(),function(){u.an.has(y)&&u.dispatchEvent(new Gs("message",{data:d,originalEvent:f,ports:p,sw:y}))})},function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];try{return Promise.resolve(c.apply(this,f))}catch(p){return Promise.reject(p)}}),u.sn=o,u.nn=l,navigator.serviceWorker.addEventListener("message",u.gn),u}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var n,a,s=i.prototype;return s.register=function(o){var l=(o===void 0?{}:o).immediate,u=l!==void 0&&l;try{var c=this;return function(f,d){var p=f();return p&&p.then?p.then(d):d(p)}(function(){if(!u&&document.readyState!=="complete")return v0(new Promise(function(f){return window.addEventListener("load",f)}))},function(){return c.mn=Boolean(navigator.serviceWorker.controller),c.yn=c.pn(),uu(c.bn(),function(f){c.fn=f,c.yn&&(c.hn=c.yn,c.en.resolve(c.yn),c.on.resolve(c.yn),c.yn.addEventListener("statechange",c.ln,{once:!0}));var d=c.fn.waiting;return d&&Gd(d.scriptURL,c.sn.toString())&&(c.hn=d,Promise.resolve().then(function(){c.dispatchEvent(new Gs("waiting",{sw:d,wasWaitingBeforeRegister:!0}))}).then(function(){})),c.hn&&(c.rn.resolve(c.hn),c.an.add(c.hn)),c.fn.addEventListener("updatefound",c.cn),navigator.serviceWorker.addEventListener("controllerchange",c.dn),c.fn})})}catch(f){return Promise.reject(f)}},s.update=function(){try{return this.fn?v0(this.fn.update()):void 0}catch(o){return Promise.reject(o)}},s.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},s.messageSW=function(o){try{return uu(this.getSW(),function(l){return oh(l,o)})}catch(l){return Promise.reject(l)}},s.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&oh(this.fn.waiting,sD)},s.pn=function(){var o=navigator.serviceWorker.controller;return o&&Gd(o.scriptURL,this.sn.toString())?o:void 0},s.bn=function(){try{var o=this;return function(l,u){try{var c=l()}catch(f){return u(f)}return c&&c.then?c.then(void 0,u):c}(function(){return uu(navigator.serviceWorker.register(o.sn,o.nn),function(l){return o.un=performance.now(),l})},function(l){throw l})}catch(l){return Promise.reject(l)}},n=i,(a=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&rD(n.prototype,a),i}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(r,i){this.Sn(r).add(i)},t.removeEventListener=function(r,i){this.Sn(r).delete(i)},t.dispatchEvent=function(r){r.target=this;for(var i,n=iD(this.Sn(r.type));!(i=n()).done;)(0,i.value)(r)},t.Sn=function(r){return this.Pn.has(r)||this.Pn.set(r,new Set),this.Pn.get(r)},e}());function lD(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:i,onRegistered:n,onRegisterError:a}=e;let s,o;const l=async(u=!0)=>{u&&(s==null||s.addEventListener("controlling",c=>{c.isUpdate&&window.location.reload()})),o&&o.waiting&&await oh(o.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){s=new oD("/deeplabcut-webui/sw.js",{scope:"/deeplabcut-webui/",type:"classic"}),s.addEventListener("activated",u=>{u.isUpdate||i==null||i()});{const u=()=>{r==null||r()};s.addEventListener("waiting",u),s.addEventListener("externalwaiting",u)}s.register({immediate:t}).then(u=>{o=u,n==null||n(u)}).catch(u=>{a==null||a(u)})}return l}function uD(e={}){const{immediate:t=!0,onNeedRefresh:r,onOfflineReady:i,onRegistered:n,onRegisterError:a}=e,s=Z(!1),o=Z(!1);return{updateServiceWorker:lD({immediate:t,onNeedRefresh(){s.value=!0,r==null||r()},onOfflineReady(){o.value=!0,i==null||i()},onRegistered:n,onRegisterError:a}),offlineReady:o,needRefresh:s}}const cD=He({name:"VSnackbar",props:H(H(H(H({app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,modelValue:Boolean},_p()),Xn()),wi()),Er({transition:"v-snackbar-transition"})),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const i=Wt(e,"modelValue"),{positionClasses:n,positionStyles:a}=bp(e),{colorClasses:s,colorStyles:o,variantClasses:l}=ul(e),{roundedClasses:u}=Yn(e);Le(i,f),Le(()=>e.timeout,f),Nn(()=>{i.value&&f()});let c=-1;function f(){window.clearTimeout(c);const p=Number(e.timeout);!i.value||p===-1||(c=window.setTimeout(()=>{i.value=!1},p))}function d(){window.clearTimeout(c)}Ft(()=>{var p,y;return k(Kc,{modelValue:i.value,"onUpdate:modelValue":b=>i.value=b,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--bottom":e.bottom||!e.top,"v-snackbar--centered":e.centered,"v-snackbar--end":e.right,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--start":e.left,"v-snackbar--top":e.top,"v-snackbar--vertical":e.vertical},n.value],style:[o.value,a.value],persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",transition:e.transition},{default:()=>[k("div",{class:["v-snackbar__wrapper",s.value,u.value,l.value],onPointerenter:d,onPointerleave:f},[ll(!1,"v-snackbar"),r.default&&k("div",{class:["v-snackbar__content",e.contentClass],role:"status","aria-live":"polite"},[(p=r.default)==null?void 0:p.call(r)]),r.actions&&k(vi,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[k("div",{class:"v-snackbar__actions"},[(y=r.actions)==null?void 0:y.call(r)])]})])],activator:r.activator})})}}),dD={key:0,class:"text-white"},fD={key:1,class:"text-white"},hD=st(" Reload "),pD=Gt({name:"SnackbarPWA",setup(e){const t=Z(!1),{offlineReady:r,needRefresh:i,updateServiceWorker:n}=uD();return Le([r,i],()=>{(r.value||i.value)&&(t.value=!0)}),(a,s)=>(Ne(),at(cD,{modelValue:t.value,"onUpdate:modelValue":s[2]||(s[2]=o=>t.value=o),timeout:"-1",top:"",right:""},{actions:pe(()=>[ne(i)?(Ne(),at(bt,{key:0,class:"text-blue",onClick:s[0]||(s[0]=o=>ne(n)())},{default:pe(()=>[hD]),_:1})):yr("",!0),k(bt,{class:"text-grey-lighten-1",icon:"mdi-close",size:"small",onClick:s[1]||(s[1]=o=>t.value=!1)})]),default:pe(()=>[ne(r)?(Ne(),Zt("span",dD,"This app is ready to work offline.")):ne(i)?(Ne(),Zt("span",fD,"New version available, click on reload button to update.")):yr("",!0)]),_:1},8,["modelValue"]))}}),mD={key:0},jT=Gt({name:"FileBrowser",props:{items:null},emits:["selected"],setup(e,{emit:t}){const r=n=>n.name.toLowerCase().endsWith(".mp4")?"mdi-movie":n.folder?"mdi-folder":"mdi-file-outline",i=n=>{n&&n.length>0&&t("selected",n[0])};return(n,a)=>(Ne(),at(Yc,{"two-line":"","onUpdate:selected":i},{default:pe(()=>[(Ne(!0),Zt(nt,null,Qa(e.items,(s,o)=>(Ne(),Zt(nt,{key:o},[k(Wr,{value:s.name,"prepend-icon":r(s),title:s.name},{subtitle:pe(()=>[s.size?(Ne(),Zt("div",mD,Dt((s.size/1073741824).toFixed(2))+" GiB \u2022 Extracted: "+Dt(s.extracted)+" \u2022 Labelled: "+Dt(s.labelled),1)):yr("",!0)]),_:2},1032,["value","prepend-icon","title"]),o<e.items.length-1?(Ne(),at(xo,{key:o})):yr("",!0)],64))),128))]),_:1}))}}),vD=st("Select Video"),gD=st("mdi-close"),yD=Gt({name:"VideoDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const r=e,i=kr(),n=j({get:()=>r.modelValue,set:u=>{t("update:modelValue",u)}}),{execute:a,data:s,isFetching:o}=bi("/videos",{immediate:!1}).get().json();Le(n,()=>n.value&&a());const l=u=>{n.value=!1,i.setVideo(u)};return(u,c)=>(Ne(),at(Xc,{modelValue:ne(n),"onUpdate:modelValue":c[1]||(c[1]=f=>Ze(n)?n.value=f:null),scrollable:"",fullscreen:""},{default:pe(()=>[Uu(u.$slots,"default"),k(va,{class:"d-flex flex-column"},{default:pe(()=>[k(aa,{color:"primary",fixed:""},{default:pe(()=>[k(fl,null,{default:pe(()=>[vD]),_:1}),k(ga),k(bt,{icon:"",dark:"",onClick:c[0]||(c[0]=f=>n.value=!1)},{default:pe(()=>[k(kt,null,{default:pe(()=>[gD]),_:1})]),_:1})]),_:1}),ne(o)?(Ne(),at(Bo,{key:0,class:"d-flex pb-4 align-center justify-center"},{default:pe(()=>[k(ws,{indeterminate:"",color:"primary"})]),_:1})):(Ne(),at(Bo,{key:1,class:"pt-0",style:{"overflow-y":"scroll",height:"calc(100vh - 56px)"}},{default:pe(()=>[k(jT,{style:{margin:"auto","max-width":"680px"},items:ne(s),onSelected:l},null,8,["items"])]),_:1}))]),_:1})]),_:3},8,["modelValue"]))}});const _D=He({name:"VSystemBar",props:H(H(H(H(H({color:String,height:[Number,String],window:Boolean},Zr()),Ip()),Xn()),St()),Nt()),setup(e,t){let{slots:r}=t;const{themeClasses:i}=Kt(e),{backgroundColorClasses:n,backgroundColorStyles:a}=sr(ze(e,"color")),{elevationClasses:s}=ei(e),{roundedClasses:o}=Yn(e),l=j(()=>{var c;return((c=e.height)!=null?c:e.window)?32:24}),{layoutItemStyles:u}=Op({id:e.name,priority:j(()=>parseInt(e.priority,10)),position:Z("top"),layoutSize:l,elementSize:l,active:j(()=>!0),absolute:ze(e,"absolute")});return Qr({VBtn:{variant:"text",density:"compact"}},{scoped:!0}),()=>k(e.tag,{class:["v-system-bar",{"v-system-bar--window":e.window},i.value,n.value,s.value,o.value],style:[a.value,u.value]},r)}}),bD=e=>(Zh("data-v-5bdfe5ae"),e=e(),ep(),e),TD=st("mdi-folder"),SD={key:1},xD=bD(()=>dt("span",null,"/",-1)),ED=st("mdi-movie"),CD=Gt({name:"SystemBar",setup(e){const t=kr(),r=Z(!1);return(i,n)=>ne(t).project?(Ne(),at(_D,{key:0,color:"primary-darken-1",class:"flex-grow-0 pl-0"},{default:pe(()=>[ne(t).project?(Ne(),at(bt,{key:0,variant:"text",size:"small",class:"ml-2 mr-2 pl-1 pr-1",ripple:!1},{default:pe(()=>[k(kt,{left:""},{default:pe(()=>[TD]),_:1}),st(" "+Dt(ne(t).project),1)]),_:1})):yr("",!0),ne(t).cVideo?(Ne(),Zt("span",SD,[xD,k(bt,{variant:"text",size:"small",onClick:n[0]||(n[0]=up(a=>r.value=!0,["stop"])),class:"ml-1 mr-2 pl-1 pr-1"},{default:pe(()=>[k(kt,{left:""},{default:pe(()=>[ED]),_:1}),st(" "+Dt(ne(t).cVideo),1)]),_:1})])):yr("",!0),k(ga),k(bt,{variant:"text",size:"x-small",icon:"mdi-close",class:"ml-2",onClick:ne(t).resetProject},null,8,["onClick"]),k(yD,{modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=a=>r.value=a)},null,8,["modelValue"])]),_:1})):yr("",!0)}});var wD=Cs(CD,[["__scopeId","data-v-5bdfe5ae"]]);const kD=He({name:"VTable",props:H(H(H({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String]},Cr()),Nt()),St()),setup(e,t){let{slots:r}=t;const{themeClasses:i}=Kt(e),{densityClasses:n}=wr(e);return()=>{var a,s,o;return k(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!r.top,"v-table--has-bottom":!!r.bottom},i.value,n.value]},{default:()=>[(a=r.top)==null?void 0:a.call(r),r.default&&k("div",{class:"v-table__wrapper",style:{height:$e(e.height)}},[k("table",null,[(s=r.default)==null?void 0:s.call(r)])]),(o=r.bottom)==null?void 0:o.call(r)]})}}});const lh=sn()({name:"VTooltip",inheritAttrs:!1,props:H({id:String,modelValue:Boolean,text:String,anchor:{type:String,default:"end"},origin:{type:String,default:"auto"}},Er({transition:!1})),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:i}=t;const n=Wt(e,"modelValue"),a=xr(),s=j(()=>e.id||`v-tooltip-${a}`),o=j(()=>e.anchor.split(" ").length>1?e.anchor:e.anchor+" center"),l=j(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.anchor.split(" ").length>1?e.origin:e.origin+" center"),u=j(()=>e.transition?e.transition:n.value?"scale-transition":"fade-transition");return()=>k(Kc,gt({modelValue:n.value,"onUpdate:modelValue":c=>n.value=c,class:["v-tooltip"],id:s.value,transition:u.value,absolute:!0,positionStrategy:"connected",scrollStrategy:"reposition",anchor:o.value,origin:l.value,"min-width":0,offset:10,scrim:!1,persistent:!0,"open-on-click":!1,"open-on-hover":!0,role:"tooltip",eager:!0,activatorProps:{"aria-describedby":s.value}},r),{activator:i.activator,default:function(){for(var c,f,d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];return(c=(f=i.default)==null?void 0:f.call(i,...p))!=null?c:e.text}})}}),hl=e=>(Zh("data-v-13dc0a46"),e=e(),ep(),e),PD=st("mdi-information"),AD=st("About"),ID=st("About"),OD=hl(()=>dt("td",null,"Version",-1)),LD=hl(()=>dt("td",null,"Branch",-1)),DD=hl(()=>dt("td",null,"Commit",-1)),RD=hl(()=>dt("td",null,"Build Time",-1)),MD=hl(()=>dt("td",null,"Build Time (Local)",-1)),FD=Gt({name:"VersionDialog",setup(e){const t=Z(!1),r="2022-05-29T04:31:07.344Z",i=new Date("2022-05-29T04:31:07.344Z").toLocaleString(),n=`44a47424f71c09e04f771525042291852adcf634
`,a=`main
`,s=`44a4742
`;return(o,l)=>(Ne(),at(Xc,{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=u=>t.value=u)},{activator:pe(({props:u})=>[k(bt,gt(u,{icon:""}),{default:pe(()=>[k(kt,null,{default:pe(()=>[PD]),_:1}),k(lh,{activator:"parent",anchor:"bottom"},{default:pe(()=>[AD]),_:1})]),_:2},1040)]),default:pe(()=>[k(aa,{class:"rounded-t",fixed:""},{default:pe(()=>[k(fl,null,{default:pe(()=>[ID]),_:1}),k(ga),k(bt,{onClick:l[0]||(l[0]=u=>t.value=!1),icon:"mdi-close"})]),_:1}),k(va,{class:"parent rounded-t-0 text-no-wrap pb-2",elevation:"0"},{default:pe(()=>[k(Eb,null,{default:pe(()=>[k(kD,null,{default:pe(()=>[dt("tbody",null,[dt("tr",null,[OD,dt("td",null,Dt(ne(s)),1)]),dt("tr",null,[LD,dt("td",null,Dt(ne(a)),1)]),dt("tr",null,[DD,dt("td",null,Dt(ne(n)),1)]),dt("tr",null,[RD,dt("td",null,Dt(ne(r)),1)]),dt("tr",null,[MD,dt("td",null,Dt(ne(i)),1)])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});var ND=Cs(FD,[["__scopeId","data-v-13dc0a46"]]);const BD=He({name:"VApp",props:H(H({},yL({fullHeight:!0})),Nt()),setup(e,t){let{slots:r}=t;const i=Kt(e),{layoutClasses:n,layoutStyles:a,getLayoutItem:s,items:o,layoutRef:l}=TL(e),{rtlClasses:u}=Gc();return Ft(()=>{var c;return k("div",{ref:l,class:["v-application",i.themeClasses.value,n.value,u.value],style:a.value,"data-app":"true"},[k("div",{class:"v-application__wrap"},[(c=r.default)==null?void 0:c.call(r)])])}),{getLayoutItem:s,items:o,theme:i}}});const UD=He({name:"VAppBar",props:et(H(H({modelValue:{type:Boolean,default:!0},position:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)}},$T()),Ip()),{height:{type:[Number,String],default:64}}),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const i=Z(),n=Wt(e,"modelValue"),a=j(()=>{var o,l,u,c;const f=(o=(l=i.value)==null?void 0:l.contentHeight)!=null?o:0,d=(u=(c=i.value)==null?void 0:c.extensionHeight)!=null?u:0;return f+d}),{layoutItemStyles:s}=Op({id:e.name,priority:j(()=>parseInt(e.priority,10)),position:ze(e,"position"),layoutSize:a,elementSize:a,active:n,absolute:ze(e,"absolute")});return()=>{const[o]=JL(e);return k(aa,gt({ref:i,class:["v-app-bar",{"v-app-bar--bottom":e.position==="bottom"}],style:et(H({},s.value),{height:void 0})},o),r)}}});function VD(){const e=Z(!1);return Nn(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:j(()=>e.value?void 0:{transition:"none !important"})}}const $D=He({name:"VMain",props:St({tag:"main"}),setup(e,t){let{slots:r}=t;const{mainStyles:i}=_L(),{ssrBootStyles:n}=VD();return()=>{var a;return k(e.tag,{class:"v-main",style:[i.value,n.value]},{default:()=>[k("div",{class:"v-main__wrap"},[(a=r.default)==null?void 0:a.call(r)])]})}}});function g0(e){const r=Math.abs(e);return Math.sign(e)*(r/((1/.501-2)*(1-r)+1))}function y0(e){let{selectedElement:t,containerSize:r,contentSize:i,isRtl:n,currentScrollOffset:a,isHorizontal:s}=e;const o=s?t.clientWidth:t.clientHeight,l=s?t.offsetLeft:t.offsetTop,u=n?i-l-o:l;n&&(a=-a);const c=r+a,f=o+u,d=o*.4;return u<=a?a=Math.max(u-d,0):c<=f&&(a=Math.min(a-(c-f-d),i-r)),n?-a:a}function _0(e){let{selectedElement:t,containerSize:r,contentSize:i,isRtl:n,isHorizontal:a}=e;const s=a?t.clientWidth:t.clientHeight,o=a?t.offsetLeft:t.offsetTop;if(n){const l=i-o-s/2-r/2;return-Math.min(i-r,Math.max(0,l))}else{const l=o+s/2-r/2;return Math.min(i-r,Math.max(0,l))}}const HT=Symbol.for("vuetify:v-slide-group"),WT=He({name:"VSlideGroup",props:H(H({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:HT},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)}},St()),Ep({selectedClass:"v-slide-group-item--active"})),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{isRtl:i}=Gc(),{mobile:n}=xT(),a=wp(e,e.symbol),s=Z(!1),o=Z(0),l=Z(0),u=Z(0),c=j(()=>e.direction==="horizontal"),{resizeRef:f,contentRect:d}=Zu(),{resizeRef:p,contentRect:y}=Zu();Tr(()=>{if(!d.value||!y.value)return;const te=c.value?"width":"height";l.value=d.value[te],u.value=y.value[te],s.value=l.value+1<u.value});const b=j(()=>a.selected.value.length?a.items.value.findIndex(te=>te.id===a.selected.value[0]):-1),T=j(()=>a.selected.value.length?a.items.value.findIndex(te=>te.id===a.selected.value[a.selected.value.length-1]):-1);Le(a.selected,()=>{if(b.value<0||!p.value)return;const te=p.value.children[T.value];b.value===0||!s.value?o.value=0:e.centerActive?o.value=_0({selectedElement:te,containerSize:l.value,contentSize:u.value,isRtl:i.value,isHorizontal:c.value}):s.value&&(o.value=y0({selectedElement:te,containerSize:l.value,contentSize:u.value,isRtl:i.value,currentScrollOffset:o.value,isHorizontal:c.value}))});let S=!0;Le(s,()=>{if(!S||!p.value||b.value<0)return;S=!1;const te=p.value.children[b.value];o.value=_0({selectedElement:te,containerSize:l.value,contentSize:u.value,isRtl:i.value,isHorizontal:c.value})});const w=Z(!1);let D=0,P=0;function I(te){const Ce=c.value?"clientX":"clientY";P=o.value,D=te.touches[0][Ce],w.value=!0}function L(te){if(!s.value)return;const Ce=c.value?"clientX":"clientY";o.value=P+D-te.touches[0][Ce]}function A(te){const Ce=u.value-l.value;i.value?o.value>0||!s.value?o.value=0:o.value<=-Ce&&(o.value=-Ce):o.value<0||!s.value?o.value=0:o.value>=Ce&&(o.value=Ce),w.value=!1}function R(){f.value&&(f.value.scrollLeft=0)}const M=Z(!1);function N(te){if(M.value=!0,!(!s.value||!p.value)){for(const Ce of te.composedPath())for(const ie of p.value.children)if(ie===Ce){o.value=y0({selectedElement:ie,containerSize:l.value,contentSize:u.value,isRtl:i.value,currentScrollOffset:o.value,isHorizontal:c.value});return}}}function W(te){M.value=!1}function X(te){var Ce;!M.value&&!(te.relatedTarget&&(Ce=p.value)!=null&&Ce.contains(te.relatedTarget))&&le()}function Y(te){!p.value||(te.key===(c.value?"ArrowRight":"ArrowDown")?le("next"):te.key===(c.value?"ArrowLeft":"ArrowUp")?le("prev"):te.key==="Home"?le("first"):te.key==="End"&&le("last"))}function le(te){if(!!p.value)if(te){if(te==="next"){var ie;const ue=(ie=p.value.querySelector(":focus"))==null?void 0:ie.nextElementSibling;ue?ue.focus():le("first")}else if(te==="prev"){var De;const ue=(De=p.value.querySelector(":focus"))==null?void 0:De.previousElementSibling;ue?ue.focus():le("last")}else if(te==="first"){var K;(K=p.value.firstElementChild)==null||K.focus()}else if(te==="last"){var ve;(ve=p.value.lastElementChild)==null||ve.focus()}}else{var Ce;p.value.querySelector("[tabindex]"),(Ce=[...p.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(ke=>!ke.hasAttribute("disabled"))[0])==null||Ce.focus()}}function fe(te){const Ce=i.value?-1:1,ie=Ce*o.value+(te==="prev"?-1:1)*l.value;o.value=Ce*cb(ie,0,u.value-l.value)}const ce=j(()=>{const te=o.value<=0?g0(-o.value):o.value>u.value-l.value?-(u.value-l.value)+g0(u.value-l.value-o.value):-o.value;return{transform:`translate${c.value?"X":"Y"}(${te}px)`,transition:w.value?"none":"",willChange:w.value?"transform":""}}),ye=j(()=>({next:a.next,prev:a.prev,select:a.select,isSelected:a.isSelected})),xe=j(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!n.value;case!0:return s.value||Math.abs(o.value)>0;case"mobile":return n.value||s.value||Math.abs(o.value)>0;default:return!n.value&&(s.value||Math.abs(o.value)>0)}}),ee=j(()=>xe.value&&o.value>0),se=j(()=>xe.value?u.value>Math.abs(o.value)+l.value:!1);return Ft(()=>{var te,Ce,ie,De,K;return k(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!c.value,"v-slide-group--has-affixes":xe.value,"v-slide-group--is-overflowing":s.value}],tabindex:M.value||a.selected.value.length?-1:0,onFocus:X},{default:()=>[xe.value&&k("div",{class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!ee.value}],onClick:()=>fe("prev")},[(te=(Ce=r.prev)==null?void 0:Ce.call(r,ye.value))!=null?te:k(Jg,null,{default:()=>[k(kt,{icon:e.prevIcon},null)]})]),k("div",{ref:f,class:"v-slide-group__container",onScroll:R},[k("div",{ref:p,class:"v-slide-group__content",style:ce.value,onTouchstartPassive:I,onTouchmovePassive:L,onTouchendPassive:A,onFocusin:N,onFocusout:W,onKeydown:Y},[(ie=r.default)==null?void 0:ie.call(r,ye.value)])]),xe.value&&k("div",{class:["v-slide-group__next",{"v-slide-group__next--disabled":!se.value}],onClick:()=>fe("next")},[(De=(K=r.next)==null?void 0:K.call(r,ye.value))!=null?De:k(Jg,null,{default:()=>[k(kt,{icon:e.nextIcon},null)]})])]})}),{selected:a.selected,scrollTo:fe,scrollOffset:o,focus:le}}}),jD=He({name:"VSlideGroupItem",props:H({},qc()),setup(e,t){let{slots:r}=t;const i=Cp(e,HT);return()=>{var n;return(n=r.default)==null?void 0:n.call(r,{isSelected:i.isSelected.value,select:i.select,toggle:i.toggle,selectedClass:i.selectedClass.value})}}});const zT=Symbol.for("vuetify:v-tabs"),qT=He({name:"VTab",props:H(H(H(H({fixed:Boolean,icon:[Boolean,String],prependIcon:String,appendIcon:String,stacked:Boolean,title:String,ripple:{type:Boolean,default:!0},color:String,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"}},St()),ol()),qc({selectedClass:"v-tab--selected"})),Nt()),setup(e,t){let{slots:r,attrs:i}=t;const{textColorClasses:n,textColorStyles:a}=_i(e,"sliderColor"),s=j(()=>e.direction==="horizontal"),o=Z(!1),l=Z(),u=Z();function c(f){let{value:d}=f;if(o.value=d,d){var p,y;const b=(p=l.value)==null||(y=p.$el.parentElement)==null?void 0:y.querySelector(".v-tab--selected .v-tab__slider"),T=u.value;if(!b||!T)return;const S=getComputedStyle(b).color,w=b.getBoundingClientRect(),D=T.getBoundingClientRect(),P=s.value?"x":"y",I=s.value?"X":"Y",L=s.value?"right":"bottom",A=s.value?"width":"height",R=w[P],M=D[P],N=R>M?w[L]-D[L]:w[P]-D[P],W=Math.sign(N)>0?s.value?"right":"bottom":Math.sign(N)<0?s.value?"left":"top":"center",Y=(Math.abs(N)+(Math.sign(N)<0?w[A]:D[A]))/Math.max(w[A],D[A]),le=w[A]/D[A],fe=1.5;T.animate({backgroundColor:[S,""],transform:[`translate${I}(${N}px) scale${I}(${le})`,`translate${I}(${N/fe}px) scale${I}(${(Y-1)/fe+1})`,""],transformOrigin:Array(3).fill(W)},{duration:225,easing:mp})}}return Ft(()=>{const[f]=il(e,["href","to","replace","icon","stacked","prependIcon","appendIcon","ripple","theme","disabled","selectedClass","value","color"]);return k(bt,gt({_as:"VTab",symbol:zT,ref:l,class:["v-tab"],tabindex:o.value?0:-1,role:"tab","aria-selected":String(o.value),block:e.fixed,maxWidth:e.fixed?300:void 0,variant:"text",rounded:0},f,i,{"onGroup:selected":c}),{default:()=>[r.default?r.default():e.title,!e.hideSlider&&k("div",{ref:u,class:["v-tab__slider",n.value],style:a.value},null)]})}),{}}});function HD(e){return e?e.map(t=>typeof t=="string"?{title:t,value:t}:t):[]}const WD=He({name:"VTabs",props:H(H({alignWithTitle:Boolean,color:String,direction:{type:String,default:"horizontal"},fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,backgroundColor:String,centered:Boolean,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,optional:Boolean,end:Boolean,sliderColor:String,modelValue:null},Cr()),St()),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r,emit:i}=t;const n=j(()=>HD(e.items)),{densityClasses:a}=wr(e),{backgroundColorClasses:s,backgroundColorStyles:o}=sr(ze(e,"backgroundColor"));return Qr({VTab:{color:ze(e,"color"),direction:ze(e,"direction"),stacked:ze(e,"stacked"),fixed:ze(e,"fixedTabs"),sliderColor:ze(e,"sliderColor"),hideSlider:ze(e,"hideSlider")}}),()=>k(WT,{class:["v-tabs",`v-tabs--${e.direction}`,{"v-tabs--align-with-title":e.alignWithTitle,"v-tabs--centered":e.centered,"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--end":e.end,"v-tabs--stacked":e.stacked},a.value,s.value],style:o.value,role:"tablist",symbol:zT,mandatory:"force",direction:e.direction,modelValue:e.modelValue,"onUpdate:modelValue":l=>i("update:modelValue",l)},{default:()=>[r.default?r.default():n.value.map(l=>k(qT,gt(l,{key:l.title}),null))]})}}),zD=st("mdi-help-circle"),qD=st("Help"),GD=st("mdi-cog"),KD=st(" Settings "),XD=Gt({name:"App",setup(e){const t=kr(),r=zc(),i=j(()=>!t.project||!t.cVideo),n=Z(!1),a=j(()=>t.project?["ProjectView"]:void 0),s=j(()=>t.project?void 0:["ProjectView"]),o=GA("theme","auto"),l=rI(),u=j(()=>o.value=="auto"?l.value:o.value),c=Yb(),f=dO(),d=Z(""),p=j(()=>i.value?["project"]:["project","extract","label"]);Le([()=>t.project,()=>t.cVideo],([T,S])=>{(!T||!S)&&f.push({name:"project"})},{immediate:!0}),Le(()=>t.video,aI),Le(c,()=>{c&&c.name&&(d.value=c.name.toString(),r.handleRouteChange(c.name))},{immediate:!0});const y=()=>{switch(c.name){case"project":return t.project?"/guide/video/":"/guide/project/";case"extract":return"/guide/extract/";case"label":return"/guide/label/";default:return""}},b=()=>{window.location.assign("/deeplabcut-webui/docs"+y())};return(T,S)=>{const w=F1("router-view");return Ne(),at(BD,{theme:ne(u)},{default:pe(()=>[k(nD,{modelValue:n.value,"onUpdate:modelValue":S[0]||(S[0]=D=>n.value=D),theme:ne(o),"onUpdate:theme":S[1]||(S[1]=D=>Ze(o)?o.value=D:null)},null,8,["modelValue","theme"]),k(pD),k(wD),k(UD,{color:"primary",density:"compact",class:"position-relative",flat:""},{prepend:pe(()=>[k(WD,{modelValue:d.value,"onUpdate:modelValue":S[2]||(S[2]=D=>d.value=D)},{default:pe(()=>[(Ne(!0),Zt(nt,null,Qa(ne(p),D=>(Ne(),at(qT,{key:D,value:D,to:"/"+D},{default:pe(()=>[st(Dt(D),1)]),_:2},1032,["value","to"]))),128))]),_:1},8,["modelValue"])]),default:pe(()=>[k(ga),k(bt,{onClick:b,icon:""},{default:pe(()=>[k(kt,null,{default:pe(()=>[zD]),_:1}),k(lh,{activator:"parent",anchor:"bottom"},{default:pe(()=>[qD]),_:1})]),_:1}),k(ND),k(bt,{class:"mr-n3",onClick:S[3]||(S[3]=up(D=>n.value=!0,["stop"])),icon:""},{default:pe(()=>[k(kt,null,{default:pe(()=>[GD]),_:1}),k(lh,{activator:"parent",anchor:"bottom",class:"settings"},{default:pe(()=>[KD]),_:1})]),_:1})]),_:1}),k($D,{class:"pa-0"},{default:pe(()=>[k(w,null,{default:pe(({Component:D})=>[k(ar,null,{default:pe(()=>[(Ne(),at(P1,{exclude:ne(a),include:ne(s)},[(Ne(),at(D_(D)))],1032,["exclude","include"]))]),_:2},1024)]),_:1})]),_:1})]),_:1},8,["theme"])}}});const YD={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},QD={component:e=>lr(yb,et(H({},e),{class:"mdi"}))},JD=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{install:r=>{const{aliases:i={},components:n={},directives:a={},icons:s={}}=e;for(const c in a)r.directive(c,a[c]);for(const c in n)r.component(c,n[c]);for(const c in i)r.component(c,He(et(H({},i[c]),{name:c})));r.provide(qu,NP(e.defaults)),r.provide(ih,EL(e.display)),r.provide(Gu,nA(r,e.theme)),r.provide(Wf,na({defaultSet:"mdi",sets:et(H({},qP),{mdi:QD}),aliases:YD},s));const{adapter:o,rootInstance:l}=qL(r,e==null?void 0:e.locale);r.provide(sh,o),r.provide(rh,MO(l,e==null?void 0:e.locale));function u(c){var f,d,p;const y=this.$,b=(f=(d=y.parent)==null?void 0:d.provides)!=null?f:(p=y.vnode.appContext)==null?void 0:p.provides;if(b&&c in b)return b[c]}r.mixin({computed:{$vuetify(){return xn({defaults:u.call(this,qu),display:u.call(this,ih),theme:u.call(this,Gu),icons:u.call(this,Wf),locale:u.call(this,sh),rtl:u.call(this,rh)})}}})}}};const ZD="modulepreload",b0={},eR="/deeplabcut-webui/",tR=function(t,r){return!r||r.length===0?t():Promise.all(r.map(i=>{if(i=`${eR}${i}`,i in b0)return;b0[i]=!0;const n=i.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${a}`))return;const s=document.createElement("link");if(s.rel=n?"stylesheet":ZD,n||(s.as="script",s.crossOrigin=""),s.href=i,document.head.appendChild(s),n)return new Promise((o,l)=>{s.addEventListener("load",o),s.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())};async function nR(){(await tR(()=>import("./webfontloader.ccf6ba4d.js").then(function(t){return t.w}),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}nR();var rR=JD({theme:{variations:{colors:["primary","secondary"],lighten:1,darken:2},themes:{light:{colors:{primary:"#2196F3",secondary:"#E91E63"}},dark:{dark:!0,colors:{primary:"#212121",secondary:"#E91E63"}}}}});const iR=(e,t,r)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),aR=it({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function sR(e,t,r){var i,n;const a=[],s=(i=r==null?void 0:r.default)!=null?i:iR,o=r!=null&&r.filterKeys?ta(r.filterKeys):!1,l=Object.keys((n=r==null?void 0:r.customKeyFilter)!=null?n:{}).length;if(!(e!=null&&e.length))return a;e:for(const c of e){const f={},d={};let p=-1;if(t&&typeof c=="object"&&!(r!=null&&r.noFilter)){const y=o||Object.keys(c);for(const S of y){var u;const w=$f(c,S,c),D=r==null||(u=r.customKeyFilter)==null?void 0:u[S];if(p=D?D(w,t,c):s(w,t,c),p!==-1&&p!==!1)D?f[S]=p:d[S]=p;else if((r==null?void 0:r.filterMode)==="every")continue e}const b=Object.keys(d).length,T=Object.keys(f).length;if(!b&&!T||(r==null?void 0:r.filterMode)==="union"&&T!==l&&!b||(r==null?void 0:r.filterMode)==="intersection"&&(T!==l||!b))continue}a.push({item:c,matches:H(H({},d),f)})}return a}function oR(e,t,r){const i=j(()=>typeof(r==null?void 0:r.value)!="string"&&typeof(r==null?void 0:r.value)!="number"?"":String(r.value));return{filteredItems:j(()=>sR(ne(t),i.value,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}))}}function lR(e,t,r){if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?k(nt,null,[k("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),k("span",{class:"v-autocomplete__mask"},[e.substr(t,r)]),k("span",{class:"v-autocomplete__unmask"},[e.substr(t+r)])]):e}const uR=sn()({name:"VAutocomplete",props:H(H(H({search:String},aR({filterKeys:["title"]})),VT()),Er({transition:!1})),emits:{"click:clear":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{t:i}=UT(),n=Z(),a=Z(),s=Z(!1),o=Z(!0),l=Z(!1),{items:u}=BT(e),c=Wt(e,"search",""),f=Wt(e,"modelValue",[],L=>ta(L||[]),L=>e.multiple?L:L[0]),{filteredItems:d}=oR(e,u,j(()=>o.value?void 0:c.value)),p=j(()=>{const L=[];let A=0;for(const R of f.value){const M=FT(e,R);L.find(W=>W.value===M.value)==null&&(L.push(et(H({},M),{index:A})),A++)}return L}),y=j(()=>p.value.map(L=>L.value));function b(L){f.value=[],e.openOnClear&&(l.value=!0),c.value=""}function T(){e.hideNoData&&!d.value.length||(l.value=!0)}function S(L){["Enter","ArrowDown"].includes(L.key)&&(l.value=!0),["Escape"].includes(L.key)&&(l.value=!1),["Enter","Escape","Tab"].includes(L.key)&&(o.value=!0)}function w(L){c.value=L.target.value}function D(){s.value&&(o.value=!0)}const P=Z(!1);function I(L){if(e.multiple){const A=y.value.findIndex(R=>R===L.value);if(A===-1)f.value=[...f.value,L.value];else{const R=[...f.value];R.splice(A,1),f.value=R}}else f.value=[L.value],P.value=!0,c.value=L.title,l.value=!1,o.value=!0,Tn(()=>P.value=!1)}return Le(()=>n.value,L=>{a.value=L.$el.querySelector(".v-input__control")}),Le(s,L=>{if(L){var A;P.value=!0,c.value=e.multiple?"":String((A=f.value)!=null?A:""),o.value=!0,Tn(()=>P.value=!1)}else l.value=!1,c.value=""}),Le(c,L=>{!s.value||P.value||(L&&(l.value=!0),o.value=!L)}),Ft(()=>{const L=!!(e.chips||r.chip);return k(us,{ref:n,modelValue:c.value,onInput:w,class:["v-autocomplete",{"v-autocomplete--active-menu":l.value,"v-autocomplete--chips":!!e.chips,[`v-autocomplete--${e.multiple?"multiple":"single"}`]:!0}],appendInnerIcon:e.menuIcon,dirty:y.value.length>0,"onClick:clear":b,"onClick:control":T,"onClick:input":T,onFocus:()=>s.value=!0,onBlur:()=>s.value=!1,onKeydown:S},et(H({},r),{default:()=>{var A,R;return k(nt,null,[a.value&&k(MT,{modelValue:l.value,"onUpdate:modelValue":M=>l.value=M,activator:a.value,contentClass:"v-autocomplete__content",eager:e.eager,openOnClick:!1,transition:e.transition,onAfterLeave:D},{default:()=>[k(Yc,{selected:y.value,selectStrategy:e.multiple?"independent":"single-independent"},{default:()=>[!d.value.length&&!e.hideNoData&&((A=(R=r["no-data"])==null?void 0:R.call(r))!=null?A:k(Wr,{title:i(e.noDataText)},null)),d.value.map(M=>{let{item:N,matches:W}=M;return k(Wr,{value:N.value,onMousedown:X=>X.preventDefault(),onClick:()=>I(N)},{title:()=>{var X,Y;return o.value?N.title:lR(N.title,W.title,(X=(Y=c.value)==null?void 0:Y.length)!=null?X:0)}})})]})]}),p.value.map((M,N)=>{function W(Y){Y.stopPropagation(),Y.preventDefault(),I(M)}const X={"onClick:close":W,modelValue:!0};return k("div",{class:"v-autocomplete__selection"},[L&&k(vi,{defaults:{VChip:{closable:e.closableChips,size:"small",text:M.title}}},{default:()=>[r.chip?r.chip({props:X,selection:M}):k(CT,X,null)]}),!L&&(r.selection?r.selection({selection:M}):k("span",{class:"v-autocomplete__selection-text"},[M.title,e.multiple&&N<p.value.length-1&&k("span",{class:"v-autocomplete__selection-comma"},[st(",")])]))])})])}}))}),dl({filteredItems:d},n)}});var tc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function GT(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var io;typeof window!="undefined"?io=window:typeof tc!="undefined"?io=tc:typeof self!="undefined"?io=self:io={};var U=io,cR={},dR=Object.freeze(Object.defineProperty({__proto__:null,default:cR},Symbol.toStringTag,{value:"Module"})),fR=GT(dR),T0=typeof tc!="undefined"?tc:typeof window!="undefined"?window:{},hR=fR,ao;typeof document!="undefined"?ao=document:(ao=T0["__GLOBAL_DOCUMENT_CACHE@4"],ao||(ao=T0["__GLOBAL_DOCUMENT_CACHE@4"]=hR));var ge=ao;function qn(){return qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},qn.apply(this,arguments)}var pR=Object.freeze(Object.defineProperty({__proto__:null,default:qn},Symbol.toStringTag,{value:"Module"})),uh={exports:{}};(function(e,t){function r(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return s[l];var c=String(l),f=i[c.toLowerCase()];if(f)return f;var f=n[c.toLowerCase()];if(f)return f;if(c.length===1)return c.charCodeAt(0)}r.isEventKey=function(u,c){if(u&&typeof u=="object"){var f=u.which||u.keyCode||u.charCode;if(f==null)return!1;if(typeof c=="string"){var d=i[c.toLowerCase()];if(d)return d===f;var d=n[c.toLowerCase()];if(d)return d===f}else if(typeof c=="number")return c===f;return!1}},t=e.exports=r;var i=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=t.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)i[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)i[a-48]=a;for(a=1;a<13;a++)i["f"+a]=a+111;for(a=0;a<10;a++)i["numpad "+a]=a+96;var s=t.names=t.title={};for(a in i)s[i[a]]=a;for(var o in n)i[o]=n[o]})(uh,uh.exports);var We=uh.exports;function je(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zo(e,t){return zo=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},zo(e,t)}function Se(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,zo(e,t)}var mR=vR;function vR(e,t){var r,i=null;try{r=JSON.parse(e,t)}catch(n){i=n}return[i,r]}var Dp={exports:{}},gR=GT(pR),yR=bR,_R=Object.prototype.toString;function bR(e){if(!e)return!1;var t=_R.call(e);return t==="[object Function]"||typeof e=="function"&&t!=="[object RegExp]"||typeof window!="undefined"&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}var TR=U,SR=function(t,r){return r===void 0&&(r=!1),function(i,n,a){if(i){t(i);return}if(n.statusCode>=400&&n.statusCode<=599){var s=a;if(r)if(TR.TextDecoder){var o=xR(n.headers&&n.headers["content-type"]);try{s=new TextDecoder(o).decode(a)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(a));t({cause:s});return}t(null,a)}};function xR(e){return e===void 0&&(e=""),e.toLowerCase().split(";").reduce(function(t,r){var i=r.split("="),n=i[0],a=i[1];return n.trim()==="charset"?a.trim():t},"utf-8")}var ER=SR,KT=U,CR=gR,wR=yR;_r.httpHandler=ER;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var kR=function(t){var r={};return t&&t.trim().split(`
`).forEach(function(i){var n=i.indexOf(":"),a=i.slice(0,n).trim().toLowerCase(),s=i.slice(n+1).trim();typeof r[a]=="undefined"?r[a]=s:Array.isArray(r[a])?r[a].push(s):r[a]=[r[a],s]}),r};Dp.exports=_r;Dp.exports.default=_r;_r.XMLHttpRequest=KT.XMLHttpRequest||OR;_r.XDomainRequest="withCredentials"in new _r.XMLHttpRequest?_r.XMLHttpRequest:KT.XDomainRequest;PR(["get","put","post","patch","head","delete"],function(e){_r[e==="delete"?"del":e]=function(t,r,i){return r=XT(t,r,i),r.method=e.toUpperCase(),YT(r)}});function PR(e,t){for(var r=0;r<e.length;r++)t(e[r])}function AR(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function XT(e,t,r){var i=e;return wR(t)?(r=t,typeof e=="string"&&(i={uri:e})):i=CR({},t,{uri:e}),i.callback=r,i}function _r(e,t,r){return t=XT(e,t,r),YT(t)}function YT(e){if(typeof e.callback=="undefined")throw new Error("callback argument missing");var t=!1,r=function(D,P,I){t||(t=!0,e.callback(D,P,I))};function i(){o.readyState===4&&setTimeout(s,0)}function n(){var w=void 0;if(o.response?w=o.response:w=o.responseText||IR(o),b)try{w=JSON.parse(w)}catch{}return w}function a(w){return clearTimeout(T),w instanceof Error||(w=new Error(""+(w||"Unknown XMLHttpRequest Error"))),w.statusCode=0,r(w,S)}function s(){if(!u){var w;clearTimeout(T),e.useXDR&&o.status===void 0?w=200:w=o.status===1223?204:o.status;var D=S,P=null;return w!==0?(D={body:n(),statusCode:w,method:f,headers:{},url:c,rawRequest:o},o.getAllResponseHeaders&&(D.headers=kR(o.getAllResponseHeaders()))):P=new Error("Internal XMLHttpRequest Error"),r(P,D,D.body)}}var o=e.xhr||null;o||(e.cors||e.useXDR?o=new _r.XDomainRequest:o=new _r.XMLHttpRequest);var l,u,c=o.url=e.uri||e.url,f=o.method=e.method||"GET",d=e.body||e.data,p=o.headers=e.headers||{},y=!!e.sync,b=!1,T,S={body:void 0,headers:{},statusCode:0,method:f,url:c,rawRequest:o};if("json"in e&&e.json!==!1&&(b=!0,p.accept||p.Accept||(p.Accept="application/json"),f!=="GET"&&f!=="HEAD"&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),d=JSON.stringify(e.json===!0?d:e.json))),o.onreadystatechange=i,o.onload=s,o.onerror=a,o.onprogress=function(){},o.onabort=function(){u=!0},o.ontimeout=a,o.open(f,c,!y,e.username,e.password),y||(o.withCredentials=!!e.withCredentials),!y&&e.timeout>0&&(T=setTimeout(function(){if(!u){u=!0,o.abort("timeout");var w=new Error("XMLHttpRequest timeout");w.code="ETIMEDOUT",a(w)}},e.timeout)),o.setRequestHeader)for(l in p)p.hasOwnProperty(l)&&o.setRequestHeader(l,p[l]);else if(e.headers&&!AR(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(o.responseType=e.responseType),"beforeSend"in e&&typeof e.beforeSend=="function"&&e.beforeSend(o),o.send(d||null),o}function IR(e){try{if(e.responseType==="document")return e.responseXML;var t=e.responseXML&&e.responseXML.documentElement.nodeName==="parsererror";if(e.responseType===""&&!t)return e.responseXML}catch{}return null}function OR(){}var QT=Dp.exports,JT={exports:{}},S0=ge,Rp=Object.create||function(){function e(){}return function(t){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function Dn(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}Dn.prototype=Rp(Error.prototype);Dn.prototype.constructor=Dn;Dn.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Mp(e){function t(i,n,a,s){return(i|0)*3600+(n|0)*60+(a|0)+(s|0)/1e3}var r=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}function Eo(){this.values=Rp(null)}Eo.prototype={set:function(e,t){!this.get(e)&&t!==""&&(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var i=0;i<r.length;++i)if(t===r[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t),t>=0&&t<=100)?(this.set(e,t),!0):!1}};function so(e,t,r,i){var n=i?e.split(i):[e];for(var a in n)if(typeof n[a]=="string"){var s=n[a].split(r);if(s.length===2){var o=s[0],l=s[1];t(o,l)}}}function LR(e,t,r){var i=e;function n(){var o=Mp(e);if(o===null)throw new Dn(Dn.Errors.BadTimeStamp,"Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),o}function a(o,l){var u=new Eo;so(o,function(c,f){switch(c){case"region":for(var d=r.length-1;d>=0;d--)if(r[d].id===f){u.set(c,r[d].region);break}break;case"vertical":u.alt(c,f,["rl","lr"]);break;case"line":var p=f.split(","),y=p[0];u.integer(c,y),u.percent(c,y)&&u.set("snapToLines",!1),u.alt(c,y,["auto"]),p.length===2&&u.alt("lineAlign",p[1],["start","center","end"]);break;case"position":p=f.split(","),u.percent(c,p[0]),p.length===2&&u.alt("positionAlign",p[1],["start","center","end"]);break;case"size":u.percent(c,f);break;case"align":u.alt(c,f,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function s(){e=e.replace(/^\s+/,"")}if(s(),t.startTime=n(),s(),e.substr(0,3)!=="-->")throw new Dn(Dn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);e=e.substr(3),s(),t.endTime=n(),s(),a(e,t)}var Kd=S0.createElement&&S0.createElement("textarea"),DR={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},x0={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},RR={v:"title",lang:"lang"},E0={rt:"ruby"};function ZT(e,t){function r(){if(!t)return null;function y(T){return t=t.substr(T.length),T}var b=t.match(/^([^<]*)(<[^>]*>?)?/);return y(b[1]?b[1]:b[2])}function i(y){return Kd.innerHTML=y,y=Kd.textContent,Kd.textContent="",y}function n(y,b){return!E0[b.localName]||E0[b.localName]===y.localName}function a(y,b){var T=DR[y];if(!T)return null;var S=e.document.createElement(T),w=RR[y];return w&&b&&(S[w]=b.trim()),S}for(var s=e.document.createElement("div"),o=s,l,u=[];(l=r())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),o=o.parentNode);continue}var c=Mp(l.substr(1,l.length-2)),f;if(c){f=e.document.createProcessingInstruction("timestamp",c),o.appendChild(f);continue}var d=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!d||(f=a(d[1],d[3]),!f)||!n(o,f))continue;if(d[2]){var p=d[2].split(".");p.forEach(function(y){var b=/^bg_/.test(y),T=b?y.slice(3):y;if(x0.hasOwnProperty(T)){var S=b?"background-color":"color",w=x0[T];f.style[S]=w}}),f.className=p.join(" ")}u.push(d[1]),o.appendChild(f),o=f;continue}o.appendChild(e.document.createTextNode(i(l)))}return s}var C0=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function MR(e){for(var t=0;t<C0.length;t++){var r=C0[t];if(e>=r[0]&&e<=r[1])return!0}return!1}function FR(e){var t=[],r="",i;if(!e||!e.childNodes)return"ltr";function n(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function a(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):u}if(l.tagName==="ruby")return a(o);if(l.childNodes)return n(o,l),a(o)}for(n(t,e);r=a(t);)for(var s=0;s<r.length;s++)if(i=r.charCodeAt(s),MR(i))return"rtl";return"ltr"}function NR(e){if(typeof e.line=="number"&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,r=t.textTrackList,i=0,n=0;n<r.length&&r[n]!==t;n++)r[n].mode==="showing"&&i++;return++i*-1}function Qc(){}Qc.prototype.applyStyles=function(e,t){t=t||this.div;for(var r in e)e.hasOwnProperty(r)&&(t.style[r]=e[r])};Qc.prototype.formatStyle=function(e,t){return e===0?0:e+t};function nc(e,t,r){Qc.call(this),this.cue=t,this.cueDiv=ZT(e,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={direction:FR(this.cueDiv),writingMode:t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:t.align==="middle"?"center":t.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var n=0;switch(t.positionAlign){case"start":n=t.position;break;case"center":n=t.position-t.size/2;break;case"end":n=t.position-t.size;break}t.vertical===""?this.applyStyles({left:this.formatStyle(n,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(n,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}nc.prototype=Rp(Qc.prototype);nc.prototype.constructor=nc;function vn(e){var t,r,i,n;if(e.div){r=e.div.offsetHeight,i=e.div.offsetWidth,n=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||n,this.height=e.height||r,this.bottom=e.bottom||n+(e.height||r),this.width=e.width||i,this.lineHeight=t!==void 0?t:e.lineHeight}vn.prototype.move=function(e,t){switch(t=t!==void 0?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t;break}};vn.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top};vn.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1};vn.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right};vn.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}};vn.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),r=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),i=t*r;return i/(this.height*this.width)};vn.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}};vn.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,r=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var n={left:e.left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||r};return n};function BR(e,t,r,i){function n(T,S){for(var w,D=new vn(T),P=1,I=0;I<S.length;I++){for(;T.overlapsOppositeAxis(r,S[I])||T.within(r)&&T.overlapsAny(i);)T.move(S[I]);if(T.within(r))return T;var L=T.intersectPercentage(r);P>L&&(w=new vn(T),P=L),T=new vn(D)}return w||D}var a=new vn(t),s=t.cue,o=NR(s),l=[];if(s.snapToLines){var u;switch(s.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=a.lineHeight,f=c*Math.round(o),d=r[u]+c,p=l[0];Math.abs(f)>d&&(f=f<0?-1:1,f*=Math.ceil(d/c)*c),o<0&&(f+=s.vertical===""?r.height:r.width,l=l.reverse()),a.move(p,f)}else{var y=a.lineHeight/r.height*100;switch(s.lineAlign){case"center":o-=y/2;break;case"end":o-=y;break}switch(s.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],a=new vn(t)}var b=n(a,l);t.move(b.toCSSCompatValues(r))}function ks(){}ks.StringDecoder=function(){return{decode:function(e){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};ks.convertCueToDOMTree=function(e,t){return!e||!t?null:ZT(e,t)};var UR=.05,VR="sans-serif",$R="1.5%";ks.processCues=function(e,t,r){if(!e||!t||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var i=e.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=$R,r.appendChild(i);function n(c){for(var f=0;f<c.length;f++)if(c[f].hasBeenReset||!c[f].displayState)return!0;return!1}if(!n(t)){for(var a=0;a<t.length;a++)i.appendChild(t[a].displayState);return}var s=[],o=vn.getSimpleBoxPosition(i),l=Math.round(o.height*UR*100)/100,u={font:l+"px "+VR};(function(){for(var c,f,d=0;d<t.length;d++)f=t[d],c=new nc(e,f,u),i.appendChild(c.div),BR(e,c,o,s),f.displayState=c.div,s.push(vn.getSimpleBoxPosition(c))})()};ks.Parser=function(e,t,r){r||(r=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]};ks.Parser.prototype={reportOrThrowError:function(e){if(e instanceof Dn)this.onparsingerror&&this.onparsingerror(e);else throw e},parse:function(e){var t=this;e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));function r(){for(var c=t.buffer,f=0;f<c.length&&c[f]!=="\r"&&c[f]!==`
`;)++f;var d=c.substr(0,f);return c[f]==="\r"&&++f,c[f]===`
`&&++f,t.buffer=c.substr(f),d}function i(c){var f=new Eo;if(so(c,function(p,y){switch(p){case"id":f.set(p,y);break;case"width":f.percent(p,y);break;case"lines":f.integer(p,y);break;case"regionanchor":case"viewportanchor":var b=y.split(",");if(b.length!==2)break;var T=new Eo;if(T.percent("x",b[0]),T.percent("y",b[1]),!T.has("x")||!T.has("y"))break;f.set(p+"X",T.get("x")),f.set(p+"Y",T.get("y"));break;case"scroll":f.alt(p,y,["up"]);break}},/=/,/\s/),f.has("id")){var d=new(t.vttjs.VTTRegion||t.window.VTTRegion);d.width=f.get("width",100),d.lines=f.get("lines",3),d.regionAnchorX=f.get("regionanchorX",0),d.regionAnchorY=f.get("regionanchorY",100),d.viewportAnchorX=f.get("viewportanchorX",0),d.viewportAnchorY=f.get("viewportanchorY",100),d.scroll=f.get("scroll",""),t.onregion&&t.onregion(d),t.regionList.push({id:f.get("id"),region:d})}}function n(c){var f=new Eo;so(c,function(d,p){switch(d){case"MPEGT":f.integer(d+"S",p);break;case"LOCA":f.set(d+"L",Mp(p));break}},/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:f.get("MPEGTS"),LOCAL:f.get("LOCAL")})}function a(c){c.match(/X-TIMESTAMP-MAP/)?so(c,function(f,d){switch(f){case"X-TIMESTAMP-MAP":n(d);break}},/=/):so(c,function(f,d){switch(f){case"Region":i(d);break}},/:/)}try{var s;if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;s=r();var o=s.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Dn(Dn.Errors.BadSignature);t.state="HEADER"}for(var l=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(l?l=!1:s=r(),t.state){case"HEADER":/:/.test(s)?a(s):s||(t.state="ID");continue;case"NOTE":s||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){t.state="NOTE";break}if(!s)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch{t.cue.align="middle"}if(t.state="CUE",s.indexOf("-->")===-1){t.cue.id=s;continue}case"CUE":try{LR(s,t.cue,t.regionList)}catch(c){t.reportOrThrowError(c),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var u=s.indexOf("-->")!==-1;if(!s||u&&(l=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+=`
`),t.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(t.state="ID");continue}}}catch(c){t.reportOrThrowError(c),t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL")throw new Dn(Dn.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var jR=ks,HR="auto",WR={"":1,lr:1,rl:1},zR={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function qR(e){if(typeof e!="string")return!1;var t=WR[e.toLowerCase()];return t?e.toLowerCase():!1}function Xd(e){if(typeof e!="string")return!1;var t=zR[e.toLowerCase()];return t?e.toLowerCase():!1}function eS(e,t,r){this.hasBeenReset=!1;var i="",n=!1,a=e,s=t,o=r,l=null,u="",c=!0,f="auto",d="start",p="auto",y="auto",b=100,T="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(S){i=""+S}},pauseOnExit:{enumerable:!0,get:function(){return n},set:function(S){n=!!S}},startTime:{enumerable:!0,get:function(){return a},set:function(S){if(typeof S!="number")throw new TypeError("Start time must be set to a number.");a=S,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number")throw new TypeError("End time must be set to a number.");s=S,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(S){o=""+S,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(S){l=S,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(S){var w=qR(S);if(w===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=w,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(S){c=!!S,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(S){if(typeof S!="number"&&S!==HR)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=S,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return d},set:function(S){var w=Xd(S);w?(d=w,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return p},set:function(S){if(S<0||S>100)throw new Error("Position must be between 0 and 100.");p=S,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return y},set:function(S){var w=Xd(S);w?(y=w,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return b},set:function(S){if(S<0||S>100)throw new Error("Size must be between 0 and 100.");b=S,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return T},set:function(S){var w=Xd(S);if(!w)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");T=w,this.hasBeenReset=!0}}}),this.displayState=void 0}eS.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var GR=eS,KR={"":!0,up:!0};function XR(e){if(typeof e!="string")return!1;var t=KR[e.toLowerCase()];return t?e.toLowerCase():!1}function Ks(e){return typeof e=="number"&&e>=0&&e<=100}function YR(){var e=100,t=3,r=0,i=100,n=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(o){if(!Ks(o))throw new Error("Width must be between 0 and 100.");e=o}},lines:{enumerable:!0,get:function(){return t},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");t=o}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(o){if(!Ks(o))throw new Error("RegionAnchorX must be between 0 and 100.");i=o}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!Ks(o))throw new Error("RegionAnchorY must be between 0 and 100.");r=o}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(o){if(!Ks(o))throw new Error("ViewportAnchorY must be between 0 and 100.");a=o}},viewportAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!Ks(o))throw new Error("ViewportAnchorX must be between 0 and 100.");n=o}},scroll:{enumerable:!0,get:function(){return s},set:function(o){var l=XR(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=l}}})}var QR=YR,zr=U,ya=JT.exports={WebVTT:jR,VTTCue:GR,VTTRegion:QR};zr.vttjs=ya;zr.WebVTT=ya.WebVTT;var JR=ya.VTTCue,ZR=ya.VTTRegion,eM=zr.VTTCue,tM=zr.VTTRegion;ya.shim=function(){zr.VTTCue=JR,zr.VTTRegion=ZR};ya.restore=function(){zr.VTTCue=eM,zr.VTTRegion=tM};zr.VTTCue||ya.shim();var w0=JT.exports;function nM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Iu(e,t,r){return nM()?Iu=Reflect.construct:Iu=function(n,a,s){var o=[null];o.push.apply(o,a);var l=Function.bind.apply(n,o),u=new l;return s&&zo(u,s.prototype),u},Iu.apply(null,arguments)}function rM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zo(e,t)}var tS={exports:{}};(function(e,t){(function(r){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var f=o.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");return f.path=o.normalizePath(f.path),o.buildURLFromParts(f)}var d=o.parseURL(u);if(!d)throw new Error("Error trying to parse relative URL.");if(d.scheme)return c.alwaysNormalize?(d.path=o.normalizePath(d.path),o.buildURLFromParts(d)):u;var p=o.parseURL(l);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var y=n.exec(p.path);p.netLoc=y[1],p.path=y[2]}p.netLoc&&!p.path&&(p.path="/");var b={scheme:p.scheme,netLoc:d.netLoc,path:null,params:d.params,query:d.query,fragment:d.fragment};if(!d.netLoc&&(b.netLoc=p.netLoc,d.path[0]!=="/"))if(!d.path)b.path=p.path,d.params||(b.params=p.params,d.query||(b.query=p.query));else{var T=p.path,S=T.substring(0,T.lastIndexOf("/")+1)+d.path;b.path=o.normalizePath(S)}return b.path===null&&(b.path=c.alwaysNormalize?o.normalizePath(d.path):d.path),o.buildURLFromParts(b)},parseURL:function(l){var u=i.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(a,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};e.exports=o})()})(tS);var k0=tS.exports,P0="http://example.com",Jc=function(t,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(t)&&(t=U.location&&U.location.href||"");var i=typeof U.URL=="function",n=/^\/\//.test(t),a=!U.location&&!/\/\//i.test(t);if(i?t=new U.URL(t,U.location||P0):/\/\//i.test(t)||(t=k0.buildAbsoluteURL(U.location&&U.location.href||"",t)),i){var s=new URL(r,t);return a?s.href.slice(P0.length):n?s.href.slice(s.protocol.length):s.href}return k0.buildAbsoluteURL(t,r)},Fp=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(i,n){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(n)},t.off=function(i,n){if(!this.listeners[i])return!1;var a=this.listeners[i].indexOf(n);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(a,1),a>-1},t.trigger=function(i){var n=this.listeners[i];if(!!n)if(arguments.length===2)for(var a=n.length,s=0;s<a;++s)n[s].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=n.length,u=0;u<l;++u)n[u].apply(this,o)},t.dispose=function(){this.listeners={}},t.pipe=function(i){this.on("data",function(n){i.push(n)})},e}(),iM=function(t){return U.atob?U.atob(t):Buffer.from(t,"base64").toString("binary")};function nS(e){for(var t=iM(e),r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}/*! @name m3u8-parser @version 4.7.1 @license Apache-2.0 */var aM=function(e){Se(t,e);function t(){var i;return i=e.call(this)||this,i.buffer="",i}var r=t.prototype;return r.push=function(n){var a;for(this.buffer+=n,a=this.buffer.indexOf(`
`);a>-1;a=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)},t}(Fp),sM=String.fromCharCode(9),Yd=function(t){var r=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),i={};return r[1]&&(i.length=parseInt(r[1],10)),r[2]&&(i.offset=parseInt(r[2],10)),i},oM=function(){var t="[^=]*",r='"[^"]*"|[^,]*',i="(?:"+t+")=(?:"+r+")";return new RegExp("(?:^|,)("+i+")")},Jn=function(t){for(var r=t.split(oM()),i={},n=r.length,a;n--;)r[n]!==""&&(a=/([^=]*)=(.*)/.exec(r[n]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),i[a[0]]=a[1]);return i},lM=function(e){Se(t,e);function t(){var i;return i=e.call(this)||this,i.customParsers=[],i.tagMappers=[],i}var r=t.prototype;return r.push=function(n){var a=this,s,o;if(n=n.trim(),n.length!==0){if(n[0]!=="#"){this.trigger("data",{type:"uri",uri:n});return}var l=this.tagMappers.reduce(function(u,c){var f=c(n);return f===n?u:u.concat([f])},[n]);l.forEach(function(u){for(var c=0;c<a.customParsers.length;c++)if(a.customParsers[c].call(a,u))return;if(u.indexOf("#EXT")!==0){a.trigger("data",{type:"comment",text:u.slice(1)});return}if(u=u.replace("\r",""),s=/^#EXTM3U/.exec(u),s){a.trigger("data",{type:"tag",tagType:"m3u"});return}if(s=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(u),s){o={type:"tag",tagType:"inf"},s[1]&&(o.duration=parseFloat(s[1])),s[2]&&(o.title=s[2]),a.trigger("data",o);return}if(s=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"targetduration"},s[1]&&(o.duration=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"version"},s[1]&&(o.version=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"media-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"playlist-type"},s[1]&&(o.playlistType=s[1]),a.trigger("data",o);return}if(s=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(u),s){o=qn(Yd(s[1]),{type:"tag",tagType:"byterange"}),a.trigger("data",o);return}if(s=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(u),s){o={type:"tag",tagType:"allow-cache"},s[1]&&(o.allowed=!/NO/.test(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-MAP:?(.*)$/.exec(u),s){if(o={type:"tag",tagType:"map"},s[1]){var f=Jn(s[1]);f.URI&&(o.uri=f.URI),f.BYTERANGE&&(o.byterange=Yd(f.BYTERANGE))}a.trigger("data",o);return}if(s=/^#EXT-X-STREAM-INF:?(.*)$/.exec(u),s){if(o={type:"tag",tagType:"stream-inf"},s[1]){if(o.attributes=Jn(s[1]),o.attributes.RESOLUTION){var d=o.attributes.RESOLUTION.split("x"),p={};d[0]&&(p.width=parseInt(d[0],10)),d[1]&&(p.height=parseInt(d[1],10)),o.attributes.RESOLUTION=p}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA:?(.*)$/.exec(u),s){o={type:"tag",tagType:"media"},s[1]&&(o.attributes=Jn(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-ENDLIST/.exec(u),s){a.trigger("data",{type:"tag",tagType:"endlist"});return}if(s=/^#EXT-X-DISCONTINUITY/.exec(u),s){a.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(s=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(u),s){o={type:"tag",tagType:"program-date-time"},s[1]&&(o.dateTimeString=s[1],o.dateTimeObject=new Date(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-KEY:?(.*)$/.exec(u),s){o={type:"tag",tagType:"key"},s[1]&&(o.attributes=Jn(s[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),a.trigger("data",o);return}if(s=/^#EXT-X-START:?(.*)$/.exec(u),s){o={type:"tag",tagType:"start"},s[1]&&(o.attributes=Jn(s[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-out-cont"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-out"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-IN:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-in"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-SKIP:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"skip"},o.attributes=Jn(s[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(sM)),a.trigger("data",o);return}if(s=/^#EXT-X-PART:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"part"},o.attributes=Jn(s[1]),["DURATION"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseFloat(o.attributes[y]))}),["INDEPENDENT","GAP"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=/YES/.test(o.attributes[y]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=Yd(o.attributes.BYTERANGE)),a.trigger("data",o);return}if(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"server-control"},o.attributes=Jn(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseFloat(o.attributes[y]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=/YES/.test(o.attributes[y]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PART-INF:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"part-inf"},o.attributes=Jn(s[1]),["PART-TARGET"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseFloat(o.attributes[y]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"preload-hint"},o.attributes=Jn(s[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(y){if(o.attributes.hasOwnProperty(y)){o.attributes[y]=parseInt(o.attributes[y],10);var b=y==="BYTERANGE-LENGTH"?"length":"offset";o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[b]=o.attributes[y],delete o.attributes[y]}}),a.trigger("data",o);return}if(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"rendition-report"},o.attributes=Jn(s[1]),["LAST-MSN","LAST-PART"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseInt(o.attributes[y],10))}),a.trigger("data",o);return}a.trigger("data",{type:"tag",data:u.slice(4)})})}},r.addParser=function(n){var a=this,s=n.expression,o=n.customType,l=n.dataParser,u=n.segment;typeof l!="function"&&(l=function(f){return f}),this.customParsers.push(function(c){var f=s.exec(c);if(f)return a.trigger("data",{type:"custom",data:l(c),customType:o,segment:u}),!0})},r.addTagMapper=function(n){var a=n.expression,s=n.map,o=function(u){return a.test(u)?s(u):u};this.tagMappers.push(o)},t}(Fp),uM=function(t){return t.toLowerCase().replace(/-(\w)/g,function(r){return r[1].toUpperCase()})},Aa=function(t){var r={};return Object.keys(t).forEach(function(i){r[uM(i)]=t[i]}),r},Qd=function(t){var r=t.serverControl,i=t.targetDuration,n=t.partTargetDuration;if(!!r){var a="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",l=i&&i*3,u=n&&n*2;i&&!r.hasOwnProperty(s)&&(r[s]=l,this.trigger("info",{message:a+" defaulting HOLD-BACK to targetDuration * 3 ("+l+")."})),l&&r[s]<l&&(this.trigger("warn",{message:a+" clamping HOLD-BACK ("+r[s]+") to targetDuration * 3 ("+l+")"}),r[s]=l),n&&!r.hasOwnProperty(o)&&(r[o]=n*3,this.trigger("info",{message:a+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+r[o]+")."})),n&&r[o]<u&&(this.trigger("warn",{message:a+" clamping PART-HOLD-BACK ("+r[o]+") to partTargetDuration * 2 ("+u+")."}),r[o]=u)}},cM=function(e){Se(t,e);function t(){var i;i=e.call(this)||this,i.lineStream=new aM,i.parseStream=new lM,i.lineStream.pipe(i.parseStream);var n=je(i),a=[],s={},o,l,u=!1,c=function(){},f={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",p=0;i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var y=0,b=0;return i.on("end",function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&o&&(s.map=o),!s.key&&l&&(s.key=l),!s.timeline&&typeof p=="number"&&(s.timeline=p),i.manifest.preloadSegment=s)}),i.parseStream.on("data",function(T){var S,w;({tag:function(){({version:function(){T.version&&(this.manifest.version=T.version)},"allow-cache":function(){this.manifest.allowCache=T.allowed,"allowed"in T||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var I={};"length"in T&&(s.byterange=I,I.length=T.length,"offset"in T||(T.offset=y)),"offset"in T&&(s.byterange=I,I.offset=T.offset),y=I.offset+I.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),T.duration>0&&(s.duration=T.duration),T.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(!T.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(T.attributes.METHOD==="NONE"){l=null;return}if(!T.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(T.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:T.attributes};return}if(T.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:T.attributes.URI};return}if(T.attributes.KEYFORMAT===d){var I=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(I.indexOf(T.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(T.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),T.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(T.attributes.KEYID&&T.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:T.attributes.KEYFORMAT,keyId:T.attributes.KEYID.substring(2)},pssh:nS(T.attributes.URI.split(",")[1])};return}T.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:T.attributes.METHOD||"AES-128",uri:T.attributes.URI},typeof T.attributes.IV!="undefined"&&(l.iv=T.attributes.IV)},"media-sequence":function(){if(!isFinite(T.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+T.number});return}this.manifest.mediaSequence=T.number},"discontinuity-sequence":function(){if(!isFinite(T.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+T.number});return}this.manifest.discontinuitySequence=T.number,p=T.number},"playlist-type":function(){if(!/VOD|EVENT/.test(T.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+T.playlist});return}this.manifest.playlistType=T.playlistType},map:function(){o={},T.uri&&(o.uri=T.uri),T.byterange&&(o.byterange=T.byterange),l&&(o.key=l)},"stream-inf":function(){if(this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||f,!T.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),qn(s.attributes,T.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||f,!(T.attributes&&T.attributes.TYPE&&T.attributes["GROUP-ID"]&&T.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var I=this.manifest.mediaGroups[T.attributes.TYPE];I[T.attributes["GROUP-ID"]]=I[T.attributes["GROUP-ID"]]||{},S=I[T.attributes["GROUP-ID"]],w={default:/yes/i.test(T.attributes.DEFAULT)},w.default?w.autoselect=!0:w.autoselect=/yes/i.test(T.attributes.AUTOSELECT),T.attributes.LANGUAGE&&(w.language=T.attributes.LANGUAGE),T.attributes.URI&&(w.uri=T.attributes.URI),T.attributes["INSTREAM-ID"]&&(w.instreamId=T.attributes["INSTREAM-ID"]),T.attributes.CHARACTERISTICS&&(w.characteristics=T.attributes.CHARACTERISTICS),T.attributes.FORCED&&(w.forced=/yes/i.test(T.attributes.FORCED)),S[T.attributes.NAME]=w},discontinuity:function(){p+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){typeof this.manifest.dateTimeString=="undefined"&&(this.manifest.dateTimeString=T.dateTimeString,this.manifest.dateTimeObject=T.dateTimeObject),s.dateTimeString=T.dateTimeString,s.dateTimeObject=T.dateTimeObject},targetduration:function(){if(!isFinite(T.duration)||T.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+T.duration});return}this.manifest.targetDuration=T.duration,Qd.call(this,this.manifest)},start:function(){if(!T.attributes||isNaN(T.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:T.attributes["TIME-OFFSET"],precise:T.attributes.PRECISE}},"cue-out":function(){s.cueOut=T.data},"cue-out-cont":function(){s.cueOutCont=T.data},"cue-in":function(){s.cueIn=T.data},skip:function(){this.manifest.skip=Aa(T.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",T.attributes,["SKIPPED-SEGMENTS"])},part:function(){var I=this;u=!0;var L=this.manifest.segments.length,A=Aa(T.attributes);s.parts=s.parts||[],s.parts.push(A),A.byterange&&(A.byterange.hasOwnProperty("offset")||(A.byterange.offset=b),b=A.byterange.offset+A.byterange.length);var R=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+R+" for segment #"+L,T.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(M,N){M.hasOwnProperty("lastPart")||I.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+N+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var I=this.manifest.serverControl=Aa(T.attributes);I.hasOwnProperty("canBlockReload")||(I.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Qd.call(this,this.manifest),I.canSkipDateranges&&!I.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var I=this.manifest.segments.length,L=Aa(T.attributes),A=L.type&&L.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(L),L.byterange&&(L.byterange.hasOwnProperty("offset")||(L.byterange.offset=A?b:0,A&&(b=L.byterange.offset+L.byterange.length)));var R=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+R+" for segment #"+I,T.attributes,["TYPE","URI"]),!!L.type)for(var M=0;M<s.preloadHints.length-1;M++){var N=s.preloadHints[M];!N.type||N.type===L.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+R+" for segment #"+I+" has the same TYPE "+L.type+" as preload hint #"+M})}},"rendition-report":function(){var I=Aa(T.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(I);var L=this.manifest.renditionReports.length-1,A=["LAST-MSN","URI"];u&&A.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+L,T.attributes,A)},"part-inf":function(){this.manifest.partInf=Aa(T.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",T.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Qd.call(this,this.manifest)}}[T.tagType]||c).call(n)},uri:function(){s.uri=T.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),l&&(s.key=l),s.timeline=p,o&&(s.map=o),b=0,s={}},comment:function(){},custom:function(){T.segment?(s.custom=s.custom||{},s.custom[T.customType]=T.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[T.customType]=T.data)}})[T.type].call(n)}),i}var r=t.prototype;return r.warnOnMissingAttributes_=function(n,a,s){var o=[];s.forEach(function(l){a.hasOwnProperty(l)||o.push(l)}),o.length&&this.trigger("warn",{message:n+" lacks required attribute(s): "+o.join(", ")})},r.push=function(n){this.lineStream.push(n)},r.end=function(){this.lineStream.push(`
`),this.trigger("end")},r.addParser=function(n){this.parseStream.addParser(n)},r.addTagMapper=function(n){this.parseStream.addTagMapper(n)},t}(Fp),Yi={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},dM=["video","audio","text"],A0=["Video","Audio","Text"],rS=function(t){return t&&t.replace(/avc1\.(\d+)\.(\d+)/i,function(r,i,n){var a=("00"+Number(i).toString(16)).slice(-2),s=("00"+Number(n).toString(16)).slice(-2);return"avc1."+a+"00"+s})},fr=function(t){t===void 0&&(t="");var r=t.split(","),i=[];return r.forEach(function(n){n=n.trim();var a;dM.forEach(function(s){var o=Yi[s].exec(n.toLowerCase());if(!(!o||o.length<=1)){a=s;var l=n.substring(0,o[1].length),u=n.replace(l,"");i.push({type:l,details:u,mediaType:s})}}),a||i.push({type:n,details:"",mediaType:"unknown"})}),i},fM=function(t,r){if(!t.mediaGroups.AUDIO||!r)return null;var i=t.mediaGroups.AUDIO[r];if(!i)return null;for(var n in i){var a=i[n];if(a.default&&a.playlists)return fr(a.playlists[0].attributes.CODECS)}return null},iS=function(t){return t===void 0&&(t=""),Yi.audio.test(t.trim().toLowerCase())},hM=function(t){return t===void 0&&(t=""),Yi.text.test(t.trim().toLowerCase())},qo=function(t){if(!(!t||typeof t!="string")){var r=t.toLowerCase().split(",").map(function(a){return rS(a.trim())}),i="video";r.length===1&&iS(r[0])?i="audio":r.length===1&&hM(r[0])&&(i="application");var n="mp4";return r.every(function(a){return Yi.mp4.test(a)})?n="mp4":r.every(function(a){return Yi.webm.test(a)})?n="webm":r.every(function(a){return Yi.ogg.test(a)})&&(n="ogg"),i+"/"+n+';codecs="'+t+'"'}},Ou=function(t){return t===void 0&&(t=""),U.MediaSource&&U.MediaSource.isTypeSupported&&U.MediaSource.isTypeSupported(qo(t))||!1},Jd=function(t){return t===void 0&&(t=""),t.toLowerCase().split(",").every(function(r){r=r.trim();for(var i=0;i<A0.length;i++){var n=A0[i];if(Yi["muxer"+n].test(r))return!0}return!1})},I0="mp4a.40.2",pM="avc1.4d400d",mM=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,vM=/^application\/dash\+xml/i,aS=function(t){return mM.test(t)?"hls":vM.test(t)?"dash":t==="application/vnd.videojs.vhs+json"?"vhs-json":null},gM=function(t){return t.toString(2).length},yM=function(t){return Math.ceil(gM(t)/8)},sS=function(t){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer},_M=function(t){return sS(t)},Me=function(t){return t instanceof Uint8Array?t:(!Array.isArray(t)&&!_M(t)&&!(t instanceof ArrayBuffer)&&(typeof t!="number"||typeof t=="number"&&t!==t?t=0:t=[t]),new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0))},Jt=U.BigInt||Number,ch=[Jt("0x1"),Jt("0x100"),Jt("0x10000"),Jt("0x1000000"),Jt("0x100000000"),Jt("0x10000000000"),Jt("0x1000000000000"),Jt("0x100000000000000"),Jt("0x10000000000000000")];(function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return t[0]===255?"big":t[0]===204?"little":"unknown"})();var bM=function(t,r){var i=r===void 0?{}:r,n=i.signed,a=n===void 0?!1:n,s=i.le,o=s===void 0?!1:s;t=Me(t);var l=o?"reduce":"reduceRight",u=t[l]?t[l]:Array.prototype[l],c=u.call(t,function(d,p,y){var b=o?y:Math.abs(y+1-t.length);return d+Jt(p)*ch[b]},Jt(0));if(a){var f=ch[t.length]/Jt(2)-Jt(1);c=Jt(c),c>f&&(c-=f,c-=f,c-=Jt(2))}return Number(c)},TM=function(t,r){var i=r===void 0?{}:r,n=i.le,a=n===void 0?!1:n;(typeof t!="bigint"&&typeof t!="number"||typeof t=="number"&&t!==t)&&(t=0),t=Jt(t);for(var s=yM(t),o=new Uint8Array(new ArrayBuffer(s)),l=0;l<s;l++){var u=a?l:Math.abs(l+1-o.length);o[u]=Number(t/ch[l]&Jt(255)),t<0&&(o[u]=Math.abs(~o[u]),o[u]-=l===0?1:2)}return o},oS=function(t,r){if(typeof t!="string"&&t&&typeof t.toString=="function"&&(t=t.toString()),typeof t!="string")return new Uint8Array;r||(t=unescape(encodeURIComponent(t)));for(var i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i},SM=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];if(r=r.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),r.length<=1)return Me(r[0]);var n=r.reduce(function(o,l,u){return o+(l.byteLength||l.length)},0),a=new Uint8Array(n),s=0;return r.forEach(function(o){o=Me(o),a.set(o,s),s+=o.byteLength}),a},xt=function(t,r,i){var n=i===void 0?{}:i,a=n.offset,s=a===void 0?0:a,o=n.mask,l=o===void 0?[]:o;t=Me(t),r=Me(r);var u=r.every?r.every:Array.prototype.every;return r.length&&t.length-s>=r.length&&u.call(r,function(c,f){var d=l[f]?l[f]&t[s+f]:t[s+f];return c===d})},xM=function(t,r,i){r.forEach(function(n){for(var a in t.mediaGroups[n])for(var s in t.mediaGroups[n][a]){var o=t.mediaGroups[n][a][s];i(o,n,a,s)}})},ki={},_a={};function Np(e,t){return t===void 0&&(t=Object),t&&typeof t.freeze=="function"?t.freeze(e):e}var lS=Np({HTML:"text/html",isHTML:function(e){return e===lS.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),uS=Np({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===uS.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});_a.freeze=Np;_a.MIME_TYPE=lS;_a.NAMESPACE=uS;var EM=_a,Go=EM.NAMESPACE;function CM(e){return e!==""}function wM(e){return e?e.split(/[\t\n\f\r ]+/).filter(CM):[]}function kM(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function O0(e){if(!e)return[];var t=wM(e);return Object.keys(t.reduce(kM,{}))}function PM(e){return function(t){return e&&e.indexOf(t)!==-1}}function pl(e,t){for(var r in e)t[r]=e[r]}function Cn(e,t){var r=e.prototype;if(!(r instanceof t)){let n=function(){};var i=n;n.prototype=t.prototype,n=new n,pl(r,n),e.prototype=r=n}r.constructor!=e&&(typeof e!="function"&&console.error("unknown Class:"+e),r.constructor=e)}var wn={},rr=wn.ELEMENT_NODE=1,cs=wn.ATTRIBUTE_NODE=2,rc=wn.TEXT_NODE=3,cS=wn.CDATA_SECTION_NODE=4,dS=wn.ENTITY_REFERENCE_NODE=5,AM=wn.ENTITY_NODE=6,fS=wn.PROCESSING_INSTRUCTION_NODE=7,hS=wn.COMMENT_NODE=8,pS=wn.DOCUMENT_NODE=9,mS=wn.DOCUMENT_TYPE_NODE=10,qr=wn.DOCUMENT_FRAGMENT_NODE=11,IM=wn.NOTATION_NODE=12,on={},zt={};on.INDEX_SIZE_ERR=(zt[1]="Index size error",1);on.DOMSTRING_SIZE_ERR=(zt[2]="DOMString size error",2);var OM=on.HIERARCHY_REQUEST_ERR=(zt[3]="Hierarchy request error",3);on.WRONG_DOCUMENT_ERR=(zt[4]="Wrong document",4);on.INVALID_CHARACTER_ERR=(zt[5]="Invalid character",5);on.NO_DATA_ALLOWED_ERR=(zt[6]="No data allowed",6);on.NO_MODIFICATION_ALLOWED_ERR=(zt[7]="No modification allowed",7);var LM=on.NOT_FOUND_ERR=(zt[8]="Not found",8);on.NOT_SUPPORTED_ERR=(zt[9]="Not supported",9);var L0=on.INUSE_ATTRIBUTE_ERR=(zt[10]="Attribute in use",10);on.INVALID_STATE_ERR=(zt[11]="Invalid state",11);on.SYNTAX_ERR=(zt[12]="Syntax error",12);on.INVALID_MODIFICATION_ERR=(zt[13]="Invalid modification",13);on.NAMESPACE_ERR=(zt[14]="Invalid namespace",14);on.INVALID_ACCESS_ERR=(zt[15]="Invalid access",15);function sa(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,zt[e]),this.message=zt[e],Error.captureStackTrace&&Error.captureStackTrace(this,sa);return r.code=e,t&&(this.message=this.message+": "+t),r}sa.prototype=Error.prototype;pl(on,sa);function Ur(){}Ur.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],i=0;i<this.length;i++)$a(this[i],r,e,t);return r.join("")}};function ds(e,t){this._node=e,this._refresh=t,Bp(this)}function Bp(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);kS(e,"length",r.length),pl(r,e),e._inc=t}}ds.prototype.item=function(e){return Bp(this),this[e]};Cn(ds,Ur);function ic(){}function vS(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function D0(e,t,r,i){if(i?t[vS(t,i)]=r:t[t.length++]=r,e){r.ownerElement=e;var n=e.ownerDocument;n&&(i&&_S(n,e,i),DM(n,e,r))}}function R0(e,t,r){var i=vS(t,r);if(i>=0){for(var n=t.length-1;i<n;)t[i]=t[++i];if(t.length=n,e){var a=e.ownerDocument;a&&(_S(a,e,r),r.ownerElement=null)}}else throw sa(LM,new Error(e.tagName+"@"+r))}ic.prototype={length:0,item:Ur.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new sa(L0);var r=this.getNamedItem(e.nodeName);return D0(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t=e.ownerElement,r;if(t&&t!=this._ownerElement)throw new sa(L0);return r=this.getNamedItemNS(e.namespaceURI,e.localName),D0(this._ownerElement,this,e,r),r},removeNamedItem:function(e){var t=this.getNamedItem(e);return R0(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return R0(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var i=this[r];if(i.localName==t&&i.namespaceURI==e)return i}return null}};function gS(){}gS.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var i=new ml;if(i.implementation=this,i.childNodes=new Ur,i.doctype=r||null,r&&i.appendChild(r),t){var n=i.createElementNS(e,t);i.appendChild(n)}return i},createDocumentType:function(e,t,r){var i=new Zc;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=r||"",i}};function ln(){}ln.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return TS(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return bS(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return dh(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==rc&&e.nodeType==rc?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var i in r)if(r[i]==e)return i}t=t.nodeType==cs?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&e in r)return r[e];t=t.nodeType==cs?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null}};function yS(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}pl(wn,ln);pl(wn,ln.prototype);function Ko(e,t){if(t(e))return!0;if(e=e.firstChild)do if(Ko(e,t))return!0;while(e=e.nextSibling)}function ml(){}function DM(e,t,r){e&&e._inc++;var i=r.namespaceURI;i===Go.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function _S(e,t,r,i){e&&e._inc++;var n=r.namespaceURI;n===Go.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function Up(e,t,r){if(e&&e._inc){e._inc++;var i=t.childNodes;if(r)i[i.length++]=r;else{for(var n=t.firstChild,a=0;n;)i[a++]=n,n=n.nextSibling;i.length=a}}}function bS(e,t){var r=t.previousSibling,i=t.nextSibling;return r?r.nextSibling=i:e.firstChild=i,i?i.previousSibling=r:e.lastChild=r,Up(e.ownerDocument,e),t}function TS(e,t,r){var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===qr){var n=t.firstChild;if(n==null)return t;var a=t.lastChild}else n=a=t;var s=r?r.previousSibling:e.lastChild;n.previousSibling=s,a.nextSibling=r,s?s.nextSibling=n:e.firstChild=n,r==null?e.lastChild=a:r.previousSibling=a;do n.parentNode=e;while(n!==a&&(n=n.nextSibling));return Up(e.ownerDocument||e,e),t.nodeType==qr&&(t.firstChild=t.lastChild=null),t}function RM(e,t){var r=t.parentNode;if(r){var i=e.lastChild;r.removeChild(t);var i=e.lastChild}var i=e.lastChild;return t.parentNode=e,t.previousSibling=i,t.nextSibling=null,i?i.nextSibling=t:e.firstChild=t,e.lastChild=t,Up(e.ownerDocument,e,t),t}ml.prototype={nodeName:"#document",nodeType:pS,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==qr){for(var r=e.firstChild;r;){var i=r.nextSibling;this.insertBefore(r,t),r=i}return e}return this.documentElement==null&&e.nodeType==rr&&(this.documentElement=e),TS(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),bS(this,e)},importNode:function(e,t){return wS(this,e,t)},getElementById:function(e){var t=null;return Ko(this.documentElement,function(r){if(r.nodeType==rr&&r.getAttribute("id")==e)return t=r,!0}),t},getElementsByClassName:function(e){var t=O0(e);return new ds(this,function(r){var i=[];return t.length>0&&Ko(r.documentElement,function(n){if(n!==r&&n.nodeType===rr){var a=n.getAttribute("class");if(a){var s=e===a;if(!s){var o=O0(a);s=t.every(PM(o))}s&&i.push(n)}}}),i})},createElement:function(e){var t=new oa;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new Ur;var r=t.attributes=new ic;return r._ownerElement=t,t},createDocumentFragment:function(){var e=new ed;return e.ownerDocument=this,e.childNodes=new Ur,e},createTextNode:function(e){var t=new Vp;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new $p;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new jp;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new Wp;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new ac;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Hp;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new oa,i=t.split(":"),n=r.attributes=new ic;return r.childNodes=new Ur,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=t,n._ownerElement=r,r},createAttributeNS:function(e,t){var r=new ac,i=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=t,r}};Cn(ml,ln);function oa(){this._nsMap={}}oa.prototype={nodeType:rr,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===qr?this.insertBefore(e,null):RM(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+r,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new ds(this,function(t){var r=[];return Ko(t,function(i){i!==t&&i.nodeType==rr&&(e==="*"||i.tagName==e)&&r.push(i)}),r})},getElementsByTagNameNS:function(e,t){return new ds(this,function(r){var i=[];return Ko(r,function(n){n!==r&&n.nodeType===rr&&(e==="*"||n.namespaceURI===e)&&(t==="*"||n.localName==t)&&i.push(n)}),i})}};ml.prototype.getElementsByTagName=oa.prototype.getElementsByTagName;ml.prototype.getElementsByTagNameNS=oa.prototype.getElementsByTagNameNS;Cn(oa,ln);function ac(){}ac.prototype.nodeType=cs;Cn(ac,ln);function vl(){}vl.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(zt[OM])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var i=this.data.substring(0,e),n=this.data.substring(e+t);r=i+r+n,this.nodeValue=this.data=r,this.length=r.length}};Cn(vl,ln);function Vp(){}Vp.prototype={nodeName:"#text",nodeType:rc,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};Cn(Vp,vl);function $p(){}$p.prototype={nodeName:"#comment",nodeType:hS};Cn($p,vl);function jp(){}jp.prototype={nodeName:"#cdata-section",nodeType:cS};Cn(jp,vl);function Zc(){}Zc.prototype.nodeType=mS;Cn(Zc,ln);function SS(){}SS.prototype.nodeType=IM;Cn(SS,ln);function xS(){}xS.prototype.nodeType=AM;Cn(xS,ln);function Hp(){}Hp.prototype.nodeType=dS;Cn(Hp,ln);function ed(){}ed.prototype.nodeName="#document-fragment";ed.prototype.nodeType=qr;Cn(ed,ln);function Wp(){}Wp.prototype.nodeType=fS;Cn(Wp,ln);function ES(){}ES.prototype.serializeToString=function(e,t,r){return CS.call(e,t,r)};ln.prototype.toString=CS;function CS(e,t){var r=[],i=this.nodeType==9&&this.documentElement||this,n=i.prefix,a=i.namespaceURI;if(a&&n==null){var n=i.lookupPrefix(a);if(n==null)var s=[{namespace:a,prefix:null}]}return $a(this,r,e,t,s),r.join("")}function M0(e,t,r){var i=e.prefix||"",n=e.namespaceURI;if(!n||i==="xml"&&n===Go.XML||n===Go.XMLNS)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix===i)return s.namespace!==n}return!0}function Zd(e,t,r){e.push(" ",t,'="',r.replace(/[<&"]/g,yS),'"')}function $a(e,t,r,i,n){if(n||(n=[]),i)if(e=i(e),e){if(typeof e=="string"){t.push(e);return}}else return;switch(e.nodeType){case rr:var a=e.attributes,s=a.length,S=e.firstChild,o=e.tagName;r=Go.isHTML(e.namespaceURI)||r;var l=o;if(!r&&!e.prefix&&e.namespaceURI){for(var u,c=0;c<a.length;c++)if(a.item(c).name==="xmlns"){u=a.item(c).value;break}if(!u)for(var f=n.length-1;f>=0;f--){var d=n[f];if(d.prefix===""&&d.namespace===e.namespaceURI){u=d.namespace;break}}if(u!==e.namespaceURI)for(var f=n.length-1;f>=0;f--){var d=n[f];if(d.namespace===e.namespaceURI){d.prefix&&(l=d.prefix+":"+o);break}}}t.push("<",l);for(var p=0;p<s;p++){var y=a.item(p);y.prefix=="xmlns"?n.push({prefix:y.localName,namespace:y.value}):y.nodeName=="xmlns"&&n.push({prefix:"",namespace:y.value})}for(var p=0;p<s;p++){var y=a.item(p);if(M0(y,r,n)){var b=y.prefix||"",T=y.namespaceURI;Zd(t,b?"xmlns:"+b:"xmlns",T),n.push({prefix:b,namespace:T})}$a(y,t,r,i,n)}if(o===l&&M0(e,r,n)){var b=e.prefix||"",T=e.namespaceURI;Zd(t,b?"xmlns:"+b:"xmlns",T),n.push({prefix:b,namespace:T})}if(S||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(t.push(">"),r&&/^script$/i.test(o))for(;S;)S.data?t.push(S.data):$a(S,t,r,i,n.slice()),S=S.nextSibling;else for(;S;)$a(S,t,r,i,n.slice()),S=S.nextSibling;t.push("</",l,">")}else t.push("/>");return;case pS:case qr:for(var S=e.firstChild;S;)$a(S,t,r,i,n.slice()),S=S.nextSibling;return;case cs:return Zd(t,e.name,e.value);case rc:return t.push(e.data.replace(/[<&]/g,yS).replace(/]]>/g,"]]&gt;"));case cS:return t.push("<![CDATA[",e.data,"]]>");case hS:return t.push("<!--",e.data,"-->");case mS:var w=e.publicId,D=e.systemId;if(t.push("<!DOCTYPE ",e.name),w)t.push(" PUBLIC ",w),D&&D!="."&&t.push(" ",D),t.push(">");else if(D&&D!=".")t.push(" SYSTEM ",D,">");else{var P=e.internalSubset;P&&t.push(" [",P,"]"),t.push(">")}return;case fS:return t.push("<?",e.target," ",e.data,"?>");case dS:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function wS(e,t,r){var i;switch(t.nodeType){case rr:i=t.cloneNode(!1),i.ownerDocument=e;case qr:break;case cs:r=!0;break}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,r)for(var n=t.firstChild;n;)i.appendChild(wS(e,n,r)),n=n.nextSibling;return i}function dh(e,t,r){var i=new t.constructor;for(var n in t){var a=t[n];typeof a!="object"&&a!=i[n]&&(i[n]=a)}switch(t.childNodes&&(i.childNodes=new Ur),i.ownerDocument=e,i.nodeType){case rr:var s=t.attributes,o=i.attributes=new ic,l=s.length;o._ownerElement=i;for(var u=0;u<l;u++)i.setAttributeNode(dh(e,s.item(u),!0));break;case cs:r=!0}if(r)for(var c=t.firstChild;c;)i.appendChild(dh(e,c,r)),c=c.nextSibling;return i}function kS(e,t,r){e[t]=r}try{if(Object.defineProperty){let e=function(t){switch(t.nodeType){case rr:case qr:var r=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}};var getTextContent=e;Object.defineProperty(ds.prototype,"length",{get:function(){return Bp(this),this.$$length}}),Object.defineProperty(ln.prototype,"textContent",{get:function(){return e(this)},set:function(t){switch(this.nodeType){case rr:case qr:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),kS=function(t,r,i){t["$$"+r]=i}}}catch{}ki.DocumentType=Zc;ki.DOMException=sa;ki.DOMImplementation=gS;ki.Element=oa;ki.Node=ln;ki.NodeList=Ur;ki.XMLSerializer=ES;var gl={},PS={};(function(e){var t=_a.freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),e.entityMap=e.HTML_ENTITIES})(PS);var zp={},Xo=_a.NAMESPACE,fh=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,F0=new RegExp("[\\-\\.0-9"+fh.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),N0=new RegExp("^"+fh.source+F0.source+"*(?::"+fh.source+F0.source+"*)?$"),Xs=0,ui=1,Ia=2,Ys=3,Oa=4,La=5,Qs=6,cu=7;function fs(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,fs)}fs.prototype=new Error;fs.prototype.name=fs.name;function AS(){}AS.prototype={parse:function(e,t,r){var i=this.domBuilder;i.startDocument(),IS(t,t={}),MM(e,t,r,i,this.errorHandler),i.endDocument()}};function MM(e,t,r,i,n){function a(ce){if(ce>65535){ce-=65536;var ye=55296+(ce>>10),xe=56320+(ce&1023);return String.fromCharCode(ye,xe)}else return String.fromCharCode(ce)}function s(ce){var ye=ce.slice(1,-1);return ye in r?r[ye]:ye.charAt(0)==="#"?a(parseInt(ye.substr(1).replace("x","0x"))):(n.error("entity not found:"+ce),ce)}function o(ce){if(ce>b){var ye=e.substring(b,ce).replace(/&#?\w+;/g,s);d&&l(b),i.characters(ye,0,ce-b),b=ce}}function l(ce,ye){for(;ce>=c&&(ye=f.exec(e));)u=ye.index,c=u+ye[0].length,d.lineNumber++;d.columnNumber=ce-u+1}for(var u=0,c=0,f=/.*(?:\r\n?|\n)|.*$/g,d=i.locator,p=[{currentNSMap:t}],y={},b=0;;){try{var T=e.indexOf("<",b);if(T<0){if(!e.substr(b).match(/^\s*$/)){var S=i.doc,w=S.createTextNode(e.substr(b));S.appendChild(w),i.currentElement=w}return}switch(T>b&&o(T),e.charAt(T+1)){case"/":var W=e.indexOf(">",T+3),D=e.substring(T+2,W).replace(/[ \t\n\r]+$/g,""),P=p.pop();W<0?(D=e.substring(T+2).replace(/[\s<].*/,""),n.error("end tag name: "+D+" is not complete:"+P.tagName),W=T+1+D.length):D.match(/\s</)&&(D=D.replace(/[\s<].*/,""),n.error("end tag name: "+D+" maybe not complete"),W=T+1+D.length);var I=P.localNSMap,L=P.tagName==D,A=L||P.tagName&&P.tagName.toLowerCase()==D.toLowerCase();if(A){if(i.endElement(P.uri,P.localName,D),I)for(var R in I)i.endPrefixMapping(R);L||n.fatalError("end tag name: "+D+" is not match the current start tagName:"+P.tagName)}else p.push(P);W++;break;case"?":d&&l(T),W=VM(e,T,i);break;case"!":d&&l(T),W=UM(e,T,i,n);break;default:d&&l(T);var M=new OS,N=p[p.length-1].currentNSMap,W=FM(e,T,M,N,s,n),X=M.length;if(!M.closed&&BM(e,W,M.tagName,y)&&(M.closed=!0,r.nbsp||n.warning("unclosed xml attribute")),d&&X){for(var Y=B0(d,{}),le=0;le<X;le++){var fe=M[le];l(fe.offset),fe.locator=B0(d,{})}i.locator=Y,U0(M,i,N)&&p.push(M),i.locator=d}else U0(M,i,N)&&p.push(M);Xo.isHTML(M.uri)&&!M.closed?W=NM(e,W,M.tagName,s,i):W++}}catch(ce){if(ce instanceof fs)throw ce;n.error("element parse error: "+ce),W=-1}W>b?b=W:o(Math.max(T,b)+1)}}function B0(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function FM(e,t,r,i,n,a){function s(d,p,y){r.attributeNames.hasOwnProperty(d)&&a.fatalError("Attribute "+d+" redefined"),r.addValue(d,p,y)}for(var o,l,u=++t,c=Xs;;){var f=e.charAt(u);switch(f){case"=":if(c===ui)o=e.slice(t,u),c=Ys;else if(c===Ia)c=Ys;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===Ys||c===ui)if(c===ui&&(a.warning('attribute value must after "="'),o=e.slice(t,u)),t=u+1,u=e.indexOf(f,t),u>0)l=e.slice(t,u).replace(/&#?\w+;/g,n),s(o,l,t-1),c=La;else throw new Error("attribute value no end '"+f+"' match");else if(c==Oa)l=e.slice(t,u).replace(/&#?\w+;/g,n),s(o,l,t),a.warning('attribute "'+o+'" missed start quot('+f+")!!"),t=u+1,c=La;else throw new Error('attribute value must after "="');break;case"/":switch(c){case Xs:r.setTagName(e.slice(t,u));case La:case Qs:case cu:c=cu,r.closed=!0;case Oa:case ui:case Ia:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),c==Xs&&r.setTagName(e.slice(t,u)),u;case">":switch(c){case Xs:r.setTagName(e.slice(t,u));case La:case Qs:case cu:break;case Oa:case ui:l=e.slice(t,u),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case Ia:c===Ia&&(l=o),c==Oa?(a.warning('attribute "'+l+'" missed quot(")!'),s(o,l.replace(/&#?\w+;/g,n),t)):((!Xo.isHTML(i[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),s(l,l,t));break;case Ys:throw new Error("attribute value missed!!")}return u;case"\x80":f=" ";default:if(f<=" ")switch(c){case Xs:r.setTagName(e.slice(t,u)),c=Qs;break;case ui:o=e.slice(t,u),c=Ia;break;case Oa:var l=e.slice(t,u).replace(/&#?\w+;/g,n);a.warning('attribute "'+l+'" missed quot(")!!'),s(o,l,t);case La:c=Qs;break}else switch(c){case Ia:r.tagName,(!Xo.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),s(o,o,t),t=u,c=ui;break;case La:a.warning('attribute space is required"'+o+'"!!');case Qs:c=ui,t=u;break;case Ys:c=Oa,t=u;break;case cu:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function U0(e,t,r){for(var i=e.tagName,n=null,f=e.length;f--;){var a=e[f],s=a.qName,o=a.value,d=s.indexOf(":");if(d>0)var l=a.prefix=s.slice(0,d),u=s.slice(d+1),c=l==="xmlns"&&u;else u=s,l=null,c=s==="xmlns"&&"";a.localName=u,c!==!1&&(n==null&&(n={},IS(r,r={})),r[c]=n[c]=o,a.uri=Xo.XMLNS,t.startPrefixMapping(c,o))}for(var f=e.length;f--;){a=e[f];var l=a.prefix;l&&(l==="xml"&&(a.uri=Xo.XML),l!=="xmlns"&&(a.uri=r[l||""]))}var d=i.indexOf(":");d>0?(l=e.prefix=i.slice(0,d),u=e.localName=i.slice(d+1)):(l=null,u=e.localName=i);var p=e.uri=r[l||""];if(t.startElement(p,u,i,e),e.closed){if(t.endElement(p,u,i),n)for(l in n)t.endPrefixMapping(l)}else return e.currentNSMap=r,e.localNSMap=n,!0}function NM(e,t,r,i,n){if(/^(?:script|textarea)$/i.test(r)){var a=e.indexOf("</"+r+">",t),s=e.substring(t+1,a);if(/[&<]/.test(s))return/^script$/i.test(r)?(n.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),n.characters(s,0,s.length),a)}return t+1}function BM(e,t,r,i){var n=i[r];return n==null&&(n=e.lastIndexOf("</"+r+">"),n<t&&(n=e.lastIndexOf("</"+r)),i[r]=n),n<t}function IS(e,t){for(var r in e)t[r]=e[r]}function UM(e,t,r,i){var n=e.charAt(t+2);switch(n){case"-":if(e.charAt(t+3)==="-"){var a=e.indexOf("-->",t+4);return a>t?(r.comment(e,t+4,a-t-4),a+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(e.substr(t+3,6)=="CDATA["){var a=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,a-t-9),r.endCDATA(),a+3}var s=$M(e,t),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],u=!1,c=!1;o>3&&(/^public$/i.test(s[2][0])?(u=s[3][0],c=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(c=s[3][0]));var f=s[o-1];return r.startDTD(l,u,c),r.endDTD(),f.index+f[0].length}}return-1}function VM(e,t,r){var i=e.indexOf("?>",t);if(i){var n=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return n?(n[0].length,r.processingInstruction(n[1],n[2]),i+2):-1}return-1}function OS(){this.attributeNames={}}OS.prototype={setTagName:function(e){if(!N0.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!N0.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function $M(e,t){var r,i=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=t,n.exec(e);r=n.exec(e);)if(i.push(r),r[1])return i}zp.XMLReader=AS;zp.ParseError=fs;var jM=_a,qp=ki,V0=PS,LS=zp,HM=qp.DOMImplementation,$0=jM.NAMESPACE,WM=LS.ParseError,zM=LS.XMLReader;function DS(e){this.options=e||{locator:{}}}DS.prototype.parseFromString=function(e,t){var r=this.options,i=new zM,n=r.domBuilder||new yl,a=r.errorHandler,s=r.locator,o=r.xmlns||{},l=/\/x?html?$/.test(t),u=l?V0.HTML_ENTITIES:V0.XML_ENTITIES;return s&&n.setDocumentLocator(s),i.errorHandler=qM(a,n,s),i.domBuilder=r.domBuilder||n,l&&(o[""]=$0.HTML),o.xml=o.xml||$0.XML,e&&typeof e=="string"?i.parse(e,o,u):i.errorHandler.error("invalid doc source"),n.doc};function qM(e,t,r){if(!e){if(t instanceof yl)return t;e=t}var i={},n=e instanceof Function;r=r||{};function a(s){var o=e[s];!o&&n&&(o=e.length==2?function(l){e(s,l)}:e),i[s]=o&&function(l){o("[xmldom "+s+"]	"+l+hh(r))}||function(){}}return a("warning"),a("error"),a("fatalError"),i}function yl(){this.cdata=!1}function Da(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}yl.prototype={startDocument:function(){this.doc=new HM().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,i){var n=this.doc,a=n.createElementNS(e,r||t),s=i.length;du(this,a),this.currentElement=a,this.locator&&Da(this.locator,a);for(var o=0;o<s;o++){var e=i.getURI(o),l=i.getValue(o),r=i.getQName(o),u=n.createAttributeNS(e,r);this.locator&&Da(i.getLocator(o),u),u.value=u.nodeValue=l,a.setAttributeNode(u)}},endElement:function(e,t,r){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&Da(this.locator,r),du(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=j0.apply(this,arguments),e){if(this.cdata)var i=this.doc.createCDATASection(e);else var i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&Da(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=j0.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&Da(this.locator,i),du(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var i=this.doc.implementation;if(i&&i.createDocumentType){var n=i.createDocumentType(e,t,r);this.locator&&Da(this.locator,n),du(this,n),this.doc.doctype=n}},warning:function(e){console.warn("[xmldom warning]	"+e,hh(this.locator))},error:function(e){console.error("[xmldom error]	"+e,hh(this.locator))},fatalError:function(e){throw new WM(e,this.locator)}};function hh(e){if(e)return`
@`+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function j0(e,t,r){return typeof e=="string"?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){yl.prototype[e]=function(){return null}});function du(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}gl.__DOMHandler=yl;gl.DOMParser=DS;gl.DOMImplementation=qp.DOMImplementation;gl.XMLSerializer=qp.XMLSerializer;var GM=gl.DOMParser;/*! @name mpd-parser @version 0.21.1 @license Apache-2.0 */var H0=function(t){return!!t&&typeof t=="object"},gn=function e(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return r.reduce(function(n,a){return typeof a!="object"||Object.keys(a).forEach(function(s){Array.isArray(n[s])&&Array.isArray(a[s])?n[s]=n[s].concat(a[s]):H0(n[s])&&H0(a[s])?n[s]=e(n[s],a[s]):n[s]=a[s]}),n},{})},RS=function(t){return Object.keys(t).map(function(r){return t[r]})},KM=function(t,r){for(var i=[],n=t;n<r;n++)i.push(n);return i},td=function(t){return t.reduce(function(r,i){return r.concat(i)},[])},MS=function(t){if(!t.length)return[];for(var r=[],i=0;i<t.length;i++)r.push(t[i]);return r},XM=function(t,r){return t.reduce(function(i,n,a){return n[r]&&i.push(a),i},[])},ph=function(t,r){for(var i=0;i<t.length;i++)if(r(t[i]))return i;return-1},YM=function(t,r){return RS(t.reduce(function(i,n){return n.forEach(function(a){i[r(a)]=a}),i},{}))},hs={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Yo=function(t){var r=t.baseUrl,i=r===void 0?"":r,n=t.source,a=n===void 0?"":n,s=t.range,o=s===void 0?"":s,l=t.indexRange,u=l===void 0?"":l,c={uri:a,resolvedUri:Jc(i||"",a)};if(o||u){var f=o||u,d=f.split("-"),p=U.BigInt?U.BigInt(d[0]):parseInt(d[0],10),y=U.BigInt?U.BigInt(d[1]):parseInt(d[1],10);p<Number.MAX_SAFE_INTEGER&&typeof p=="bigint"&&(p=Number(p)),y<Number.MAX_SAFE_INTEGER&&typeof y=="bigint"&&(y=Number(y));var b;typeof y=="bigint"||typeof p=="bigint"?b=U.BigInt(y)-U.BigInt(p)+U.BigInt(1):b=y-p+1,typeof b=="bigint"&&b<Number.MAX_SAFE_INTEGER&&(b=Number(b)),c.byterange={length:b,offset:p}}return c},QM=function(t){var r;return typeof t.offset=="bigint"||typeof t.length=="bigint"?r=U.BigInt(t.offset)+U.BigInt(t.length)-U.BigInt(1):r=t.offset+t.length-1,t.offset+"-"+r},W0=function(t){return t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t},JM={static:function(t){var r=t.duration,i=t.timescale,n=i===void 0?1:i,a=t.sourceDuration,s=t.periodDuration,o=W0(t.endNumber),l=r/n;return typeof o=="number"?{start:0,end:o}:typeof s=="number"?{start:0,end:s/l}:{start:0,end:a/l}},dynamic:function(t){var r=t.NOW,i=t.clientOffset,n=t.availabilityStartTime,a=t.timescale,s=a===void 0?1:a,o=t.duration,l=t.periodStart,u=l===void 0?0:l,c=t.minimumUpdatePeriod,f=c===void 0?0:c,d=t.timeShiftBufferDepth,p=d===void 0?1/0:d,y=W0(t.endNumber),b=(r+i)/1e3,T=n+u,S=b+f,w=S-T,D=Math.ceil(w*s/o),P=Math.floor((b-T-p)*s/o),I=Math.floor((b-T)*s/o);return{start:Math.max(0,P),end:typeof y=="number"?y:Math.min(D,I)}}},ZM=function(t){return function(r){var i=t.duration,n=t.timescale,a=n===void 0?1:n,s=t.periodStart,o=t.startNumber,l=o===void 0?1:o;return{number:l+r,duration:i/a,timeline:s,time:r*i}}},Gp=function(t){var r=t.type,i=t.duration,n=t.timescale,a=n===void 0?1:n,s=t.periodDuration,o=t.sourceDuration,l=JM[r](t),u=l.start,c=l.end,f=KM(u,c).map(ZM(t));if(r==="static"){var d=f.length-1,p=typeof s=="number"?s:o;f[d].duration=p-i/a*d}return f},FS=function(t){var r=t.baseUrl,i=t.initialization,n=i===void 0?{}:i,a=t.sourceDuration,s=t.indexRange,o=s===void 0?"":s,l=t.periodStart,u=t.presentationTime,c=t.number,f=c===void 0?0:c,d=t.duration;if(!r)throw new Error(hs.NO_BASE_URL);var p=Yo({baseUrl:r,source:n.sourceURL,range:n.range}),y=Yo({baseUrl:r,source:r,indexRange:o});if(y.map=p,d){var b=Gp(t);b.length&&(y.duration=b[0].duration,y.timeline=b[0].timeline)}else a&&(y.duration=a,y.timeline=l);return y.presentationTime=u||l,y.number=f,[y]},Kp=function(t,r,i){var n=t.sidx.map?t.sidx.map:null,a=t.sidx.duration,s=t.timeline||0,o=t.sidx.byterange,l=o.offset+o.length,u=r.timescale,c=r.references.filter(function(M){return M.referenceType!==1}),f=[],d=t.endList?"static":"dynamic",p=t.sidx.timeline,y=p,b=t.mediaSequence||0,T;typeof r.firstOffset=="bigint"?T=U.BigInt(l)+r.firstOffset:T=l+r.firstOffset;for(var S=0;S<c.length;S++){var w=r.references[S],D=w.referencedSize,P=w.subsegmentDuration,I=void 0;typeof T=="bigint"?I=T+U.BigInt(D)-U.BigInt(1):I=T+D-1;var L=T+"-"+I,A={baseUrl:i,timescale:u,timeline:s,periodStart:p,presentationTime:y,number:b,duration:P,sourceDuration:a,indexRange:L,type:d},R=FS(A)[0];n&&(R.map=n),f.push(R),typeof T=="bigint"?T+=U.BigInt(D):T+=D,y+=P/u,b++}return t.segments=f,t},eF=["AUDIO","SUBTITLES"],tF=1/60,NS=function(t){return YM(t,function(r){var i=r.timeline;return i}).sort(function(r,i){return r.timeline>i.timeline?1:-1})},nF=function(t,r){for(var i=0;i<t.length;i++)if(t[i].attributes.NAME===r)return t[i];return null},z0=function(t){var r=[];return xM(t,eF,function(i,n,a,s){r=r.concat(i.playlists||[])}),r},q0=function(t){var r=t.playlist,i=t.mediaSequence;r.mediaSequence=i,r.segments.forEach(function(n,a){n.number=r.mediaSequence+a})},rF=function(t){var r=t.oldPlaylists,i=t.newPlaylists,n=t.timelineStarts;i.forEach(function(a){a.discontinuitySequence=ph(n,function(c){var f=c.timeline;return f===a.timeline});var s=nF(r,a.attributes.NAME);if(!!s&&!a.sidx){var o=a.segments[0],l=ph(s.segments,function(c){return Math.abs(c.presentationTime-o.presentationTime)<tF});if(l===-1){q0({playlist:a,mediaSequence:s.mediaSequence+s.segments.length}),a.segments[0].discontinuity=!0,a.discontinuityStarts.unshift(0),(!s.segments.length&&a.timeline>s.timeline||s.segments.length&&a.timeline>s.segments[s.segments.length-1].timeline)&&a.discontinuitySequence--;return}var u=s.segments[l];u.discontinuity&&!o.discontinuity&&(o.discontinuity=!0,a.discontinuityStarts.unshift(0),a.discontinuitySequence--),q0({playlist:a,mediaSequence:s.segments[l].number})}})},iF=function(t){var r=t.oldManifest,i=t.newManifest,n=r.playlists.concat(z0(r)),a=i.playlists.concat(z0(i));return i.timelineStarts=NS([r.timelineStarts,i.timelineStarts]),rF({oldPlaylists:n,newPlaylists:a,timelineStarts:i.timelineStarts}),i},nd=function(t){return t&&t.uri+"-"+QM(t.byterange)},ef=function(t){var r=RS(t.reduce(function(i,n){var a=n.attributes.id+(n.attributes.lang||"");if(!i[a])i[a]=n,i[a].attributes.timelineStarts=[];else{if(n.segments){var s;n.segments[0]&&(n.segments[0].discontinuity=!0),(s=i[a].segments).push.apply(s,n.segments)}n.attributes.contentProtection&&(i[a].attributes.contentProtection=n.attributes.contentProtection)}return i[a].attributes.timelineStarts.push({start:n.attributes.periodStart,timeline:n.attributes.periodStart}),i},{}));return r.map(function(i){return i.discontinuityStarts=XM(i.segments||[],"discontinuity"),i})},Xp=function(t,r){var i=nd(t.sidx),n=i&&r[i]&&r[i].sidx;return n&&Kp(t,n,t.sidx.resolvedUri),t},aF=function(t,r){if(r===void 0&&(r={}),!Object.keys(r).length)return t;for(var i in t)t[i]=Xp(t[i],r);return t},sF=function(t,r){var i,n=t.attributes,a=t.segments,s=t.sidx,o=t.mediaSequence,l=t.discontinuitySequence,u=t.discontinuityStarts,c={attributes:(i={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuitySequence:l,discontinuityStarts:u,timelineStarts:n.timelineStarts,mediaSequence:o,segments:a};return n.contentProtection&&(c.contentProtection=n.contentProtection),s&&(c.sidx=s),r&&(c.attributes.AUDIO="audio",c.attributes.SUBTITLES="subs"),c},oF=function(t){var r,i=t.attributes,n=t.segments,a=t.mediaSequence,s=t.discontinuityStarts,o=t.discontinuitySequence;typeof n=="undefined"&&(n=[{uri:i.baseUrl,timeline:i.periodStart,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var l=(r={NAME:i.id,BANDWIDTH:i.bandwidth},r["PROGRAM-ID"]=1,r);return i.codecs&&(l.CODECS=i.codecs),{attributes:l,uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:i.baseUrl||"",targetDuration:i.duration,timelineStarts:i.timelineStarts,discontinuityStarts:s,discontinuitySequence:o,mediaSequence:a,segments:n}},lF=function(t,r,i){r===void 0&&(r={}),i===void 0&&(i=!1);var n,a=t.reduce(function(o,l){var u=l.attributes.role&&l.attributes.role.value||"",c=l.attributes.lang||"",f=l.attributes.label||"main";if(c&&!l.attributes.label){var d=u?" ("+u+")":"";f=""+l.attributes.lang+d}o[f]||(o[f]={language:c,autoselect:!0,default:u==="main",playlists:[],uri:""});var p=Xp(sF(l,i),r);return o[f].playlists.push(p),typeof n=="undefined"&&u==="main"&&(n=l,n.default=!0),o},{});if(!n){var s=Object.keys(a)[0];a[s].default=!0}return a},uF=function(t,r){return r===void 0&&(r={}),t.reduce(function(i,n){var a=n.attributes.lang||"text";return i[a]||(i[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),i[a].playlists.push(Xp(oF(n),r)),i},{})},cF=function(t){return t.reduce(function(r,i){return i&&i.forEach(function(n){var a=n.channel,s=n.language;r[s]={autoselect:!1,default:!1,instreamId:a,language:s},n.hasOwnProperty("aspectRatio")&&(r[s].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(r[s].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(r[s]["3D"]=n["3D"])}),r},{})},dF=function(t){var r,i=t.attributes,n=t.segments,a=t.sidx,s=t.discontinuityStarts,o={attributes:(r={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},r["PROGRAM-ID"]=1,r),uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuityStarts:s,timelineStarts:i.timelineStarts,segments:n};return i.contentProtection&&(o.contentProtection=i.contentProtection),a&&(o.sidx=a),o},fF=function(t){var r=t.attributes;return r.mimeType==="video/mp4"||r.mimeType==="video/webm"||r.contentType==="video"},hF=function(t){var r=t.attributes;return r.mimeType==="audio/mp4"||r.mimeType==="audio/webm"||r.contentType==="audio"},pF=function(t){var r=t.attributes;return r.mimeType==="text/vtt"||r.contentType==="text"},mF=function(t,r){t.forEach(function(i){i.mediaSequence=0,i.discontinuitySequence=ph(r,function(n){var a=n.timeline;return a===i.timeline}),i.segments&&i.segments.forEach(function(n,a){n.number=a})})},G0=function(t){return t?Object.keys(t).reduce(function(r,i){var n=t[i];return r.concat(n.playlists)},[]):[]},vF=function(t){var r,i=t.dashPlaylists,n=t.locations,a=t.sidxMapping,s=a===void 0?{}:a,o=t.previousManifest;if(!i.length)return{};var l=i[0].attributes,u=l.sourceDuration,c=l.type,f=l.suggestedPresentationDelay,d=l.minimumUpdatePeriod,p=ef(i.filter(fF)).map(dF),y=ef(i.filter(hF)),b=ef(i.filter(pF)),T=i.map(function(A){return A.attributes.captionServices}).filter(Boolean),S={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:u,playlists:aF(p,s)};d>=0&&(S.minimumUpdatePeriod=d*1e3),n&&(S.locations=n),c==="dynamic"&&(S.suggestedPresentationDelay=f);var w=S.playlists.length===0,D=y.length?lF(y,s,w):null,P=b.length?uF(b,s):null,I=p.concat(G0(D),G0(P)),L=I.map(function(A){var R=A.timelineStarts;return R});return S.timelineStarts=NS(L),mF(I,S.timelineStarts),D&&(S.mediaGroups.AUDIO.audio=D),P&&(S.mediaGroups.SUBTITLES.subs=P),T.length&&(S.mediaGroups["CLOSED-CAPTIONS"].cc=cF(T)),o?iF({oldManifest:o,newManifest:S}):S},gF=function(t,r,i){var n=t.NOW,a=t.clientOffset,s=t.availabilityStartTime,o=t.timescale,l=o===void 0?1:o,u=t.periodStart,c=u===void 0?0:u,f=t.minimumUpdatePeriod,d=f===void 0?0:f,p=(n+a)/1e3,y=s+c,b=p+d,T=b-y;return Math.ceil((T*l-r)/i)},BS=function(t,r){for(var i=t.type,n=t.minimumUpdatePeriod,a=n===void 0?0:n,s=t.media,o=s===void 0?"":s,l=t.sourceDuration,u=t.timescale,c=u===void 0?1:u,f=t.startNumber,d=f===void 0?1:f,p=t.periodStart,y=[],b=-1,T=0;T<r.length;T++){var S=r[T],w=S.d,D=S.r||0,P=S.t||0;b<0&&(b=P),P&&P>b&&(b=P);var I=void 0;if(D<0){var L=T+1;L===r.length?i==="dynamic"&&a>0&&o.indexOf("$Number$")>0?I=gF(t,b,w):I=(l*c-b)/w:I=(r[L].t-b)/w}else I=D+1;for(var A=d+y.length+I,R=d+y.length;R<A;)y.push({number:R,duration:w/c,time:b,timeline:p}),b+=w,R++}return y},yF=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,_F=function(t){return function(r,i,n,a){if(r==="$$")return"$";if(typeof t[i]=="undefined")return r;var s=""+t[i];return i==="RepresentationID"||(n?a=parseInt(a,10):a=1,s.length>=a)?s:""+new Array(a-s.length+1).join("0")+s}},K0=function(t,r){return t.replace(yF,_F(r))},bF=function(t,r){return!t.duration&&!r?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?Gp(t):BS(t,r)},TF=function(t,r){var i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},n=t.initialization,a=n===void 0?{sourceURL:"",range:""}:n,s=Yo({baseUrl:t.baseUrl,source:K0(a.sourceURL,i),range:a.range}),o=bF(t,r);return o.map(function(l){i.Number=l.number,i.Time=l.time;var u=K0(t.media||"",i),c=t.timescale||1,f=t.presentationTimeOffset||0,d=t.periodStart+(l.time-f)/c,p={uri:u,timeline:l.timeline,duration:l.duration,resolvedUri:Jc(t.baseUrl||"",u),map:s,number:l.number,presentationTime:d};return p})},SF=function(t,r){var i=t.baseUrl,n=t.initialization,a=n===void 0?{}:n,s=Yo({baseUrl:i,source:a.sourceURL,range:a.range}),o=Yo({baseUrl:i,source:r.media,range:r.mediaRange});return o.map=s,o},xF=function(t,r){var i=t.duration,n=t.segmentUrls,a=n===void 0?[]:n,s=t.periodStart;if(!i&&!r||i&&r)throw new Error(hs.SEGMENT_TIME_UNSPECIFIED);var o=a.map(function(c){return SF(t,c)}),l;i&&(l=Gp(t)),r&&(l=BS(t,r));var u=l.map(function(c,f){if(o[f]){var d=o[f],p=t.timescale||1,y=t.presentationTimeOffset||0;return d.timeline=c.timeline,d.duration=c.duration,d.number=c.number,d.presentationTime=s+(c.time-y)/p,d}}).filter(function(c){return c});return u},EF=function(t){var r=t.attributes,i=t.segmentInfo,n,a;i.template?(a=TF,n=gn(r,i.template)):i.base?(a=FS,n=gn(r,i.base)):i.list&&(a=xF,n=gn(r,i.list));var s={attributes:r};if(!a)return s;var o=a(n,i.segmentTimeline);if(n.duration){var l=n,u=l.duration,c=l.timescale,f=c===void 0?1:c;n.duration=u/f}else o.length?n.duration=o.reduce(function(d,p){return Math.max(d,Math.ceil(p.duration))},0):n.duration=0;return s.attributes=n,s.segments=o,i.base&&n.indexRange&&(s.sidx=o[0],s.segments=[]),s},CF=function(t){return t.map(EF)},Ot=function(t,r){return MS(t.childNodes).filter(function(i){var n=i.tagName;return n===r})},Yp=function(t){return t.textContent.trim()},Ra=function(t){var r=31536e3,i=30*24*60*60,n=24*60*60,a=60*60,s=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,l=o.exec(t);if(!l)return 0;var u=l.slice(1),c=u[0],f=u[1],d=u[2],p=u[3],y=u[4],b=u[5];return parseFloat(c||0)*r+parseFloat(f||0)*i+parseFloat(d||0)*n+parseFloat(p||0)*a+parseFloat(y||0)*s+parseFloat(b||0)},wF=function(t){var r=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return r.test(t)&&(t+="Z"),Date.parse(t)},X0={mediaPresentationDuration:function(t){return Ra(t)},availabilityStartTime:function(t){return wF(t)/1e3},minimumUpdatePeriod:function(t){return Ra(t)},suggestedPresentationDelay:function(t){return Ra(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return Ra(t)},start:function(t){return Ra(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},presentationTimeOffset:function(t){return parseInt(t,10)},duration:function(t){var r=parseInt(t,10);return isNaN(r)?Ra(t):r},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},tn=function(t){return t&&t.attributes?MS(t.attributes).reduce(function(r,i){var n=X0[i.name]||X0.DEFAULT;return r[i.name]=n(i.value),r},{}):{}},kF={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},rd=function(t,r){return r.length?td(t.map(function(i){return r.map(function(n){return Jc(i,Yp(n))})})):t},Qp=function(t){var r=Ot(t,"SegmentTemplate")[0],i=Ot(t,"SegmentList")[0],n=i&&Ot(i,"SegmentURL").map(function(d){return gn({tag:"SegmentURL"},tn(d))}),a=Ot(t,"SegmentBase")[0],s=i||r,o=s&&Ot(s,"SegmentTimeline")[0],l=i||a||r,u=l&&Ot(l,"Initialization")[0],c=r&&tn(r);c&&u?c.initialization=u&&tn(u):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var f={template:c,segmentTimeline:o&&Ot(o,"S").map(function(d){return tn(d)}),list:i&&gn(tn(i),{segmentUrls:n,initialization:tn(u)}),base:a&&gn(tn(a),{initialization:tn(u)})};return Object.keys(f).forEach(function(d){f[d]||delete f[d]}),f},PF=function(t,r,i){return function(n){var a=Ot(n,"BaseURL"),s=rd(r,a),o=gn(t,tn(n)),l=Qp(n);return s.map(function(u){return{segmentInfo:gn(i,l),attributes:gn(o,{baseUrl:u})}})}},AF=function(t){return t.reduce(function(r,i){var n=tn(i);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());var a=kF[n.schemeIdUri];if(a){r[a]={attributes:n};var s=Ot(i,"cenc:pssh")[0];if(s){var o=Yp(s);r[a].pssh=o&&nS(o)}}return r},{})},IF=function(t){if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var r=typeof t.value!="string"?[]:t.value.split(";");return r.map(function(n){var a,s;if(s=n,/^CC\d=/.test(n)){var o=n.split("=");a=o[0],s=o[1]}else/^CC\d$/.test(n)&&(a=n);return{channel:a,language:s}})}else if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var i=typeof t.value!="string"?[]:t.value.split(";");return i.map(function(n){var a={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){var s=n.split("="),o=s[0],l=s[1],u=l===void 0?"":l;a.channel=o,a.language=n,u.split(",").forEach(function(c){var f=c.split(":"),d=f[0],p=f[1];d==="lang"?a.language=p:d==="er"?a.easyReader=Number(p):d==="war"?a.aspectRatio=Number(p):d==="3D"&&(a["3D"]=Number(p))})}else a.language=n;return a.channel&&(a.channel="SERVICE"+a.channel),a})}},OF=function(t,r,i){return function(n){var a=tn(n),s=rd(r,Ot(n,"BaseURL")),o=Ot(n,"Role")[0],l={role:tn(o)},u=gn(t,a,l),c=Ot(n,"Accessibility")[0],f=IF(tn(c));f&&(u=gn(u,{captionServices:f}));var d=Ot(n,"Label")[0];if(d&&d.childNodes.length){var p=d.childNodes[0].nodeValue.trim();u=gn(u,{label:p})}var y=AF(Ot(n,"ContentProtection"));Object.keys(y).length&&(u=gn(u,{contentProtection:y}));var b=Qp(n),T=Ot(n,"Representation"),S=gn(i,b);return td(T.map(PF(u,s,S)))}},LF=function(t,r){return function(i,n){var a=rd(r,Ot(i.node,"BaseURL")),s=gn(t,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(s.periodDuration=i.attributes.duration);var o=Ot(i.node,"AdaptationSet"),l=Qp(i.node);return td(o.map(OF(s,a,l)))}},DF=function(t){var r=t.attributes,i=t.priorPeriodAttributes,n=t.mpdType;return typeof r.start=="number"?r.start:i&&typeof i.start=="number"&&typeof i.duration=="number"?i.start+i.duration:!i&&n==="static"?0:null},RF=function(t,r){r===void 0&&(r={});var i=r,n=i.manifestUri,a=n===void 0?"":n,s=i.NOW,o=s===void 0?Date.now():s,l=i.clientOffset,u=l===void 0?0:l,c=Ot(t,"Period");if(!c.length)throw new Error(hs.INVALID_NUMBER_OF_PERIOD);var f=Ot(t,"Location"),d=tn(t),p=rd([a],Ot(t,"BaseURL"));d.type=d.type||"static",d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=o,d.clientOffset=u,f.length&&(d.locations=f.map(Yp));var y=[];return c.forEach(function(b,T){var S=tn(b),w=y[T-1];S.start=DF({attributes:S,priorPeriodAttributes:w?w.attributes:null,mpdType:d.type}),y.push({node:b,attributes:S})}),{locations:d.locations,representationInfo:td(y.map(LF(d,p)))}},US=function(t){if(t==="")throw new Error(hs.DASH_EMPTY_MANIFEST);var r=new GM,i,n;try{i=r.parseFromString(t,"application/xml"),n=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(hs.DASH_INVALID_XML);return n},MF=function(t){var r=Ot(t,"UTCTiming")[0];if(!r)return null;var i=tn(r);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(hs.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},FF=function(t,r){r===void 0&&(r={});var i=RF(US(t),r),n=CF(i.representationInfo);return vF({dashPlaylists:n,locations:i.locations,sidxMapping:r.sidxMapping,previousManifest:r.previousManifest})},NF=function(t){return MF(US(t))},VS=Math.pow(2,32),BF=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r;return t.getBigUint64?(r=t.getBigUint64(0),r<Number.MAX_SAFE_INTEGER?Number(r):r):t.getUint32(0)*VS+t.getUint32(4)},UF={getUint64:BF,MAX_UINT32:VS},Y0=UF.getUint64,VF=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},i=12;r.version===0?(r.earliestPresentationTime=t.getUint32(i),r.firstOffset=t.getUint32(i+4),i+=8):(r.earliestPresentationTime=Y0(e.subarray(i)),r.firstOffset=Y0(e.subarray(i+8)),i+=16),i+=2;var n=t.getUint16(i);for(i+=2;n>0;i+=12,n--)r.references.push({referenceType:(e[i]&128)>>>7,referencedSize:t.getUint32(i)&2147483647,subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(e[i+8]&128),sapType:(e[i+8]&112)>>>4,sapDeltaTime:t.getUint32(i+8)&268435455});return r},$F=VF,jF=Me([73,68,51]),HF=function(t,r){r===void 0&&(r=0),t=Me(t);var i=t[r+5],n=t[r+6]<<21|t[r+7]<<14|t[r+8]<<7|t[r+9],a=(i&16)>>4;return a?n+20:n+10},oo=function e(t,r){return r===void 0&&(r=0),t=Me(t),t.length-r<10||!xt(t,jF,{offset:r})?r:(r+=HF(t,r),e(t,r))},Q0=function(t){return typeof t=="string"?oS(t):t},WF=function(t){return Array.isArray(t)?t.map(function(r){return Q0(r)}):[Q0(t)]},zF=function e(t,r,i){i===void 0&&(i=!1),r=WF(r),t=Me(t);var n=[];if(!r.length)return n;for(var a=0;a<t.length;){var s=(t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3])>>>0,o=t.subarray(a+4,a+8);if(s===0)break;var l=a+s;if(l>t.length){if(i)break;l=t.length}var u=t.subarray(a+8,l);xt(o,r[0])&&(r.length===1?n.push(u):n.push.apply(n,e(u,r.slice(1),i))),a=l}return n},fu={EBML:Me([26,69,223,163]),DocType:Me([66,130]),Segment:Me([24,83,128,103]),SegmentInfo:Me([21,73,169,102]),Tracks:Me([22,84,174,107]),Track:Me([174]),TrackNumber:Me([215]),DefaultDuration:Me([35,227,131]),TrackEntry:Me([174]),TrackType:Me([131]),FlagDefault:Me([136]),CodecID:Me([134]),CodecPrivate:Me([99,162]),VideoTrack:Me([224]),AudioTrack:Me([225]),Cluster:Me([31,67,182,117]),Timestamp:Me([231]),TimestampScale:Me([42,215,177]),BlockGroup:Me([160]),BlockDuration:Me([155]),Block:Me([161]),SimpleBlock:Me([163])},mh=[128,64,32,16,8,4,2,1],qF=function(t){for(var r=1,i=0;i<mh.length&&!(t&mh[i]);i++)r++;return r},sc=function(t,r,i,n){i===void 0&&(i=!0),n===void 0&&(n=!1);var a=qF(t[r]),s=t.subarray(r,r+a);return i&&(s=Array.prototype.slice.call(t,r,r+a),s[0]^=mh[a-1]),{length:a,value:bM(s,{signed:n}),bytes:s}},J0=function e(t){return typeof t=="string"?t.match(/.{1,2}/g).map(function(r){return e(r)}):typeof t=="number"?TM(t):t},GF=function(t){return Array.isArray(t)?t.map(function(r){return J0(r)}):[J0(t)]},KF=function e(t,r,i){if(i>=r.length)return r.length;var n=sc(r,i,!1);if(xt(t.bytes,n.bytes))return i;var a=sc(r,i+n.length);return e(t,r,i+a.length+a.value+n.length)},Z0=function e(t,r){r=GF(r),t=Me(t);var i=[];if(!r.length)return i;for(var n=0;n<t.length;){var a=sc(t,n,!1),s=sc(t,n+a.length),o=n+a.length+s.length;s.value===127&&(s.value=KF(a,t,o),s.value!==t.length&&(s.value-=o));var l=o+s.value>t.length?t.length:o+s.value,u=t.subarray(o,l);xt(r[0],a.bytes)&&(r.length===1?i.push(u):i=i.concat(e(u,r.slice(1))));var c=a.length+s.length+u.length;n+=c}return i},XF=Me([0,0,0,1]),YF=Me([0,0,1]),QF=Me([0,0,3]),JF=function(t){for(var r=[],i=1;i<t.length-2;)xt(t.subarray(i,i+3),QF)&&(r.push(i+2),i++),i++;if(r.length===0)return t;var n=t.length-r.length,a=new Uint8Array(n),s=0;for(i=0;i<n;s++,i++)s===r[0]&&(s++,r.shift()),a[i]=t[s];return a},$S=function(t,r,i,n){n===void 0&&(n=1/0),t=Me(t),i=[].concat(i);for(var a=0,s,o=0;a<t.length&&(o<n||s);){var l=void 0;if(xt(t.subarray(a),XF)?l=4:xt(t.subarray(a),YF)&&(l=3),!l){a++;continue}if(o++,s)return JF(t.subarray(s,a));var u=void 0;r==="h264"?u=t[a+l]&31:r==="h265"&&(u=t[a+l]>>1&63),i.indexOf(u)!==-1&&(s=a+l),a+=l+(r==="h264"?1:2)}return t.subarray(0,0)},ZF=function(t,r,i){return $S(t,"h264",r,i)},eN=function(t,r,i){return $S(t,"h265",r,i)},hn={webm:Me([119,101,98,109]),matroska:Me([109,97,116,114,111,115,107,97]),flac:Me([102,76,97,67]),ogg:Me([79,103,103,83]),ac3:Me([11,119]),riff:Me([82,73,70,70]),avi:Me([65,86,73]),wav:Me([87,65,86,69]),"3gp":Me([102,116,121,112,51,103]),mp4:Me([102,116,121,112]),fmp4:Me([115,116,121,112]),mov:Me([102,116,121,112,113,116]),moov:Me([109,111,111,118]),moof:Me([109,111,111,102])},ps={aac:function(t){var r=oo(t);return xt(t,[255,16],{offset:r,mask:[255,22]})},mp3:function(t){var r=oo(t);return xt(t,[255,2],{offset:r,mask:[255,6]})},webm:function(t){var r=Z0(t,[fu.EBML,fu.DocType])[0];return xt(r,hn.webm)},mkv:function(t){var r=Z0(t,[fu.EBML,fu.DocType])[0];return xt(r,hn.matroska)},mp4:function(t){if(ps["3gp"](t)||ps.mov(t))return!1;if(xt(t,hn.mp4,{offset:4})||xt(t,hn.fmp4,{offset:4})||xt(t,hn.moof,{offset:4})||xt(t,hn.moov,{offset:4}))return!0},mov:function(t){return xt(t,hn.mov,{offset:4})},"3gp":function(t){return xt(t,hn["3gp"],{offset:4})},ac3:function(t){var r=oo(t);return xt(t,hn.ac3,{offset:r})},ts:function(t){if(t.length<189&&t.length>=1)return t[0]===71;for(var r=0;r+188<t.length&&r<188;){if(t[r]===71&&t[r+188]===71)return!0;r+=1}return!1},flac:function(t){var r=oo(t);return xt(t,hn.flac,{offset:r})},ogg:function(t){return xt(t,hn.ogg)},avi:function(t){return xt(t,hn.riff)&&xt(t,hn.avi,{offset:8})},wav:function(t){return xt(t,hn.riff)&&xt(t,hn.wav,{offset:8})},h264:function(t){return ZF(t,7,3).length},h265:function(t){return eN(t,[32,33],3).length}},vh=Object.keys(ps).filter(function(e){return e!=="ts"&&e!=="h264"&&e!=="h265"}).concat(["ts","h264","h265"]);vh.forEach(function(e){var t=ps[e];ps[e]=function(r){return t(Me(r))}});var tN=ps,Jp=function(t){t=Me(t);for(var r=0;r<vh.length;r++){var i=vh[r];if(tN[i](t))return i}return""},nN=function(t){return zF(t,["moof"]).length>0},Zp=9e4,em,tm,id,nm,jS,HS,WS;em=function(e){return e*Zp};tm=function(e,t){return e*t};id=function(e){return e/Zp};nm=function(e,t){return e/t};jS=function(e,t){return em(nm(e,t))};HS=function(e,t){return tm(id(e),t)};WS=function(e,t,r){return id(r?e:e-t)};var oc={ONE_SECOND_IN_TS:Zp,secondsToVideoTs:em,secondsToAudioTs:tm,videoTsToSeconds:id,audioTsToSeconds:nm,audioTsToVideoTs:jS,videoTsToAudioTs:HS,metadataTsToSeconds:WS};/**
 * @license
 * Video.js 7.19.2 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var zS="7.19.2",Fr={},Ti=function(t,r){return Fr[t]=Fr[t]||[],r&&(Fr[t]=Fr[t].concat(r)),Fr[t]},rN=function(t,r){Ti(t,r)},qS=function(t,r){var i=Ti(t).indexOf(r);return i<=-1?!1:(Fr[t]=Fr[t].slice(),Fr[t].splice(i,1),!0)},iN=function(t,r){Ti(t,[].concat(r).map(function(i){var n=function a(){return qS(t,a),i.apply(void 0,arguments)};return n}))},lc={prefixed:!0},Lu=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],ey=Lu[0],lo;for(var hu=0;hu<Lu.length;hu++)if(Lu[hu][1]in ge){lo=Lu[hu];break}if(lo){for(var pu=0;pu<lo.length;pu++)lc[ey[pu]]=lo[pu];lc.prefixed=lo[0]!==ey[0]}var Sn=[],aN=function(t,r){return function(i,n,a){var s=r.levels[n],o=new RegExp("^("+s+")$");if(i!=="log"&&a.unshift(i.toUpperCase()+":"),a.unshift(t+":"),Sn){Sn.push([].concat(a));var l=Sn.length-1e3;Sn.splice(0,l>0?l:0)}if(!!U.console){var u=U.console[i];!u&&i==="debug"&&(u=U.console.info||U.console.log),!(!u||!s||!o.test(i))&&u[Array.isArray(a)?"apply":"call"](U.console,a)}}};function GS(e){var t="info",r,i=function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];r("log",t,s)};return r=aN(e,i),i.createLogger=function(n){return GS(e+": "+n)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:t},i.level=function(n){if(typeof n=="string"){if(!i.levels.hasOwnProperty(n))throw new Error('"'+n+'" in not a valid log level');t=n}return t},i.history=function(){return Sn?[].concat(Sn):[]},i.history.filter=function(n){return(Sn||[]).filter(function(a){return new RegExp(".*"+n+".*").test(a[0])})},i.history.clear=function(){Sn&&(Sn.length=0)},i.history.disable=function(){Sn!==null&&(Sn.length=0,Sn=null)},i.history.enable=function(){Sn===null&&(Sn=[])},i.error=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r("error",t,a)},i.warn=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r("warn",t,a)},i.debug=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r("debug",t,a)},i}var Xe=GS("VIDEOJS"),KS=Xe.createLogger,sN=Object.prototype.toString,XS=function(t){return Gr(t)?Object.keys(t):[]};function Za(e,t){XS(e).forEach(function(r){return t(e[r],r)})}function oN(e,t,r){return r===void 0&&(r=0),XS(e).reduce(function(i,n){return t(i,e[n],n)},r)}function wt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Object.assign?qn.apply(void 0,[e].concat(r)):(r.forEach(function(n){!n||Za(n,function(a,s){e[s]=a})}),e)}function Gr(e){return!!e&&typeof e=="object"}function Qo(e){return Gr(e)&&sN.call(e)==="[object Object]"&&e.constructor===Object}function Jo(e,t){if(!e||!t)return"";if(typeof U.getComputedStyle=="function"){var r;try{r=U.getComputedStyle(e)}catch{return""}return r?r.getPropertyValue(t)||r[t]:""}return""}var jt=U.navigator&&U.navigator.userAgent||"",ty=/AppleWebKit\/([\d.]+)/i.exec(jt),lN=ty?parseFloat(ty.pop()):null,YS=/iPod/i.test(jt),uN=function(){var e=jt.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),ti=/Android/i.test(jt),rm=function(){var e=jt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return t&&r?parseFloat(e[1]+"."+e[2]):t||null}(),QS=ti&&rm<5&&lN<537,JS=/Firefox/i.test(jt),_l=/Edg/i.test(jt),ni=!_l&&(/Chrome/i.test(jt)||/CriOS/i.test(jt)),ZS=function(){var e=jt.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),bl=function(){var e=/MSIE\s(\d+)\.\d/.exec(jt),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(jt)&&/rv:11.0/.test(jt)&&(t=11),t}(),im=/Safari/i.test(jt)&&!ni&&!ti&&!_l,ex=/Windows/i.test(jt),ms=Boolean(Ps()&&("ontouchstart"in U||U.navigator.maxTouchPoints||U.DocumentTouch&&U.document instanceof U.DocumentTouch)),am=/iPad/i.test(jt)||im&&ms&&!/iPhone/i.test(jt),sm=/iPhone/i.test(jt)&&!am,bn=sm||am||YS,ad=(im||bn)&&!ni,cN=Object.freeze({__proto__:null,IS_IPOD:YS,IOS_VERSION:uN,IS_ANDROID:ti,ANDROID_VERSION:rm,IS_NATIVE_ANDROID:QS,IS_FIREFOX:JS,IS_EDGE:_l,IS_CHROME:ni,CHROME_VERSION:ZS,IE_VERSION:bl,IS_SAFARI:im,IS_WINDOWS:ex,TOUCH_ENABLED:ms,IS_IPAD:am,IS_IPHONE:sm,IS_IOS:bn,IS_ANY_SAFARI:ad});function ny(e){return typeof e=="string"&&Boolean(e.trim())}function tx(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function dN(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function Ps(){return ge===U.document}function As(e){return Gr(e)&&e.nodeType===1}function nx(){try{return U.parent!==U.self}catch{return!0}}function rx(e){return function(t,r){if(!ny(t))return ge[e](null);ny(r)&&(r=ge.querySelector(r));var i=As(r)?r:ge;return i[e]&&i[e](t)}}function rt(e,t,r,i){e===void 0&&(e="div"),t===void 0&&(t={}),r===void 0&&(r={});var n=ge.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(a){var s=t[a];a.indexOf("aria-")!==-1||a==="role"||a==="type"?(Xe.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+a+" to "+s+".")),n.setAttribute(a,s)):a==="textContent"?ba(n,s):(n[a]!==s||a==="tabIndex")&&(n[a]=s)}),Object.getOwnPropertyNames(r).forEach(function(a){n.setAttribute(a,r[a])}),i&&lm(n,i),n}function ba(e,t){return typeof e.textContent=="undefined"?e.innerText=t:e.textContent=t,e}function gh(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function Qi(e,t){return tx(t),e.classList?e.classList.contains(t):dN(t).test(e.className)}function Vr(e,t){return e.classList?e.classList.add(t):Qi(e,t)||(e.className=(e.className+" "+t).trim()),e}function Tl(e,t){return e?(e.classList?e.classList.remove(t):(tx(t),e.className=e.className.split(/\s+/).filter(function(r){return r!==t}).join(" ")),e):(Xe.warn("removeClass was called with an element that doesn't exist"),null)}function ix(e,t,r){var i=Qi(e,t);if(typeof r=="function"&&(r=r(e,t)),typeof r!="boolean"&&(r=!i),r!==i)return r?Vr(e,t):Tl(e,t),e}function ax(e,t){Object.getOwnPropertyNames(t).forEach(function(r){var i=t[r];i===null||typeof i=="undefined"||i===!1?e.removeAttribute(r):e.setAttribute(r,i===!0?"":i)})}function Dr(e){var t={},r=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var i=e.attributes,n=i.length-1;n>=0;n--){var a=i[n].name,s=i[n].value;(typeof e[a]=="boolean"||r.indexOf(","+a+",")!==-1)&&(s=s!==null),t[a]=s}return t}function sx(e,t){return e.getAttribute(t)}function vs(e,t,r){e.setAttribute(t,r)}function sd(e,t){e.removeAttribute(t)}function ox(){ge.body.focus(),ge.onselectstart=function(){return!1}}function lx(){ge.onselectstart=function(){return!0}}function gs(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(function(i){t[i]!==void 0&&(r[i]=t[i])}),r.height||(r.height=parseFloat(Jo(e,"height"))),r.width||(r.width=parseFloat(Jo(e,"width"))),r}}function Zo(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=e.offsetWidth,r=e.offsetHeight,i=0,n=0;e.offsetParent&&e!==ge[lc.fullscreenElement];)i+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return{left:i,top:n,width:t,height:r}}function od(e,t){var r={x:0,y:0};if(bn)for(var i=e;i&&i.nodeName.toLowerCase()!=="html";){var n=Jo(i,"transform");if(/^matrix/.test(n)){var a=n.slice(7,-1).split(/,\s/).map(Number);r.x+=a[4],r.y+=a[5]}else if(/^matrix3d/.test(n)){var s=n.slice(9,-1).split(/,\s/).map(Number);r.x+=s[12],r.y+=s[13]}i=i.parentNode}var o={},l=Zo(t.target),u=Zo(e),c=u.width,f=u.height,d=t.offsetY-(u.top-l.top),p=t.offsetX-(u.left-l.left);return t.changedTouches&&(p=t.changedTouches[0].pageX-u.left,d=t.changedTouches[0].pageY+u.top,bn&&(p-=r.x,d-=r.y)),o.y=1-Math.max(0,Math.min(1,d/f)),o.x=Math.max(0,Math.min(1,p/c)),o}function ux(e){return Gr(e)&&e.nodeType===3}function om(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function cx(e){return typeof e=="function"&&(e=e()),(Array.isArray(e)?e:[e]).map(function(t){if(typeof t=="function"&&(t=t()),As(t)||ux(t))return t;if(typeof t=="string"&&/\S/.test(t))return ge.createTextNode(t)}).filter(function(t){return t})}function lm(e,t){return cx(t).forEach(function(r){return e.appendChild(r)}),e}function dx(e,t){return lm(om(e),t)}function el(e){return e.button===void 0&&e.buttons===void 0||e.button===0&&e.buttons===void 0||e.type==="mouseup"&&e.button===0&&e.buttons===0?!0:!(e.button!==0||e.buttons!==1)}var Si=rx("querySelector"),fx=rx("querySelectorAll"),hx=Object.freeze({__proto__:null,isReal:Ps,isEl:As,isInFrame:nx,createEl:rt,textContent:ba,prependTo:gh,hasClass:Qi,addClass:Vr,removeClass:Tl,toggleClass:ix,setAttributes:ax,getAttributes:Dr,getAttribute:sx,setAttribute:vs,removeAttribute:sd,blockTextSelection:ox,unblockTextSelection:lx,getBoundingClientRect:gs,findPosition:Zo,getPointerPosition:od,isTextNode:ux,emptyEl:om,normalizeContent:cx,appendContent:lm,insertContent:dx,isSingleLeftClick:el,$:Si,$$:fx}),px=!1,yh,fN=function(){if(yh.options.autoSetup!==!1){var t=Array.prototype.slice.call(ge.getElementsByTagName("video")),r=Array.prototype.slice.call(ge.getElementsByTagName("audio")),i=Array.prototype.slice.call(ge.getElementsByTagName("video-js")),n=t.concat(r,i);if(n&&n.length>0)for(var a=0,s=n.length;a<s;a++){var o=n[a];if(o&&o.getAttribute){if(o.player===void 0){var l=o.getAttribute("data-setup");l!==null&&yh(o)}}else{_h(1);break}}else px||_h(1)}};function _h(e,t){!Ps()||(t&&(yh=t),U.setTimeout(fN,e))}function bh(){px=!0,U.removeEventListener("load",bh)}Ps()&&(ge.readyState==="complete"?bh():U.addEventListener("load",bh));var mx=function(t){var r=ge.createElement("style");return r.className=t,r},vx=function(t,r){t.styleSheet?t.styleSheet.cssText=r:t.textContent=r},hN=3,pN=hN;function ri(){return pN++}var gx;U.WeakMap||(gx=function(){function e(){this.vdata="vdata"+Math.floor(U.performance&&U.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(i,n){var a=i[this.vdata]||ri();return i[this.vdata]||(i[this.vdata]=a),this.data[a]=n,this},t.get=function(i){var n=i[this.vdata];if(n)return this.data[n];Xe("We have no data for this element",i)},t.has=function(i){var n=i[this.vdata];return n in this.data},t.delete=function(i){var n=i[this.vdata];n&&(delete this.data[n],delete i[this.vdata])},e}());var yn=U.WeakMap?new WeakMap:new gx;function ry(e,t){if(!!yn.has(e)){var r=yn.get(e);r.handlers[t].length===0&&(delete r.handlers[t],e.removeEventListener?e.removeEventListener(t,r.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&yn.delete(e)}}function um(e,t,r,i){r.forEach(function(n){e(t,n,i)})}function ld(e){if(e.fixed_)return e;function t(){return!0}function r(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var i=e||U.event;e={};for(var n in i)n!=="layerX"&&n!=="layerY"&&n!=="keyLocation"&&n!=="webkitMovementX"&&n!=="webkitMovementY"&&(n==="returnValue"&&i.preventDefault||(e[n]=i[n]));if(e.target||(e.target=e.srcElement||ge),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=r,e.clientX!==null&&e.clientX!==void 0){var a=ge.documentElement,s=ge.body;e.pageX=e.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),e.pageY=e.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}e.which=e.charCode||e.keyCode,e.button!==null&&e.button!==void 0&&(e.button=e.button&1?0:e.button&4?1:e.button&2?2:0)}return e.fixed_=!0,e}var mu,mN=function(){if(typeof mu!="boolean"){mu=!1;try{var t=Object.defineProperty({},"passive",{get:function(){mu=!0}});U.addEventListener("test",null,t),U.removeEventListener("test",null,t)}catch{}}return mu},vN=["touchstart","touchmove"];function Fn(e,t,r){if(Array.isArray(t))return um(Fn,e,t,r);yn.has(e)||yn.set(e,{});var i=yn.get(e);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),r.guid||(r.guid=ri()),i.handlers[t].push(r),i.dispatcher||(i.disabled=!1,i.dispatcher=function(a,s){if(!i.disabled){a=ld(a);var o=i.handlers[a.type];if(o)for(var l=o.slice(0),u=0,c=l.length;u<c&&!a.isImmediatePropagationStopped();u++)try{l[u].call(e,a,s)}catch(f){Xe.error(f)}}}),i.handlers[t].length===1)if(e.addEventListener){var n=!1;mN()&&vN.indexOf(t)>-1&&(n={passive:!0}),e.addEventListener(t,i.dispatcher,n)}else e.attachEvent&&e.attachEvent("on"+t,i.dispatcher)}function an(e,t,r){if(!!yn.has(e)){var i=yn.get(e);if(!!i.handlers){if(Array.isArray(t))return um(an,e,t,r);var n=function(u,c){i.handlers[c]=[],ry(u,c)};if(t===void 0){for(var a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&n(e,a);return}var s=i.handlers[t];if(!!s){if(!r){n(e,t);return}if(r.guid)for(var o=0;o<s.length;o++)s[o].guid===r.guid&&s.splice(o--,1);ry(e,t)}}}}function Is(e,t,r){var i=yn.has(e)?yn.get(e):{},n=e.parentNode||e.ownerDocument;if(typeof t=="string"?t={type:t,target:e}:t.target||(t.target=e),t=ld(t),i.dispatcher&&i.dispatcher.call(e,t,r),n&&!t.isPropagationStopped()&&t.bubbles===!0)Is.call(null,n,t,r);else if(!n&&!t.defaultPrevented&&t.target&&t.target[t.type]){yn.has(t.target)||yn.set(t.target,{});var a=yn.get(t.target);t.target[t.type]&&(a.disabled=!0,typeof t.target[t.type]=="function"&&t.target[t.type](),a.disabled=!1)}return!t.defaultPrevented}function ud(e,t,r){if(Array.isArray(t))return um(ud,e,t,r);var i=function n(){an(e,t,n),r.apply(this,arguments)};i.guid=r.guid=r.guid||ri(),Fn(e,t,i)}function yx(e,t,r){var i=function n(){an(e,t,n),r.apply(this,arguments)};i.guid=r.guid=r.guid||ri(),Fn(e,t,i)}var gN=Object.freeze({__proto__:null,fixEvent:ld,on:Fn,off:an,trigger:Is,one:ud,any:yx}),or=30,Tt=function(t,r,i){r.guid||(r.guid=ri());var n=r.bind(t);return n.guid=i?i+"_"+r.guid:r.guid,n},Kr=function(t,r){var i=U.performance.now(),n=function(){var s=U.performance.now();s-i>=r&&(t.apply(void 0,arguments),i=s)};return n},yN=function(t,r,i,n){n===void 0&&(n=U);var a,s=function(){n.clearTimeout(a),a=null},o=function(){var u=this,c=arguments,f=function(){a=null,f=null,i||t.apply(u,c)};!a&&i&&t.apply(u,c),n.clearTimeout(a),a=n.setTimeout(f,r)};return o.cancel=s,o},qt=function(){};qt.prototype.allowedEvents_={};qt.prototype.on=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},Fn(this,e,t),this.addEventListener=r};qt.prototype.addEventListener=qt.prototype.on;qt.prototype.off=function(e,t){an(this,e,t)};qt.prototype.removeEventListener=qt.prototype.off;qt.prototype.one=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},ud(this,e,t),this.addEventListener=r};qt.prototype.any=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},yx(this,e,t),this.addEventListener=r};qt.prototype.trigger=function(e){var t=e.type||e;typeof e=="string"&&(e={type:t}),e=ld(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Is(this,e)};qt.prototype.dispatchEvent=qt.prototype.trigger;var Js;qt.prototype.queueTrigger=function(e){var t=this;Js||(Js=new Map);var r=e.type||e,i=Js.get(this);i||(i=new Map,Js.set(this,i));var n=i.get(r);i.delete(r),U.clearTimeout(n);var a=U.setTimeout(function(){i.size===0&&(i=null,Js.delete(t)),t.trigger(e)},0);i.set(r,a)};var cd=function(t){return typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t},$r=function(t){return t instanceof qt||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(r){return typeof t[r]=="function"})},_N=function(t,r){$r(t)?r():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(r))},Th=function(t){return typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length},uc=function(t,r,i){if(!t||!t.nodeName&&!$r(t))throw new Error("Invalid target for "+cd(r)+"#"+i+"; must be a DOM node or evented object.")},_x=function(t,r,i){if(!Th(t))throw new Error("Invalid event type for "+cd(r)+"#"+i+"; must be a non-empty string or array.")},bx=function(t,r,i){if(typeof t!="function")throw new Error("Invalid listener for "+cd(r)+"#"+i+"; must be a function.")},tf=function(t,r,i){var n=r.length<3||r[0]===t||r[0]===t.eventBusEl_,a,s,o;return n?(a=t.eventBusEl_,r.length>=3&&r.shift(),s=r[0],o=r[1]):(a=r[0],s=r[1],o=r[2]),uc(a,t,i),_x(s,t,i),bx(o,t,i),o=Tt(t,o),{isTargetingSelf:n,target:a,type:s,listener:o}},Ui=function(t,r,i,n){uc(t,t,r),t.nodeName?gN[r](t,i,n):t[r](i,n)},bN={on:function(){for(var t=this,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var a=tf(this,i,"on"),s=a.isTargetingSelf,o=a.target,l=a.type,u=a.listener;if(Ui(o,"on",l,u),!s){var c=function(){return t.off(o,l,u)};c.guid=u.guid;var f=function(){return t.off("dispose",c)};f.guid=u.guid,Ui(this,"on","dispose",c),Ui(o,"on","dispose",f)}},one:function(){for(var t=this,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var a=tf(this,i,"one"),s=a.isTargetingSelf,o=a.target,l=a.type,u=a.listener;if(s)Ui(o,"one",l,u);else{var c=function f(){t.off(o,l,f);for(var d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];u.apply(null,p)};c.guid=u.guid,Ui(o,"one",l,c)}},any:function(){for(var t=this,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var a=tf(this,i,"any"),s=a.isTargetingSelf,o=a.target,l=a.type,u=a.listener;if(s)Ui(o,"any",l,u);else{var c=function f(){t.off(o,l,f);for(var d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];u.apply(null,p)};c.guid=u.guid,Ui(o,"any",l,c)}},off:function(t,r,i){if(!t||Th(t))an(this.eventBusEl_,t,r);else{var n=t,a=r;uc(n,this,"off"),_x(a,this,"off"),bx(i,this,"off"),i=Tt(this,i),this.off("dispose",i),n.nodeName?(an(n,a,i),an(n,"dispose",i)):$r(n)&&(n.off(a,i),n.off("dispose",i))}},trigger:function(t,r){uc(this.eventBusEl_,this,"trigger");var i=t&&typeof t!="string"?t.type:t;if(!Th(i)){var n="Invalid event type for "+cd(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(t)(this.log||Xe).error(n);else throw new Error(n)}return Is(this.eventBusEl_,t,r)}};function cm(e,t){t===void 0&&(t={});var r=t,i=r.eventBusKey;if(i){if(!e[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');e.eventBusEl_=e[i]}else e.eventBusEl_=rt("span",{className:"vjs-event-bus"});return wt(e,bN),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(n){n()}),e.on("dispose",function(){e.off(),[e,e.el_,e.eventBusEl_].forEach(function(n){n&&yn.has(n)&&yn.delete(n)}),U.setTimeout(function(){e.eventBusEl_=null},0)}),e}var TN={state:{},setState:function(t){var r=this;typeof t=="function"&&(t=t());var i;return Za(t,function(n,a){r.state[a]!==n&&(i=i||{},i[a]={from:r.state[a],to:n}),r.state[a]=n}),i&&$r(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function Tx(e,t){return wt(e,TN),e.state=wt({},e.state,t),typeof e.handleStateChanged=="function"&&$r(e)&&e.on("statechanged",e.handleStateChanged),e}var Du=function(t){return typeof t!="string"?t:t.replace(/./,function(r){return r.toLowerCase()})},Lt=function(t){return typeof t!="string"?t:t.replace(/./,function(r){return r.toUpperCase()})},SN=function(t,r){return Lt(t)===Lt(r)};function _t(){for(var e={},t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return r.forEach(function(n){!n||Za(n,function(a,s){if(!Qo(a)){e[s]=a;return}Qo(e[s])||(e[s]={}),e[s]=_t(e[s],a)})}),e}var xN=function(){function e(){this.map_={}}var t=e.prototype;return t.has=function(i){return i in this.map_},t.delete=function(i){var n=this.has(i);return delete this.map_[i],n},t.set=function(i,n){return this.map_[i]=n,this},t.forEach=function(i,n){for(var a in this.map_)i.call(n,this.map_[a],a,this)},e}(),EN=U.Map?U.Map:xN,CN=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(i){return i in this.set_},t.delete=function(i){var n=this.has(i);return delete this.set_[i],n},t.add=function(i){return this.set_[i]=1,this},t.forEach=function(i,n){for(var a in this.set_)i.call(n,a,a,this)},e}(),nf=U.Set?U.Set:CN,oe=function(){function e(r,i,n){var a=this;if(!r&&this.play?this.player_=r=this:this.player_=r,this.isDisposed_=!1,this.parentComponent_=null,this.options_=_t({},this.options_),i=this.options_=_t(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var s=r&&r.id&&r.id()||"no_player";this.id_=s+"_component_"+ri()}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(function(o){return a.addClass(o)}),i.evented!==!1&&(cm(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Tx(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new nf,this.setIntervalIds_=new nf,this.rafIds_=new nf,this.namedRafs_=new EN,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(n),i.reportTouchActivity!==!1&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(i){return i?(this.options_=_t(this.options_,i),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(i,n,a){return rt(i,n,a)},t.localize=function(i,n,a){a===void 0&&(a=i);var s=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),l=o&&o[s],u=s&&s.split("-")[0],c=o&&o[u],f=a;return l&&l[i]?f=l[i]:c&&c[i]&&(f=c[i]),n&&(f=f.replace(/\{(\d+)\}/g,function(d,p){var y=n[p-1],b=y;return typeof y=="undefined"&&(b=d),b})),f},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(i){return this.childIndex_[i]},t.getChild=function(i){if(!!i)return this.childNameIndex_[i]},t.getDescendant=function(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];n=n.reduce(function(l,u){return l.concat(u)},[]);for(var s=this,o=0;o<n.length;o++)if(s=s.getChild(n[o]),!s||!s.getChild)return;return s},t.addChild=function(i,n,a){n===void 0&&(n={}),a===void 0&&(a=this.children_.length);var s,o;if(typeof i=="string"){o=Lt(i);var l=n.componentClass||o;n.name=o;var u=e.getComponent(l);if(!u)throw new Error("Component "+l+" does not exist");if(typeof u!="function")return null;s=new u(this.player_||this,n)}else s=i;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(a,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),o=o||s.name&&Lt(s.name()),o&&(this.childNameIndex_[o]=s,this.childNameIndex_[Du(o)]=s),typeof s.el=="function"&&s.el()){var c=null;this.children_[a+1]&&(this.children_[a+1].el_?c=this.children_[a+1].el_:As(this.children_[a+1])&&(c=this.children_[a+1])),this.contentEl().insertBefore(s.el(),c)}return s},t.removeChild=function(i){if(typeof i=="string"&&(i=this.getChild(i)),!(!i||!this.children_)){for(var n=!1,a=this.children_.length-1;a>=0;a--)if(this.children_[a]===i){n=!0,this.children_.splice(a,1);break}if(!!n){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[Lt(i.name())]=null,this.childNameIndex_[Du(i.name())]=null;var s=i.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},t.initChildren=function(){var i=this,n=this.options_.children;if(n){var a=this.options_,s=function(c){var f=c.name,d=c.opts;if(a[f]!==void 0&&(d=a[f]),d!==!1){d===!0&&(d={}),d.playerOptions=i.options_.playerOptions;var p=i.addChild(f,d);p&&(i[f]=p)}},o,l=e.getComponent("Tech");Array.isArray(n)?o=n:o=Object.keys(n),o.concat(Object.keys(this.options_).filter(function(u){return!o.some(function(c){return typeof c=="string"?u===c:u===c.name})})).map(function(u){var c,f;return typeof u=="string"?(c=u,f=n[c]||i.options_[c]||{}):(c=u.name,f=u),{name:c,opts:f}}).filter(function(u){var c=e.getComponent(u.opts.componentClass||Lt(u.name));return c&&!l.isTech(c)}).forEach(s)}},t.buildCSSClass=function(){return""},t.ready=function(i,n){if(n===void 0&&(n=!1),!!i){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(i);return}n?i.call(this):this.setTimeout(i,1)}},t.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)},t.$=function(i,n){return Si(i,n||this.contentEl())},t.$$=function(i,n){return fx(i,n||this.contentEl())},t.hasClass=function(i){return Qi(this.el_,i)},t.addClass=function(i){Vr(this.el_,i)},t.removeClass=function(i){Tl(this.el_,i)},t.toggleClass=function(i,n){ix(this.el_,i,n)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(i){return sx(this.el_,i)},t.setAttribute=function(i,n){vs(this.el_,i,n)},t.removeAttribute=function(i){sd(this.el_,i)},t.width=function(i,n){return this.dimension("width",i,n)},t.height=function(i,n){return this.dimension("height",i,n)},t.dimensions=function(i,n){this.width(i,!0),this.height(n)},t.dimension=function(i,n,a){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[i]=n:n==="auto"?this.el_.style[i]="":this.el_.style[i]=n+"px",a||this.trigger("componentresize");return}if(!this.el_)return 0;var s=this.el_.style[i],o=s.indexOf("px");return parseInt(o!==-1?s.slice(0,o):this.el_["offset"+Lt(i)],10)},t.currentDimension=function(i){var n=0;if(i!=="width"&&i!=="height")throw new Error("currentDimension only accepts width or height value");if(n=Jo(this.el_,i),n=parseFloat(n),n===0||isNaN(n)){var a="offset"+Lt(i);n=this.el_[a]}return n},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(i){this.player_&&(We.isEventKey(i,"Tab")||i.stopPropagation(),this.player_.handleKeyDown(i))},t.handleKeyPress=function(i){this.handleKeyDown(i)},t.emitTapEvents=function(){var i=0,n=null,a=10,s=200,o;this.on("touchstart",function(u){u.touches.length===1&&(n={pageX:u.touches[0].pageX,pageY:u.touches[0].pageY},i=U.performance.now(),o=!0)}),this.on("touchmove",function(u){if(u.touches.length>1)o=!1;else if(n){var c=u.touches[0].pageX-n.pageX,f=u.touches[0].pageY-n.pageY,d=Math.sqrt(c*c+f*f);d>a&&(o=!1)}});var l=function(){o=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(u){if(n=null,o===!0){var c=U.performance.now()-i;c<s&&(u.preventDefault(),this.trigger("tap"))}})},t.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var i=Tt(this.player(),this.player().reportUserActivity),n;this.on("touchstart",function(){i(),this.clearInterval(n),n=this.setInterval(i,250)});var a=function(o){i(),this.clearInterval(n)};this.on("touchmove",i),this.on("touchend",a),this.on("touchcancel",a)}},t.setTimeout=function(i,n){var a=this,s;return i=Tt(this,i),this.clearTimersOnDispose_(),s=U.setTimeout(function(){a.setTimeoutIds_.has(s)&&a.setTimeoutIds_.delete(s),i()},n),this.setTimeoutIds_.add(s),s},t.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),U.clearTimeout(i)),i},t.setInterval=function(i,n){i=Tt(this,i),this.clearTimersOnDispose_();var a=U.setInterval(i,n);return this.setIntervalIds_.add(a),a},t.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),U.clearInterval(i)),i},t.requestAnimationFrame=function(i){var n=this;if(!this.supportsRaf_)return this.setTimeout(i,1e3/60);this.clearTimersOnDispose_();var a;return i=Tt(this,i),a=U.requestAnimationFrame(function(){n.rafIds_.has(a)&&n.rafIds_.delete(a),i()}),this.rafIds_.add(a),a},t.requestNamedAnimationFrame=function(i,n){var a=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),n=Tt(this,n);var s=this.requestAnimationFrame(function(){n(),a.namedRafs_.has(i)&&a.namedRafs_.delete(i)});return this.namedRafs_.set(i,s),i}},t.cancelNamedAnimationFrame=function(i){!this.namedRafs_.has(i)||(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},t.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),U.cancelAnimationFrame(i)),i):this.clearTimeout(i)},t.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(n){var a=n[0],s=n[1];i[a].forEach(function(o,l){return i[s](l)})}),i.clearingTimersOnDispose_=!1}))},e.registerComponent=function(i,n){if(typeof i!="string"||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var a=e.getComponent("Tech"),s=a&&a.isTech(n),o=e===n||e.prototype.isPrototypeOf(n.prototype);if(s||!o){var l;throw s?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error('Illegal component, "'+i+'"; '+l+".")}i=Lt(i),e.components_||(e.components_={});var u=e.getComponent("Player");if(i==="Player"&&u&&u.players){var c=u.players,f=Object.keys(c);if(c&&f.length>0&&f.map(function(d){return c[d]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[i]=n,e.components_[Du(i)]=n,n},e.getComponent=function(i){if(!(!i||!e.components_))return e.components_[i]},e}();oe.prototype.supportsRaf_=typeof U.requestAnimationFrame=="function"&&typeof U.cancelAnimationFrame=="function";oe.registerComponent("Component",oe);function wN(e,t,r){if(typeof t!="number"||t<0||t>r)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+r+").")}function iy(e,t,r,i){return wN(e,i,r.length-1),r[i][t]}function rf(e){var t;return e===void 0||e.length===0?t={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:t={length:e.length,start:iy.bind(null,"start",0,e),end:iy.bind(null,"end",1,e)},U.Symbol&&U.Symbol.iterator&&(t[U.Symbol.iterator]=function(){return(e||[]).values()}),t}function Ji(e,t){return Array.isArray(e)?rf(e):e===void 0||t===void 0?rf():rf([[e,t]])}function Sx(e,t){var r=0,i,n;if(!t)return 0;(!e||!e.length)&&(e=Ji(0,0));for(var a=0;a<e.length;a++)i=e.start(a),n=e.end(a),n>t&&(n=t),r+=n-i;return r/t}function _n(e){if(e instanceof _n)return e;typeof e=="number"?this.code=e:typeof e=="string"?this.message=e:Gr(e)&&(typeof e.code=="number"&&(this.code=e.code),wt(this,e)),this.message||(this.message=_n.defaultMessages[this.code]||"")}_n.prototype.code=0;_n.prototype.message="";_n.prototype.status=null;_n.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];_n.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Ma=0;Ma<_n.errorTypes.length;Ma++)_n[_n.errorTypes[Ma]]=Ma,_n.prototype[_n.errorTypes[Ma]]=Ma;function Co(e){return e!=null&&typeof e.then=="function"}function mr(e){Co(e)&&e.then(null,function(t){})}var Sh=function(t){var r=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,n,a){return t[n]&&(i[n]=t[n]),i},{cues:t.cues&&Array.prototype.map.call(t.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})});return r},kN=function(t){var r=t.$$("track"),i=Array.prototype.map.call(r,function(a){return a.track}),n=Array.prototype.map.call(r,function(a){var s=Sh(a.track);return a.src&&(s.src=a.src),s});return n.concat(Array.prototype.filter.call(t.textTracks(),function(a){return i.indexOf(a)===-1}).map(Sh))},PN=function(t,r){return t.forEach(function(i){var n=r.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(a){return n.addCue(a)})}),r.textTracks()},ay={textTracksToJson:kN,jsonToTextTracks:PN,trackToJson_:Sh},af="vjs-modal-dialog",Os=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.close_=function(s){return a.close(s)},a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=rt("div",{className:af+"-content"},{role:"document"}),a.descEl_=rt("p",{className:af+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),ba(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},r.buildCSSClass=function(){return af+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var n=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(n+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),n},r.open=function(){if(!this.opened_){var n=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!n.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&n.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=n.controls(),n.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(n){return typeof n=="boolean"&&this[n?"open":"close"](),this.opened_},r.close=function(){if(!!this.opened_){var n=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&n.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&n.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(n){if(typeof n=="boolean"){var a=this.closeable_=!!n,s=this.getChild("closeButton");if(a&&!s){var o=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(s,"close",this.close_)}!a&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(n){var a=this.contentEl(),s=a.parentNode,o=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(a),this.empty(),dx(a,n),this.trigger("modalfill"),o?s.insertBefore(a,o):s.appendChild(a);var l=this.getChild("closeButton");l&&s.appendChild(l.el_)},r.empty=function(){this.trigger("beforemodalempty"),om(this.contentEl()),this.trigger("modalempty")},r.content=function(n){return typeof n!="undefined"&&(this.content_=n),this.content_},r.conditionalFocus_=function(){var n=ge.activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(n)||a===n)&&(this.previouslyActiveEl_=n,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(n){if(n.stopPropagation(),We.isEventKey(n,"Escape")&&this.closeable()){n.preventDefault(),this.close();return}if(!!We.isEventKey(n,"Tab")){for(var a=this.focusableEls_(),s=this.el_.querySelector(":focus"),o,l=0;l<a.length;l++)if(s===a[l]){o=l;break}ge.activeElement===this.el_&&(o=0),n.shiftKey&&o===0?(a[a.length-1].focus(),n.preventDefault()):!n.shiftKey&&o===a.length-1&&(a[0].focus(),n.preventDefault())}},r.focusableEls_=function(){var n=this.el_.querySelectorAll("*");return Array.prototype.filter.call(n,function(a){return(a instanceof U.HTMLAnchorElement||a instanceof U.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof U.HTMLInputElement||a instanceof U.HTMLSelectElement||a instanceof U.HTMLTextAreaElement||a instanceof U.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof U.HTMLIFrameElement||a instanceof U.HTMLObjectElement||a instanceof U.HTMLEmbedElement||a.hasAttribute("tabindex")&&a.getAttribute("tabindex")!==-1||a.hasAttribute("contenteditable")})},t}(oe);Os.prototype.options_={pauseOnOpen:!0,temporary:!0};oe.registerComponent("ModalDialog",Os);var ys=function(e){Se(t,e);function t(i){var n;i===void 0&&(i=[]),n=e.call(this)||this,n.tracks_=[],Object.defineProperty(je(n),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<i.length;a++)n.addTrack(i[a]);return n}var r=t.prototype;return r.addTrack=function(n){var a=this,s=this.tracks_.length;""+s in this||Object.defineProperty(this,s,{get:function(){return this.tracks_[s]}}),this.tracks_.indexOf(n)===-1&&(this.tracks_.push(n),this.trigger({track:n,type:"addtrack",target:this})),n.labelchange_=function(){a.trigger({track:n,type:"labelchange",target:a})},$r(n)&&n.addEventListener("labelchange",n.labelchange_)},r.removeTrack=function(n){for(var a,s=0,o=this.length;s<o;s++)if(this[s]===n){a=this[s],a.off&&a.off(),this.tracks_.splice(s,1);break}!a||this.trigger({track:a,type:"removetrack",target:this})},r.getTrackById=function(n){for(var a=null,s=0,o=this.length;s<o;s++){var l=this[s];if(l.id===n){a=l;break}}return a},t}(qt);ys.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var AN in ys.prototype.allowedEvents_)ys.prototype["on"+AN]=null;var sf=function(t,r){for(var i=0;i<t.length;i++)!Object.keys(t[i]).length||r.id===t[i].id||(t[i].enabled=!1)},IN=function(e){Se(t,e);function t(i){var n;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].enabled){sf(i,i[a]);break}return n=e.call(this,i)||this,n.changing_=!1,n}var r=t.prototype;return r.addTrack=function(n){var a=this;n.enabled&&sf(this,n),e.prototype.addTrack.call(this,n),n.addEventListener&&(n.enabledChange_=function(){a.changing_||(a.changing_=!0,sf(a,n),a.changing_=!1,a.trigger("change"))},n.addEventListener("enabledchange",n.enabledChange_))},r.removeTrack=function(n){e.prototype.removeTrack.call(this,n),n.removeEventListener&&n.enabledChange_&&(n.removeEventListener("enabledchange",n.enabledChange_),n.enabledChange_=null)},t}(ys),of=function(t,r){for(var i=0;i<t.length;i++)!Object.keys(t[i]).length||r.id===t[i].id||(t[i].selected=!1)},ON=function(e){Se(t,e);function t(i){var n;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].selected){of(i,i[a]);break}return n=e.call(this,i)||this,n.changing_=!1,Object.defineProperty(je(n),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),n}var r=t.prototype;return r.addTrack=function(n){var a=this;n.selected&&of(this,n),e.prototype.addTrack.call(this,n),n.addEventListener&&(n.selectedChange_=function(){a.changing_||(a.changing_=!0,of(a,n),a.changing_=!1,a.trigger("change"))},n.addEventListener("selectedchange",n.selectedChange_))},r.removeTrack=function(n){e.prototype.removeTrack.call(this,n),n.removeEventListener&&n.selectedChange_&&(n.removeEventListener("selectedchange",n.selectedChange_),n.selectedChange_=null)},t}(ys),xx=function(e){Se(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.addTrack=function(n){var a=this;e.prototype.addTrack.call(this,n),this.queueChange_||(this.queueChange_=function(){return a.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return a.trigger("selectedlanguagechange")}),n.addEventListener("modechange",this.queueChange_);var s=["metadata","chapters"];s.indexOf(n.kind)===-1&&n.addEventListener("modechange",this.triggerSelectedlanguagechange_)},r.removeTrack=function(n){e.prototype.removeTrack.call(this,n),n.removeEventListener&&(this.queueChange_&&n.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&n.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(ys),LN=function(){function e(r){r===void 0&&(r=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,n=r.length;i<n;i++)this.addTrackElement_(r[i])}var t=e.prototype;return t.addTrackElement_=function(i){var n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.trackElements_[n]}}),this.trackElements_.indexOf(i)===-1&&this.trackElements_.push(i)},t.getTrackElementByTrack_=function(i){for(var n,a=0,s=this.trackElements_.length;a<s;a++)if(i===this.trackElements_[a].track){n=this.trackElements_[a];break}return n},t.removeTrackElement_=function(i){for(var n=0,a=this.trackElements_.length;n<a;n++)if(i===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}},e}(),sy=function(){function e(r){e.prototype.setCues_.call(this,r),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(i){var n=this.length||0,a=0,s=i.length;this.cues_=i,this.length_=i.length;var o=function(u){""+u in this||Object.defineProperty(this,""+u,{get:function(){return this.cues_[u]}})};if(n<s)for(a=n;a<s;a++)o.call(this,a)},t.getCueById=function(i){for(var n=null,a=0,s=this.length;a<s;a++){var o=this[a];if(o.id===i){n=o;break}}return n},e}(),DN={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},RN={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},MN={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},oy={disabled:"disabled",hidden:"hidden",showing:"showing"},dm=function(e){Se(t,e);function t(r){var i;r===void 0&&(r={}),i=e.call(this)||this;var n={id:r.id||"vjs_track_"+ri(),kind:r.kind||"",language:r.language||""},a=r.label||"",s=function(u){Object.defineProperty(je(i),u,{get:function(){return n[u]},set:function(){}})};for(var o in n)s(o);return Object.defineProperty(je(i),"label",{get:function(){return a},set:function(u){u!==a&&(a=u,this.trigger("labelchange"))}}),i}return t}(qt),fm=function(t){var r=["protocol","hostname","port","pathname","search","hash","host"],i=ge.createElement("a");i.href=t;for(var n={},a=0;a<r.length;a++)n[r[a]]=i[r[a]];return n.protocol==="http:"&&(n.host=n.host.replace(/:80$/,"")),n.protocol==="https:"&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=U.location.protocol),n.host||(n.host=U.location.host),n},Ex=function(t){if(!t.match(/^https?:\/\//)){var r=ge.createElement("a");r.href=t,t=r.href}return t},hm=function(t){if(typeof t=="string"){var r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,i=r.exec(t);if(i)return i.pop().toLowerCase()}return""},dd=function(t,r){r===void 0&&(r=U.location);var i=fm(t),n=i.protocol===":"?r.protocol:i.protocol,a=n+i.host!==r.protocol+r.host;return a},FN=Object.freeze({__proto__:null,parseUrl:fm,getAbsoluteURL:Ex,getFileExtension:hm,isCrossOrigin:dd}),ly=function(t,r){var i=new U.WebVTT.Parser(U,U.vttjs,U.WebVTT.StringDecoder()),n=[];i.oncue=function(a){r.addCue(a)},i.onparsingerror=function(a){n.push(a)},i.onflush=function(){r.trigger({type:"loadeddata",target:r})},i.parse(t),n.length>0&&(U.console&&U.console.groupCollapsed&&U.console.groupCollapsed("Text Track parsing errors for "+r.src),n.forEach(function(a){return Xe.error(a)}),U.console&&U.console.groupEnd&&U.console.groupEnd()),i.flush()},uy=function(t,r){var i={uri:t},n=dd(t);n&&(i.cors=n);var a=r.tech_.crossOrigin()==="use-credentials";a&&(i.withCredentials=a),QT(i,Tt(this,function(s,o,l){if(s)return Xe.error(s,o);r.loaded_=!0,typeof U.WebVTT!="function"?r.tech_&&r.tech_.any(["vttjsloaded","vttjserror"],function(u){if(u.type==="vttjserror"){Xe.error("vttjs failed to load, stopping trying to process "+r.src);return}return ly(l,r)}):ly(l,r)}))},Sl=function(e){Se(t,e);function t(i){var n;if(i===void 0&&(i={}),!i.tech)throw new Error("A tech was not provided.");var a=_t(i,{kind:MN[i.kind]||"subtitles",language:i.language||i.srclang||""}),s=oy[a.mode]||"disabled",o=a.default;(a.kind==="metadata"||a.kind==="chapters")&&(s="hidden"),n=e.call(this,a)||this,n.tech_=a.tech,n.cues_=[],n.activeCues_=[],n.preload_=n.tech_.preloadTextTracks!==!1;var l=new sy(n.cues_),u=new sy(n.activeCues_),c=!1;n.timeupdateHandler=Tt(je(n),function(){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler);return}this.activeCues=this.activeCues,c&&(this.trigger("cuechange"),c=!1),this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)}});var f=function(){n.stopTracking()};return n.tech_.one("dispose",f),s!=="disabled"&&n.startTracking(),Object.defineProperties(je(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return s},set:function(p){!oy[p]||s!==p&&(s=p,!this.preload_&&s!=="disabled"&&this.cues.length===0&&uy(this.src,this),this.stopTracking(),s!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return u;for(var p=this.tech_.currentTime(),y=[],b=0,T=this.cues.length;b<T;b++){var S=this.cues[b];(S.startTime<=p&&S.endTime>=p||S.startTime===S.endTime&&S.startTime<=p&&S.startTime+.5>=p)&&y.push(S)}if(c=!1,y.length!==this.activeCues_.length)c=!0;else for(var w=0;w<y.length;w++)this.activeCues_.indexOf(y[w])===-1&&(c=!0);return this.activeCues_=y,u.setCues_(this.activeCues_),u},set:function(){}}}),a.src?(n.src=a.src,n.preload_||(n.loaded_=!0),(n.preload_||a.kind!=="subtitles"&&a.kind!=="captions")&&uy(n.src,je(n))):n.loaded_=!0,n}var r=t.prototype;return r.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)},r.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0)},r.addCue=function(n){var a=n;if(U.vttjs&&!(n instanceof U.vttjs.VTTCue)){a=new U.vttjs.VTTCue(n.startTime,n.endTime,n.text);for(var s in n)s in a||(a[s]=n[s]);a.id=n.id,a.originalCue_=n}for(var o=this.tech_.textTracks(),l=0;l<o.length;l++)o[l]!==this&&o[l].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},r.removeCue=function(n){for(var a=this.cues_.length;a--;){var s=this.cues_[a];if(s===n||s.originalCue_&&s.originalCue_===n){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},t}(dm);Sl.prototype.allowedEvents_={cuechange:"cuechange"};var Cx=function(e){Se(t,e);function t(r){var i;r===void 0&&(r={});var n=_t(r,{kind:RN[r.kind]||""});i=e.call(this,n)||this;var a=!1;return Object.defineProperty(je(i),"enabled",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("enabledchange"))}}),n.enabled&&(i.enabled=n.enabled),i.loaded_=!0,i}return t}(dm),wx=function(e){Se(t,e);function t(r){var i;r===void 0&&(r={});var n=_t(r,{kind:DN[r.kind]||""});i=e.call(this,n)||this;var a=!1;return Object.defineProperty(je(i),"selected",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("selectedchange"))}}),n.selected&&(i.selected=n.selected),i}return t}(dm),kx=0,NN=1,Px=2,BN=3,Ls=function(e){Se(t,e);function t(r){var i;r===void 0&&(r={}),i=e.call(this)||this;var n,a=new Sl(r);return i.kind=a.kind,i.src=a.src,i.srclang=a.language,i.label=a.label,i.default=a.default,Object.defineProperties(je(i),{readyState:{get:function(){return n}},track:{get:function(){return a}}}),n=kx,a.addEventListener("loadeddata",function(){n=Px,i.trigger({type:"load",target:je(i)})}),i}return t}(qt);Ls.prototype.allowedEvents_={load:"load"};Ls.NONE=kx;Ls.LOADING=NN;Ls.LOADED=Px;Ls.ERROR=BN;var Wn={audio:{ListClass:IN,TrackClass:Cx,capitalName:"Audio"},video:{ListClass:ON,TrackClass:wx,capitalName:"Video"},text:{ListClass:xx,TrackClass:Sl,capitalName:"Text"}};Object.keys(Wn).forEach(function(e){Wn[e].getterName=e+"Tracks",Wn[e].privateName=e+"Tracks_"});var _s={remoteText:{ListClass:xx,TrackClass:Sl,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:LN,TrackClass:Ls,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},mn=qn({},Wn,_s);_s.names=Object.keys(_s);Wn.names=Object.keys(Wn);mn.names=[].concat(_s.names).concat(Wn.names);function UN(e,t,r,i,n){n===void 0&&(n={});var a=e.textTracks();n.kind=t,r&&(n.label=r),i&&(n.language=i),n.tech=e;var s=new mn.text.TrackClass(n);return a.addTrack(s),s}var mt=function(e){Se(t,e);function t(i,n){var a;return i===void 0&&(i={}),n===void 0&&(n=function(){}),i.reportTouchActivity=!1,a=e.call(this,null,i,n)||this,a.onDurationChange_=function(s){return a.onDurationChange(s)},a.trackProgress_=function(s){return a.trackProgress(s)},a.trackCurrentTime_=function(s){return a.trackCurrentTime(s)},a.stopTrackingCurrentTime_=function(s){return a.stopTrackingCurrentTime(s)},a.disposeSourceHandler_=function(s){return a.disposeSourceHandler(s)},a.queuedHanders_=new Set,a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),mn.names.forEach(function(s){var o=mn[s];i&&i[o.getterName]&&(a[o.privateName]=i[o.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){i["native"+s+"Tracks"]===!1&&(a["featuresNative"+s+"Tracks"]=!1)}),i.nativeCaptions===!1||i.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:(i.nativeCaptions===!0||i.nativeTextTracks===!0)&&(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.preloadTextTracks=i.preloadTextTracks!==!1,a.autoRemoteTextTracks_=new mn.text.ListClass,a.initTrackListeners(),i.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}var r=t.prototype;return r.triggerSourceset=function(n){var a=this;this.isReady_||this.one("ready",function(){return a.setTimeout(function(){return a.triggerSourceset(n)},1)}),this.trigger({src:n,type:"sourceset"})},r.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},r.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},r.trackProgress=function(n){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Tt(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,a===1&&this.stopTrackingProgress()}),500)},r.onDurationChange=function(n){this.duration_=this.duration()},r.buffered=function(){return Ji(0,0)},r.bufferedPercent=function(){return Sx(this.buffered(),this.duration_)},r.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},r.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},r.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},r.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.dispose=function(){this.clearTracks(Wn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},r.clearTracks=function(n){var a=this;n=[].concat(n),n.forEach(function(s){for(var o=a[s+"Tracks"]()||[],l=o.length;l--;){var u=o[l];s==="text"&&a.removeRemoteTextTrack(u),o.removeTrack(u)}})},r.cleanupAutoTextTracks=function(){for(var n=this.autoRemoteTextTracks_||[],a=n.length;a--;){var s=n[a];this.removeRemoteTextTrack(s)}},r.reset=function(){},r.crossOrigin=function(){},r.setCrossOrigin=function(){},r.error=function(n){return n!==void 0&&(this.error_=new _n(n),this.trigger("error")),this.error_},r.played=function(){return this.hasStarted_?Ji(0,0):Ji()},r.play=function(){},r.setScrubbing=function(){},r.scrubbing=function(){},r.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.initTrackListeners=function(){var n=this;Wn.names.forEach(function(a){var s=Wn[a],o=function(){n.trigger(a+"trackchange")},l=n[s.getterName]();l.addEventListener("removetrack",o),l.addEventListener("addtrack",o),n.on("dispose",function(){l.removeEventListener("removetrack",o),l.removeEventListener("addtrack",o)})})},r.addWebVttScript_=function(){var n=this;if(!U.WebVTT)if(ge.body.contains(this.el())){if(!this.options_["vtt.js"]&&Qo(w0)&&Object.keys(w0).length>0){this.trigger("vttjsloaded");return}var a=ge.createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",a.onload=function(){n.trigger("vttjsloaded")},a.onerror=function(){n.trigger("vttjserror")},this.on("dispose",function(){a.onload=null,a.onerror=null}),U.WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},r.emulateTextTracks=function(){var n=this,a=this.textTracks(),s=this.remoteTextTracks(),o=function(d){return a.addTrack(d.track)},l=function(d){return a.removeTrack(d.track)};s.on("addtrack",o),s.on("removetrack",l),this.addWebVttScript_();var u=function(){return n.trigger("texttrackchange")},c=function(){u();for(var d=0;d<a.length;d++){var p=a[d];p.removeEventListener("cuechange",u),p.mode==="showing"&&p.addEventListener("cuechange",u)}};c(),a.addEventListener("change",c),a.addEventListener("addtrack",c),a.addEventListener("removetrack",c),this.on("dispose",function(){s.off("addtrack",o),s.off("removetrack",l),a.removeEventListener("change",c),a.removeEventListener("addtrack",c),a.removeEventListener("removetrack",c);for(var f=0;f<a.length;f++){var d=a[f];d.removeEventListener("cuechange",u)}})},r.addTextTrack=function(n,a,s){if(!n)throw new Error("TextTrack kind is required but was not provided");return UN(this,n,a,s)},r.createRemoteTextTrack=function(n){var a=_t(n,{tech:this});return new _s.remoteTextEl.TrackClass(a)},r.addRemoteTextTrack=function(n,a){var s=this;n===void 0&&(n={});var o=this.createRemoteTextTrack(n);return a!==!0&&a!==!1&&(Xe.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),a=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),a!==!0&&this.ready(function(){return s.autoRemoteTextTracks_.addTrack(o.track)}),o},r.removeRemoteTextTrack=function(n){var a=this.remoteTextTrackEls().getTrackElementByTrack_(n);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(n),this.autoRemoteTextTracks_.removeTrack(n)},r.getVideoPlaybackQuality=function(){return{}},r.requestPictureInPicture=function(){var n=this.options_.Promise||U.Promise;if(n)return n.reject()},r.disablePictureInPicture=function(){return!0},r.setDisablePictureInPicture=function(){},r.requestVideoFrameCallback=function(n){var a=this,s=ri();return this.paused()?(this.queuedHanders_.add(s),this.one("playing",function(){a.queuedHanders_.has(s)&&(a.queuedHanders_.delete(s),n())})):this.requestNamedAnimationFrame(s,n),s},r.cancelVideoFrameCallback=function(n){this.queuedHanders_.has(n)?this.queuedHanders_.delete(n):this.cancelNamedAnimationFrame(n)},r.setPoster=function(){},r.playsinline=function(){},r.setPlaysinline=function(){},r.overrideNativeAudioTracks=function(){},r.overrideNativeVideoTracks=function(){},r.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(n,a){return t.canPlayType(n.type)},t.isTech=function(n){return n.prototype instanceof t||n instanceof t||n===t},t.registerTech=function(n,a){if(t.techs_||(t.techs_={}),!t.isTech(a))throw new Error("Tech "+n+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return n=Lt(n),t.techs_[n]=a,t.techs_[Du(n)]=a,n!=="Tech"&&t.defaultTechOrder_.push(n),a},t.getTech=function(n){if(!!n){if(t.techs_&&t.techs_[n])return t.techs_[n];if(n=Lt(n),U&&U.videojs&&U.videojs[n])return Xe.warn("The "+n+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),U.videojs[n]}},t}(oe);mn.names.forEach(function(e){var t=mn[e];mt.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}});mt.prototype.featuresVolumeControl=!0;mt.prototype.featuresMuteControl=!0;mt.prototype.featuresFullscreenResize=!1;mt.prototype.featuresPlaybackRate=!1;mt.prototype.featuresProgressEvents=!1;mt.prototype.featuresSourceset=!1;mt.prototype.featuresTimeupdateEvents=!1;mt.prototype.featuresNativeTextTracks=!1;mt.prototype.featuresVideoFrameCallback=!1;mt.withSourceHandlers=function(e){e.registerSourceHandler=function(r,i){var n=e.sourceHandlers;n||(n=e.sourceHandlers=[]),i===void 0&&(i=n.length),n.splice(i,0,r)},e.canPlayType=function(r){for(var i=e.sourceHandlers||[],n,a=0;a<i.length;a++)if(n=i[a].canPlayType(r),n)return n;return""},e.selectSourceHandler=function(r,i){for(var n=e.sourceHandlers||[],a,s=0;s<n.length;s++)if(a=n[s].canHandleSource(r,i),a)return n[s];return null},e.canPlaySource=function(r,i){var n=e.selectSourceHandler(r,i);return n?n.canHandleSource(r,i):""};var t=["seekable","seeking","duration"];t.forEach(function(r){var i=this[r];typeof i=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(r){var i=e.selectSourceHandler(r,this.options_);i||(e.nativeSourceHandler?i=e.nativeSourceHandler:Xe.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==e.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=i.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};oe.registerComponent("Tech",mt);mt.registerTech("Tech",mt);mt.defaultTechOrder_=[];var Zi={},xh={},cc={};function VN(e,t){Zi[e]=Zi[e]||[],Zi[e].push(t)}function $N(e,t,r){e.setTimeout(function(){return $i(t,Zi[t.type],r,e)},1)}function jN(e,t){e.forEach(function(r){return r.setTech&&r.setTech(t)})}function HN(e,t,r){return e.reduceRight(pm(r),t[r]())}function WN(e,t,r,i){return t[r](e.reduce(pm(r),i))}function cy(e,t,r,i){i===void 0&&(i=null);var n="call"+Lt(r),a=e.reduce(pm(n),i),s=a===cc,o=s?null:t[r](a);return GN(e,r,o,s),o}var zN={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},qN={setCurrentTime:1,setMuted:1,setVolume:1},dy={play:1,pause:1};function pm(e){return function(t,r){return t===cc?cc:r[e]?r[e](t):t}}function GN(e,t,r,i){for(var n=e.length-1;n>=0;n--){var a=e[n];a[t]&&a[t](i,r)}}function KN(e){xh[e.id()]=null}function XN(e,t){var r=xh[e.id()],i=null;if(r==null)return i=t(e),xh[e.id()]=[[t,i]],i;for(var n=0;n<r.length;n++){var a=r[n],s=a[0],o=a[1];s===t&&(i=o)}return i===null&&(i=t(e),r.push([t,i])),i}function $i(e,t,r,i,n,a){e===void 0&&(e={}),t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a=!1);var s=t,o=s[0],l=s.slice(1);if(typeof o=="string")$i(e,Zi[o],r,i,n,a);else if(o){var u=XN(i,o);if(!u.setSource)return n.push(u),$i(e,l,r,i,n,a);u.setSource(wt({},e),function(c,f){if(c)return $i(e,l,r,i,n,a);n.push(u),$i(f,e.type===f.type?l:Zi[f.type],r,i,n,a)})}else l.length?$i(e,l,r,i,n,a):a?r(e,n):$i(e,Zi["*"],r,i,n,!0)}var YN={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},dc=function(t){t===void 0&&(t="");var r=hm(t),i=YN[r.toLowerCase()];return i||""},QN=function(t,r){if(!r)return"";if(t.cache_.source.src===r&&t.cache_.source.type)return t.cache_.source.type;var i=t.cache_.sources.filter(function(o){return o.src===r});if(i.length)return i[0].type;for(var n=t.$$("source"),a=0;a<n.length;a++){var s=n[a];if(s.type&&s.src&&s.src===r)return s.type}return dc(r)},JN=function e(t){if(Array.isArray(t)){var r=[];t.forEach(function(i){i=e(i),Array.isArray(i)?r=r.concat(i):Gr(i)&&r.push(i)}),t=r}else typeof t=="string"&&t.trim()?t=[fy({src:t})]:Gr(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[fy(t)]:t=[];return t};function fy(e){if(!e.type){var t=dc(e.src);t&&(e.type=t)}return e}var ZN=function(e){Se(t,e);function t(r,i,n){var a,s=_t({createEl:!1},i);if(a=e.call(this,r,s,n)||this,!i.playerOptions.sources||i.playerOptions.sources.length===0)for(var o=0,l=i.playerOptions.techOrder;o<l.length;o++){var u=Lt(l[o]),c=mt.getTech(u);if(u||(c=oe.getComponent(u)),c&&c.isSupported()){r.loadTech_(u);break}}else r.src(i.playerOptions.sources);return a}return t}(oe);oe.registerComponent("MediaLoader",ZN);var fd=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.options_.controlText&&a.controlText(a.options_.controlText),a.handleMouseOver_=function(s){return a.handleMouseOver(s)},a.handleMouseOut_=function(s){return a.handleMouseOut(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.emitTapEvents(),a.enable(),a}var r=t.prototype;return r.createEl=function(n,a,s){n===void 0&&(n="div"),a===void 0&&(a={}),s===void 0&&(s={}),a=wt({className:this.buildCSSClass(),tabIndex:0},a),n==="button"&&Xe.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),s=wt({role:"button"},s),this.tabIndex_=a.tabIndex;var o=rt(n,a,s);return o.appendChild(rt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},r.createControlTextEl=function(n){return this.controlTextEl_=rt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),n&&n.appendChild(this.controlTextEl_),this.controlText(this.controlText_,n),this.controlTextEl_},r.controlText=function(n,a){if(a===void 0&&(a=this.el()),n===void 0)return this.controlText_||"Need Text";var s=this.localize(n);this.controlText_=n,ba(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&a.setAttribute("title",s)},r.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},r.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_!="undefined"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},r.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_!="undefined"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},r.handleLanguagechange=function(){this.controlText(this.controlText_)},r.handleClick=function(n){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},r.handleKeyDown=function(n){We.isEventKey(n,"Space")||We.isEventKey(n,"Enter")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,n)},t}(oe);oe.registerComponent("ClickableComponent",fd);var eB=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.update(),a.update_=function(s){return a.update(s)},i.on("posterchange",a.update_),a}var r=t.prototype;return r.dispose=function(){this.player().off("posterchange",this.update_),e.prototype.dispose.call(this)},r.createEl=function(){var n=rt("div",{className:"vjs-poster",tabIndex:-1});return n},r.update=function(n){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},r.setSrc=function(n){var a="";n&&(a='url("'+n+'")'),this.el_.style.backgroundImage=a},r.handleClick=function(n){if(!!this.player_.controls()){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((bl||_l)&&a)&&this.player_.tech(!0).focus(),this.player_.paused()?mr(this.player_.play()):this.player_.pause()}},t}(fd);oe.registerComponent("PosterImage",eB);var Vn="#222",hy="#ccc",tB={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function lf(e,t){var r;if(e.length===4)r=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else if(e.length===7)r=e.slice(1);else throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+t+")"}function uf(e,t,r){try{e.style[t]=r}catch{return}}var nB=function(e){Se(t,e);function t(i,n,a){var s;s=e.call(this,i,n,a)||this;var o=function(u){return s.updateDisplay(u)};return i.on("loadstart",function(l){return s.toggleDisplay(l)}),i.on("texttrackchange",o),i.on("loadedmetadata",function(l){return s.preselectTrack(l)}),i.ready(Tt(je(s),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks){this.hide();return}i.on("fullscreenchange",o),i.on("playerresize",o),U.addEventListener("orientationchange",o),i.on("dispose",function(){return U.removeEventListener("orientationchange",o)});for(var l=this.options_.playerOptions.tracks||[],u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()})),s}var r=t.prototype;return r.preselectTrack=function(){for(var n={captions:1,subtitles:1},a=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,o,l,u,c=0;c<a.length;c++){var f=a[c];s&&s.enabled&&s.language&&s.language===f.language&&f.kind in n?f.kind===s.kind?u=f:u||(u=f):s&&!s.enabled?(u=null,o=null,l=null):f.default&&(f.kind==="descriptions"&&!o?o=f:f.kind in n&&!l&&(l=f))}u?u.mode="showing":l?l.mode="showing":o&&(o.mode="showing")},r.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},r.clearDisplay=function(){typeof U.WebVTT=="function"&&U.WebVTT.processCues(U,[],this.el_)},r.updateDisplay=function(){var n=this.player_.textTracks(),a=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),a){for(var s=[],o=0;o<n.length;++o){var l=n[o];l.mode==="showing"&&s.push(l)}this.updateForTrack(s);return}for(var u=null,c=null,f=n.length;f--;){var d=n[f];d.mode==="showing"&&(d.kind==="descriptions"?u=d:c=d)}c?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(c)):u&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(u))},r.updateDisplayState=function(n){for(var a=this.player_.textTrackSettings.getValues(),s=n.activeCues,o=s.length;o--;){var l=s[o];if(!!l){var u=l.displayState;if(a.color&&(u.firstChild.style.color=a.color),a.textOpacity&&uf(u.firstChild,"color",lf(a.color||"#fff",a.textOpacity)),a.backgroundColor&&(u.firstChild.style.backgroundColor=a.backgroundColor),a.backgroundOpacity&&uf(u.firstChild,"backgroundColor",lf(a.backgroundColor||"#000",a.backgroundOpacity)),a.windowColor&&(a.windowOpacity?uf(u,"backgroundColor",lf(a.windowColor,a.windowOpacity)):u.style.backgroundColor=a.windowColor),a.edgeStyle&&(a.edgeStyle==="dropshadow"?u.firstChild.style.textShadow="2px 2px 3px "+Vn+", 2px 2px 4px "+Vn+", 2px 2px 5px "+Vn:a.edgeStyle==="raised"?u.firstChild.style.textShadow="1px 1px "+Vn+", 2px 2px "+Vn+", 3px 3px "+Vn:a.edgeStyle==="depressed"?u.firstChild.style.textShadow="1px 1px "+hy+", 0 1px "+hy+", -1px -1px "+Vn+", 0 -1px "+Vn:a.edgeStyle==="uniform"&&(u.firstChild.style.textShadow="0 0 4px "+Vn+", 0 0 4px "+Vn+", 0 0 4px "+Vn+", 0 0 4px "+Vn)),a.fontPercent&&a.fontPercent!==1){var c=U.parseFloat(u.style.fontSize);u.style.fontSize=c*a.fontPercent+"px",u.style.height="auto",u.style.top="auto"}a.fontFamily&&a.fontFamily!=="default"&&(a.fontFamily==="small-caps"?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=tB[a.fontFamily])}}},r.updateForTrack=function(n){if(Array.isArray(n)||(n=[n]),!(typeof U.WebVTT!="function"||n.every(function(p){return!p.activeCues}))){for(var a=[],s=0;s<n.length;++s)for(var o=n[s],l=0;l<o.activeCues.length;++l)a.push(o.activeCues[l]);U.WebVTT.processCues(U,a,this.el_);for(var u=0;u<n.length;++u){for(var c=n[u],f=0;f<c.activeCues.length;++f){var d=c.activeCues[f].displayState;Vr(d,"vjs-text-track-cue"),Vr(d,"vjs-text-track-cue-"+(c.language?c.language:u)),c.language&&vs(d,"lang",c.language)}this.player_.textTrackSettings&&this.updateDisplayState(c)}}},t}(oe);oe.registerComponent("TextTrackDisplay",nB);var rB=function(e){Se(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.createEl=function(){var n=this.player_.isAudio(),a=this.localize(n?"Audio Player":"Video Player"),s=rt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[a])}),o=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(s),o},t}(oe);oe.registerComponent("LoadingSpinner",rB);var ir=function(e){Se(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.createEl=function(n,a,s){a===void 0&&(a={}),s===void 0&&(s={}),n="button",a=wt({className:this.buildCSSClass()},a),s=wt({type:"button"},s);var o=rt(n,a,s);return o.appendChild(rt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.addChild=function(n,a){a===void 0&&(a={});var s=this.constructor.name;return Xe.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),oe.prototype.addChild.call(this,n,a)},r.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},r.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},r.handleKeyDown=function(n){if(We.isEventKey(n,"Space")||We.isEventKey(n,"Enter")){n.stopPropagation();return}e.prototype.handleKeyDown.call(this,n)},t}(fd);oe.registerComponent("Button",ir);var Ax=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.mouseused_=!1,a.on("mousedown",function(s){return a.handleMouseDown(s)}),a}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-big-play-button"},r.handleClick=function(n){var a=this.player_.play();if(this.mouseused_&&n.clientX&&n.clientY){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;mr(a),this.player_.tech(!0)&&!((bl||_l)&&s)&&this.player_.tech(!0).focus();return}var o=this.player_.getChild("controlBar"),l=o&&o.getChild("playToggle");if(!l){this.player_.tech(!0).focus();return}var u=function(){return l.focus()};Co(a)?a.then(u,function(){}):this.setTimeout(u,1)},r.handleKeyDown=function(n){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,n)},r.handleMouseDown=function(n){this.mouseused_=!0},t}(ir);Ax.prototype.controlText_="Play Video";oe.registerComponent("BigPlayButton",Ax);var iB=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.controlText(n&&n.controlText||a.localize("Close")),a}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},r.handleClick=function(n){this.trigger({type:"close",bubbles:!1})},r.handleKeyDown=function(n){We.isEventKey(n,"Esc")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,n)},t}(ir);oe.registerComponent("CloseButton",iB);var Ix=function(e){Se(t,e);function t(i,n){var a;return n===void 0&&(n={}),a=e.call(this,i,n)||this,n.replay=n.replay===void 0||n.replay,a.on(i,"play",function(s){return a.handlePlay(s)}),a.on(i,"pause",function(s){return a.handlePause(s)}),n.replay&&a.on(i,"ended",function(s){return a.handleEnded(s)}),a}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},r.handleClick=function(n){this.player_.paused()?mr(this.player_.play()):this.player_.pause()},r.handleSeeked=function(n){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(n):this.handlePlay(n)},r.handlePlay=function(n){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},r.handlePause=function(n){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},r.handleEnded=function(n){var a=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(s){return a.handleSeeked(s)})},t}(ir);Ix.prototype.controlText_="Play";oe.registerComponent("PlayToggle",Ix);var Ox=function(t,r){t=t<0?0:t;var i=Math.floor(t%60),n=Math.floor(t/60%60),a=Math.floor(t/3600),s=Math.floor(r/60%60),o=Math.floor(r/3600);return(isNaN(t)||t===1/0)&&(a=n=i="-"),a=a>0||o>0?a+":":"",n=((a||s>=10)&&n<10?"0"+n:n)+":",i=i<10?"0"+i:i,a+n+i},mm=Ox;function aB(e){mm=e}function sB(){mm=Ox}function bs(e,t){return t===void 0&&(t=e),mm(e,t)}var Ds=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.on(i,["timeupdate","ended"],function(s){return a.updateContent(s)}),a.updateTextNode_(),a}var r=t.prototype;return r.createEl=function(){var n=this.buildCSSClass(),a=e.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control"}),s=rt("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return a.appendChild(s),this.contentEl_=rt("span",{className:n+"-display"},{"aria-live":"off",role:"presentation"}),a.appendChild(this.contentEl_),a},r.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},r.updateTextNode_=function(n){var a=this;n===void 0&&(n=0),n=bs(n),this.formattedTime_!==n&&(this.formattedTime_=n,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!a.contentEl_){var s=a.textNode_;s&&a.contentEl_.firstChild!==s&&(s=null,Xe.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),a.textNode_=ge.createTextNode(a.formattedTime_),a.textNode_&&(s?a.contentEl_.replaceChild(a.textNode_,s):a.contentEl_.appendChild(a.textNode_))}}))},r.updateContent=function(n){},t}(oe);Ds.prototype.labelText_="Time";Ds.prototype.controlText_="Time";oe.registerComponent("TimeDisplay",Ds);var vm=function(e){Se(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-current-time"},r.updateContent=function(n){var a;this.player_.ended()?a=this.player_.duration():a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(a)},t}(Ds);vm.prototype.labelText_="Current Time";vm.prototype.controlText_="Current Time";oe.registerComponent("CurrentTimeDisplay",vm);var gm=function(e){Se(t,e);function t(i,n){var a;a=e.call(this,i,n)||this;var s=function(l){return a.updateContent(l)};return a.on(i,"durationchange",s),a.on(i,"loadstart",s),a.on(i,"loadedmetadata",s),a}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-duration"},r.updateContent=function(n){var a=this.player_.duration();this.updateTextNode_(a)},t}(Ds);gm.prototype.labelText_="Duration";gm.prototype.controlText_="Duration";oe.registerComponent("DurationDisplay",gm);var oB=function(e){Se(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.createEl=function(){var n=e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),a=e.prototype.createEl.call(this,"div"),s=e.prototype.createEl.call(this,"span",{textContent:"/"});return a.appendChild(s),n.appendChild(a),n},t}(oe);oe.registerComponent("TimeDivider",oB);var ym=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.on(i,"durationchange",function(s){return a.updateContent(s)}),a}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-remaining-time"},r.createEl=function(){var n=e.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&n.insertBefore(rt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),n},r.updateContent=function(n){if(typeof this.player_.duration()=="number"){var a;this.player_.ended()?a=0:this.player_.remainingTimeDisplay?a=this.player_.remainingTimeDisplay():a=this.player_.remainingTime(),this.updateTextNode_(a)}},t}(Ds);ym.prototype.labelText_="Remaining Time";ym.prototype.controlText_="Remaining Time";oe.registerComponent("RemainingTimeDisplay",ym);var lB=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.updateShowing(),a.on(a.player(),"durationchange",function(s){return a.updateShowing(s)}),a}var r=t.prototype;return r.createEl=function(){var n=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=rt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(rt("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(ge.createTextNode(this.localize("LIVE"))),n.appendChild(this.contentEl_),n},r.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},r.updateShowing=function(n){this.player().duration()===1/0?this.show():this.hide()},t}(oe);oe.registerComponent("LiveDisplay",lB);var Lx=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.updateLiveEdgeStatus(),a.player_.liveTracker&&(a.updateLiveEdgeStatusHandler_=function(s){return a.updateLiveEdgeStatus(s)},a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatusHandler_)),a}var r=t.prototype;return r.createEl=function(){var n=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=rt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),n.appendChild(this.textEl_),n},r.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},r.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},r.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,e.prototype.dispose.call(this)},t}(ir);Lx.prototype.controlText_="Seek to live, currently playing live";oe.registerComponent("SeekToLive",Lx);var hd=function(t,r,i){return t=Number(t),Math.min(i,Math.max(r,isNaN(t)?r:t))},_m=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.handleMouseDown_=function(s){return a.handleMouseDown(s)},a.handleMouseUp_=function(s){return a.handleMouseUp(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleMouseMove_=function(s){return a.handleMouseMove(s)},a.update_=function(s){return a.update(s)},a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}var r=t.prototype;return r.enabled=function(){return this.enabled_},r.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},r.disable=function(){if(!!this.enabled()){var n=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},r.createEl=function(n,a,s){return a===void 0&&(a={}),s===void 0&&(s={}),a.className=a.className+" vjs-slider",a=wt({tabIndex:0},a),s=wt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),e.prototype.createEl.call(this,n,a,s)},r.handleMouseDown=function(n){var a=this.bar.el_.ownerDocument;n.type==="mousedown"&&n.preventDefault(),n.type==="touchstart"&&!ni&&n.preventDefault(),ox(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove_),this.on(a,"mouseup",this.handleMouseUp_),this.on(a,"touchmove",this.handleMouseMove_),this.on(a,"touchend",this.handleMouseUp_),this.handleMouseMove(n,!0)},r.handleMouseMove=function(n){},r.handleMouseUp=function(){var n=this.bar.el_.ownerDocument;lx(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()},r.update=function(){var n=this;if(!(!this.el_||!this.bar)){var a=this.getProgress();return a===this.progress_||(this.progress_=a,this.requestNamedAnimationFrame("Slider#update",function(){var s=n.vertical()?"height":"width";n.bar.el().style[s]=(a*100).toFixed(2)+"%"})),a}},r.getProgress=function(){return Number(hd(this.getPercent(),0,1).toFixed(4))},r.calculateDistance=function(n){var a=od(this.el_,n);return this.vertical()?a.y:a.x},r.handleKeyDown=function(n){We.isEventKey(n,"Left")||We.isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepBack()):We.isEventKey(n,"Right")||We.isEventKey(n,"Up")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,n)},r.handleClick=function(n){n.stopPropagation(),n.preventDefault()},r.vertical=function(n){if(n===void 0)return this.vertical_||!1;this.vertical_=!!n,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(oe);oe.registerComponent("Slider",_m);var cf=function(t,r){return hd(t/r*100,0,100).toFixed(2)+"%"},uB=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.partEls_=[],a.on(i,"progress",function(s){return a.update(s)}),a}var r=t.prototype;return r.createEl=function(){var n=e.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),a=rt("span",{className:"vjs-control-text"}),s=rt("span",{textContent:this.localize("Loaded")}),o=ge.createTextNode(": ");return this.percentageEl_=rt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),n.appendChild(a),a.appendChild(s),a.appendChild(o),a.appendChild(this.percentageEl_),n},r.dispose=function(){this.partEls_=null,this.percentageEl_=null,e.prototype.dispose.call(this)},r.update=function(n){var a=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var s=a.player_.liveTracker,o=a.player_.buffered(),l=s&&s.isLive()?s.seekableEnd():a.player_.duration(),u=a.player_.bufferedEnd(),c=a.partEls_,f=cf(u,l);a.percent_!==f&&(a.el_.style.width=f,ba(a.percentageEl_,f),a.percent_=f);for(var d=0;d<o.length;d++){var p=o.start(d),y=o.end(d),b=c[d];b||(b=a.el_.appendChild(rt()),c[d]=b),!(b.dataset.start===p&&b.dataset.end===y)&&(b.dataset.start=p,b.dataset.end=y,b.style.left=cf(p,u),b.style.width=cf(y-p,u))}for(var T=c.length;T>o.length;T--)a.el_.removeChild(c[T-1]);c.length=o.length})},t}(oe);oe.registerComponent("LoadProgressBar",uB);var cB=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.update=Kr(Tt(je(a),a.update),or),a}var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},r.update=function(n,a,s){var o=Zo(this.el_),l=gs(this.player_.el()),u=n.width*a;if(!(!l||!o)){var c=n.left-l.left+u,f=n.width-u+(l.right-n.right),d=o.width/2;c<d?d+=d-c:f<d&&(d=f),d<0?d=0:d>o.width&&(d=o.width),d=Math.round(d),this.el_.style.right="-"+d+"px",this.write(s)}},r.write=function(n){ba(this.el_,n)},r.updateTime=function(n,a,s,o){var l=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var u,c=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var f=l.player_.liveTracker.liveWindow(),d=f-a*f;u=(d<1?"":"-")+bs(d,f)}else u=bs(s,c);l.update(n,a,u),o&&o()})},t}(oe);oe.registerComponent("TimeTooltip",cB);var bm=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.update=Kr(Tt(je(a),a.update),or),a}var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},r.update=function(n,a){var s=this.getChild("timeTooltip");if(!!s){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(n,a,o)}},t}(oe);bm.prototype.options_={children:[]};!bn&&!ti&&bm.prototype.options_.children.push("timeTooltip");oe.registerComponent("PlayProgressBar",bm);var Dx=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.update=Kr(Tt(je(a),a.update),or),a}var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(n,a){var s=this,o=a*this.player_.duration();this.getChild("timeTooltip").updateTime(n,a,o,function(){s.el_.style.left=n.width*a+"px"})},t}(oe);Dx.prototype.options_={children:["timeTooltip"]};oe.registerComponent("MouseTimeDisplay",Dx);var vu=5,py=12,Tm=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.setEventHandlers_(),a}var r=t.prototype;return r.setEventHandlers_=function(){var n=this;this.update_=Tt(this,this.update),this.update=Kr(this.update_,or),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(a){return n.enableInterval_(a)},this.disableIntervalHandler_=function(a){return n.disableInterval_(a)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ge&&"visibilityState"in ge&&this.on(ge,"visibilitychange",this.toggleVisibility_)},r.toggleVisibility_=function(n){ge.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(n)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},r.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,or))},r.disableInterval_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&n&&n.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},r.update=function(n){var a=this;if(ge.visibilityState!=="hidden"){var s=e.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var o=a.player_.ended()?a.player_.duration():a.getCurrentTime_(),l=a.player_.liveTracker,u=a.player_.duration();l&&l.isLive()&&(u=a.player_.liveTracker.liveCurrentTime()),a.percent_!==s&&(a.el_.setAttribute("aria-valuenow",(s*100).toFixed(2)),a.percent_=s),(a.currentTime_!==o||a.duration_!==u)&&(a.el_.setAttribute("aria-valuetext",a.localize("progress bar timing: currentTime={1} duration={2}",[bs(o,u),bs(u,u)],"{1} of {2}")),a.currentTime_=o,a.duration_=u),a.bar&&a.bar.update(gs(a.el()),a.getProgress())}),s}},r.userSeek_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(n)},r.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},r.getPercent=function(){var n=this.getCurrentTime_(),a,s=this.player_.liveTracker;return s&&s.isLive()?(a=(n-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(a=1)):a=n/this.player_.duration(),a},r.handleMouseDown=function(n){!el(n)||(n.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,n))},r.handleMouseMove=function(n,a){if(a===void 0&&(a=!1),!!el(n)){!a&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var s,o=this.calculateDistance(n),l=this.player_.liveTracker;if(!l||!l.isLive())s=o*this.player_.duration(),s===this.player_.duration()&&(s=s-.1);else{if(o>=.99){l.seekToLiveEdge();return}var u=l.seekableStart(),c=l.liveCurrentTime();if(s=u+o*l.liveWindow(),s>=c&&(s=c),s<=u&&(s=u+.1),s===1/0)return}this.userSeek_(s)}},r.enable=function(){e.prototype.enable.call(this);var n=this.getChild("mouseTimeDisplay");!n||n.show()},r.disable=function(){e.prototype.disable.call(this);var n=this.getChild("mouseTimeDisplay");!n||n.hide()},r.handleMouseUp=function(n){e.prototype.handleMouseUp.call(this,n),n&&n.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?mr(this.player_.play()):this.update_()},r.stepForward=function(){this.userSeek_(this.player_.currentTime()+vu)},r.stepBack=function(){this.userSeek_(this.player_.currentTime()-vu)},r.handleAction=function(n){this.player_.paused()?this.player_.play():this.player_.pause()},r.handleKeyDown=function(n){var a=this.player_.liveTracker;if(We.isEventKey(n,"Space")||We.isEventKey(n,"Enter"))n.preventDefault(),n.stopPropagation(),this.handleAction(n);else if(We.isEventKey(n,"Home"))n.preventDefault(),n.stopPropagation(),this.userSeek_(0);else if(We.isEventKey(n,"End"))n.preventDefault(),n.stopPropagation(),a&&a.isLive()?this.userSeek_(a.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(We(n))){n.preventDefault(),n.stopPropagation();var s=(We.codes[We(n)]-We.codes["0"])*10/100;a&&a.isLive()?this.userSeek_(a.seekableStart()+a.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else We.isEventKey(n,"PgDn")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()-vu*py)):We.isEventKey(n,"PgUp")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()+vu*py)):e.prototype.handleKeyDown.call(this,n)},r.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ge&&"visibilityState"in ge&&this.off(ge,"visibilitychange",this.toggleVisibility_),e.prototype.dispose.call(this)},t}(_m);Tm.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!bn&&!ti&&Tm.prototype.options_.children.splice(1,0,"mouseTimeDisplay");oe.registerComponent("SeekBar",Tm);var Rx=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.handleMouseMove=Kr(Tt(je(a),a.handleMouseMove),or),a.throttledHandleMouseSeek=Kr(Tt(je(a),a.handleMouseSeek),or),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.handleMouseDownHandler_=function(s){return a.handleMouseDown(s)},a.enable(),a}var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},r.handleMouseMove=function(n){var a=this.getChild("seekBar");if(!!a){var s=a.getChild("playProgressBar"),o=a.getChild("mouseTimeDisplay");if(!(!s&&!o)){var l=a.el(),u=Zo(l),c=od(l,n).x;c=hd(c,0,1),o&&o.update(u,c),s&&s.update(u,a.getProgress())}}},r.handleMouseSeek=function(n){var a=this.getChild("seekBar");a&&a.handleMouseMove(n)},r.enabled=function(){return this.enabled_},r.disable=function(){if(this.children().forEach(function(a){return a.disable&&a.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var n=this.getChild("seekBar");this.player_.scrubbing(!1),n.videoWasPlaying&&mr(this.player_.play())}},r.enable=function(){this.children().forEach(function(n){return n.enable&&n.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},r.removeListenersAddedOnMousedownAndTouchstart=function(){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseSeek),this.off(n,"touchmove",this.throttledHandleMouseSeek),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)},r.handleMouseDown=function(n){var a=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(n),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(n){var a=this.getChild("seekBar");a&&a.handleMouseUp(n),this.removeListenersAddedOnMousedownAndTouchstart()},t}(oe);Rx.prototype.options_={children:["seekBar"]};oe.registerComponent("ProgressControl",Rx);var Mx=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.on(i,["enterpictureinpicture","leavepictureinpicture"],function(s){return a.handlePictureInPictureChange(s)}),a.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(s){return a.handlePictureInPictureEnabledChange(s)}),a.on(i,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var s=i.currentType().substring(0,5)==="audio";s||i.audioPosterMode()||i.audioOnlyMode()?(i.isInPictureInPicture()&&i.exitPictureInPicture(),a.hide()):a.show()}),a.disable(),a}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},r.handlePictureInPictureEnabledChange=function(){ge.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},r.handlePictureInPictureChange=function(n){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},r.handleClick=function(n){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(ir);Mx.prototype.controlText_="Picture-in-Picture";oe.registerComponent("PictureInPictureToggle",Mx);var Fx=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.on(i,"fullscreenchange",function(s){return a.handleFullscreenChange(s)}),ge[i.fsApi_.fullscreenEnabled]===!1&&a.disable(),a}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},r.handleFullscreenChange=function(n){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.handleClick=function(n){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(ir);Fx.prototype.controlText_="Fullscreen";oe.registerComponent("FullscreenToggle",Fx);var dB=function(t,r){r.tech_&&!r.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(r,"loadstart",function(){r.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},fB=function(e){Se(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.createEl=function(){var n=e.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return n.appendChild(e.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),n},t}(oe);oe.registerComponent("VolumeLevel",fB);var hB=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.update=Kr(Tt(je(a),a.update),or),a}var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},r.update=function(n,a,s,o){if(!s){var l=gs(this.el_),u=gs(this.player_.el()),c=n.width*a;if(!u||!l)return;var f=n.left-u.left+c,d=n.width-c+(u.right-n.right),p=l.width/2;f<p?p+=p-f:d<p&&(p=d),p<0?p=0:p>l.width&&(p=l.width),this.el_.style.right="-"+p+"px"}this.write(o+"%")},r.write=function(n){ba(this.el_,n)},r.updateVolume=function(n,a,s,o,l){var u=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){u.update(n,a,s,o.toFixed(0)),l&&l()})},t}(oe);oe.registerComponent("VolumeLevelTooltip",hB);var Nx=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.update=Kr(Tt(je(a),a.update),or),a}var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(n,a,s){var o=this,l=100*a;this.getChild("volumeLevelTooltip").updateVolume(n,a,s,l,function(){s?o.el_.style.bottom=n.height*a+"px":o.el_.style.left=n.width*a+"px"})},t}(oe);Nx.prototype.options_={children:["volumeLevelTooltip"]};oe.registerComponent("MouseVolumeLevelDisplay",Nx);var pd=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.on("slideractive",function(s){return a.updateLastVolume_(s)}),a.on(i,"volumechange",function(s){return a.updateARIAAttributes(s)}),i.ready(function(){return a.updateARIAAttributes()}),a}var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},r.handleMouseDown=function(n){!el(n)||e.prototype.handleMouseDown.call(this,n)},r.handleMouseMove=function(n){var a=this.getChild("mouseVolumeLevelDisplay");if(a){var s=this.el(),o=gs(s),l=this.vertical(),u=od(s,n);u=l?u.y:u.x,u=hd(u,0,1),a.update(o,u,l)}!el(n)||(this.checkMuted(),this.player_.volume(this.calculateDistance(n)))},r.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},r.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},r.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},r.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},r.updateARIAAttributes=function(n){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},r.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},r.updateLastVolume_=function(){var n=this,a=this.player_.volume();this.one("sliderinactive",function(){n.player_.volume()===0&&n.player_.lastVolume_(a)})},t}(_m);pd.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!bn&&!ti&&pd.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");pd.prototype.playerEvent="volumechange";oe.registerComponent("VolumeBar",pd);var Bx=function(e){Se(t,e);function t(i,n){var a;return n===void 0&&(n={}),n.vertical=n.vertical||!1,(typeof n.volumeBar=="undefined"||Qo(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),a=e.call(this,i,n)||this,dB(je(a),i),a.throttledHandleMouseMove=Kr(Tt(je(a),a.handleMouseMove),or),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.on("mousedown",function(s){return a.handleMouseDown(s)}),a.on("touchstart",function(s){return a.handleMouseDown(s)}),a.on("mousemove",function(s){return a.handleMouseMove(s)}),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}var r=t.prototype;return r.createEl=function(){var n="vjs-volume-horizontal";return this.options_.vertical&&(n="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+n})},r.handleMouseDown=function(n){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(n){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseMove=function(n){this.volumeBar.handleMouseMove(n)},t}(oe);Bx.prototype.options_={children:["volumeBar"]};oe.registerComponent("VolumeControl",Bx);var pB=function(t,r){r.tech_&&!r.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(r,"loadstart",function(){r.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},Ux=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,pB(je(a),i),a.on(i,["loadstart","volumechange"],function(s){return a.update(s)}),a}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},r.handleClick=function(n){var a=this.player_.volume(),s=this.player_.lastVolume_();if(a===0){var o=s<.1?.1:s;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},r.update=function(n){this.updateIcon_(),this.updateControlText_()},r.updateIcon_=function(){var n=this.player_.volume(),a=3;bn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),n===0||this.player_.muted()?a=0:n<.33?a=1:n<.67&&(a=2);for(var s=0;s<4;s++)Tl(this.el_,"vjs-vol-"+s);Vr(this.el_,"vjs-vol-"+a)},r.updateControlText_=function(){var n=this.player_.muted()||this.player_.volume()===0,a=n?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)},t}(ir);Ux.prototype.controlText_="Mute";oe.registerComponent("MuteToggle",Ux);var Vx=function(e){Se(t,e);function t(i,n){var a;return n===void 0&&(n={}),typeof n.inline!="undefined"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl=="undefined"||Qo(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),a=e.call(this,i,n)||this,a.handleKeyPressHandler_=function(s){return a.handleKeyPress(s)},a.on(i,["loadstart"],function(s){return a.volumePanelState_(s)}),a.on(a.muteToggle,"keyup",function(s){return a.handleKeyPress(s)}),a.on(a.volumeControl,"keyup",function(s){return a.handleVolumeControlKeyUp(s)}),a.on("keydown",function(s){return a.handleKeyPress(s)}),a.on("mouseover",function(s){return a.handleMouseOver(s)}),a.on("mouseout",function(s){return a.handleMouseOut(s)}),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}var r=t.prototype;return r.sliderActive_=function(){this.addClass("vjs-slider-active")},r.sliderInactive_=function(){this.removeClass("vjs-slider-active")},r.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},r.createEl=function(){var n="vjs-volume-panel-horizontal";return this.options_.inline||(n="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+n})},r.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},r.handleVolumeControlKeyUp=function(n){We.isEventKey(n,"Esc")&&this.muteToggle.focus()},r.handleMouseOver=function(n){this.addClass("vjs-hover"),Fn(ge,"keyup",this.handleKeyPressHandler_)},r.handleMouseOut=function(n){this.removeClass("vjs-hover"),an(ge,"keyup",this.handleKeyPressHandler_)},r.handleKeyPress=function(n){We.isEventKey(n,"Esc")&&this.handleMouseOut()},t}(oe);Vx.prototype.options_={children:["muteToggle","volumeControl"]};oe.registerComponent("VolumePanel",Vx);var $x=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,n&&(a.menuButton_=n.menuButton),a.focusedChild_=-1,a.on("keydown",function(s){return a.handleKeyDown(s)}),a.boundHandleBlur_=function(s){return a.handleBlur(s)},a.boundHandleTapClick_=function(s){return a.handleTapClick(s)},a}var r=t.prototype;return r.addEventListenerForItem=function(n){n instanceof oe&&(this.on(n,"blur",this.boundHandleBlur_),this.on(n,["tap","click"],this.boundHandleTapClick_))},r.removeEventListenerForItem=function(n){n instanceof oe&&(this.off(n,"blur",this.boundHandleBlur_),this.off(n,["tap","click"],this.boundHandleTapClick_))},r.removeChild=function(n){typeof n=="string"&&(n=this.getChild(n)),this.removeEventListenerForItem(n),e.prototype.removeChild.call(this,n)},r.addItem=function(n){var a=this.addChild(n);a&&this.addEventListenerForItem(a)},r.createEl=function(){var n=this.options_.contentElType||"ul";this.contentEl_=rt(n,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var a=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return a.appendChild(this.contentEl_),Fn(a,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),a},r.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},r.handleBlur=function(n){var a=n.relatedTarget||ge.activeElement;if(!this.children().some(function(o){return o.el()===a})){var s=this.menuButton_;s&&s.buttonPressed_&&a!==s.el().firstChild&&s.unpressButton()}},r.handleTapClick=function(n){if(this.menuButton_){this.menuButton_.unpressButton();var a=this.children();if(!Array.isArray(a))return;var s=a.filter(function(o){return o.el()===n.target})[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},r.handleKeyDown=function(n){We.isEventKey(n,"Left")||We.isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):(We.isEventKey(n,"Right")||We.isEventKey(n,"Up"))&&(n.preventDefault(),n.stopPropagation(),this.stepBack())},r.stepForward=function(){var n=0;this.focusedChild_!==void 0&&(n=this.focusedChild_+1),this.focus(n)},r.stepBack=function(){var n=0;this.focusedChild_!==void 0&&(n=this.focusedChild_-1),this.focus(n)},r.focus=function(n){n===void 0&&(n=0);var a=this.children().slice(),s=a.length&&a[0].hasClass("vjs-menu-title");s&&a.shift(),a.length>0&&(n<0?n=0:n>=a.length&&(n=a.length-1),this.focusedChild_=n,a[n].el_.focus())},t}(oe);oe.registerComponent("Menu",$x);var Sm=function(e){Se(t,e);function t(i,n){var a;n===void 0&&(n={}),a=e.call(this,i,n)||this,a.menuButton_=new ir(i,n),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var s=ir.prototype.buildCSSClass();a.menuButton_.el_.className=a.buildCSSClass()+" "+s,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0;var o=function(u){return a.handleClick(u)};return a.handleMenuKeyUp_=function(l){return a.handleMenuKeyUp(l)},a.on(a.menuButton_,"tap",o),a.on(a.menuButton_,"click",o),a.on(a.menuButton_,"keydown",function(l){return a.handleKeyDown(l)}),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),Fn(ge,"keyup",a.handleMenuKeyUp_)}),a.on("mouseleave",function(l){return a.handleMouseLeave(l)}),a.on("keydown",function(l){return a.handleSubmenuKeyDown(l)}),a}var r=t.prototype;return r.update=function(){var n=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=n,this.addChild(n),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},r.createMenu=function(){var n=new $x(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=rt("li",{className:"vjs-menu-title",textContent:Lt(this.options_.title),tabIndex:-1}),s=new oe(this.player_,{el:a});n.addItem(s)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)n.addItem(this.items[o]);return n},r.createItems=function(){},r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},r.buildWrapperCSSClass=function(){var n="vjs-menu-button";this.options_.inline===!0?n+="-inline":n+="-popup";var a=ir.prototype.buildCSSClass();return"vjs-menu-button "+n+" "+a+" "+e.prototype.buildCSSClass.call(this)},r.buildCSSClass=function(){var n="vjs-menu-button";return this.options_.inline===!0?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+e.prototype.buildCSSClass.call(this)},r.controlText=function(n,a){return a===void 0&&(a=this.menuButton_.el()),this.menuButton_.controlText(n,a)},r.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},r.handleClick=function(n){this.buttonPressed_?this.unpressButton():this.pressButton()},r.handleMouseLeave=function(n){this.removeClass("vjs-hover"),an(ge,"keyup",this.handleMenuKeyUp_)},r.focus=function(){this.menuButton_.focus()},r.blur=function(){this.menuButton_.blur()},r.handleKeyDown=function(n){We.isEventKey(n,"Esc")||We.isEventKey(n,"Tab")?(this.buttonPressed_&&this.unpressButton(),We.isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus())):(We.isEventKey(n,"Up")||We.isEventKey(n,"Down"))&&(this.buttonPressed_||(n.preventDefault(),this.pressButton()))},r.handleMenuKeyUp=function(n){(We.isEventKey(n,"Esc")||We.isEventKey(n,"Tab"))&&this.removeClass("vjs-hover")},r.handleSubmenuKeyPress=function(n){this.handleSubmenuKeyDown(n)},r.handleSubmenuKeyDown=function(n){(We.isEventKey(n,"Esc")||We.isEventKey(n,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),We.isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus()))},r.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),bn&&nx())return;this.menu.focus()}},r.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},r.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},r.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(oe);oe.registerComponent("MenuButton",Sm);var xm=function(e){Se(t,e);function t(r,i){var n,a=i.tracks;if(n=e.call(this,r,i)||this,n.items.length<=1&&n.hide(),!a)return je(n);var s=Tt(je(n),n.update);return a.addEventListener("removetrack",s),a.addEventListener("addtrack",s),a.addEventListener("labelchange",s),n.player_.on("ready",s),n.player_.on("dispose",function(){a.removeEventListener("removetrack",s),a.removeEventListener("addtrack",s),a.removeEventListener("labelchange",s)}),n}return t}(Sm);oe.registerComponent("TrackButton",xm);var mB=["Tab","Esc","Up","Down","Right","Left"],xl=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.selectable=n.selectable,a.isSelected_=n.selected||!1,a.multiSelectable=n.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}var r=t.prototype;return r.createEl=function(n,a,s){this.nonIconControl=!0;var o=e.prototype.createEl.call(this,"li",wt({className:"vjs-menu-item",tabIndex:-1},a),s);return o.replaceChild(rt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),o.querySelector(".vjs-icon-placeholder")),o},r.handleKeyDown=function(n){mB.some(function(a){return We.isEventKey(n,a)})||e.prototype.handleKeyDown.call(this,n)},r.handleClick=function(n){this.selected(!0)},r.selected=function(n){this.selectable&&(n?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(fd);oe.registerComponent("MenuItem",xl);var El=function(e){Se(t,e);function t(i,n){var a,s=n.track,o=i.textTracks();n.label=s.label||s.language||"Unknown",n.selected=s.mode==="showing",a=e.call(this,i,n)||this,a.track=s,a.kinds=(n.kinds||[n.kind||a.track.kind]).filter(Boolean);var l=function(){for(var d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];a.handleTracksChange.apply(je(a),p)},u=function(){for(var d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];a.handleSelectedLanguageChange.apply(je(a),p)};if(i.on(["loadstart","texttrackchange"],l),o.addEventListener("change",l),o.addEventListener("selectedlanguagechange",u),a.on("dispose",function(){i.off(["loadstart","texttrackchange"],l),o.removeEventListener("change",l),o.removeEventListener("selectedlanguagechange",u)}),o.onchange===void 0){var c;a.on(["tap","click"],function(){if(typeof U.Event!="object")try{c=new U.Event("change")}catch{}c||(c=ge.createEvent("Event"),c.initEvent("change",!0,!0)),o.dispatchEvent(c)})}return a.handleTracksChange(),a}var r=t.prototype;return r.handleClick=function(n){var a=this.track,s=this.player_.textTracks();if(e.prototype.handleClick.call(this,n),!!s)for(var o=0;o<s.length;o++){var l=s[o];this.kinds.indexOf(l.kind)!==-1&&(l===a?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}},r.handleTracksChange=function(n){var a=this.track.mode==="showing";a!==this.isSelected_&&this.selected(a)},r.handleSelectedLanguageChange=function(n){if(this.track.mode==="showing"){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(xl);oe.registerComponent("TextTrackMenuItem",El);var jx=function(e){Se(t,e);function t(i,n){return n.track={player:i,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,i,n)||this}var r=t.prototype;return r.handleTracksChange=function(n){for(var a=this.player().textTracks(),s=!0,o=0,l=a.length;o<l;o++){var u=a[o];if(this.options_.kinds.indexOf(u.kind)>-1&&u.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)},r.handleSelectedLanguageChange=function(n){for(var a=this.player().textTracks(),s=!0,o=0,l=a.length;o<l;o++){var u=a[o];if(["captions","descriptions","subtitles"].indexOf(u.kind)>-1&&u.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(El);oe.registerComponent("OffTextTrackMenuItem",jx);var Rs=function(e){Se(t,e);function t(i,n){return n===void 0&&(n={}),n.tracks=i.textTracks(),e.call(this,i,n)||this}var r=t.prototype;return r.createItems=function(n,a){n===void 0&&(n=[]),a===void 0&&(a=El);var s;this.label_&&(s=this.label_+" off"),n.push(new jx(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<o.length;l++){var u=o[l];if(this.kinds_.indexOf(u.kind)>-1){var c=new a(this.player_,{track:u,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});c.addClass("vjs-"+u.kind+"-menu-item"),n.push(c)}}return n},t}(xm);oe.registerComponent("TextTrackButton",Rs);var Hx=function(e){Se(t,e);function t(i,n){var a,s=n.track,o=n.cue,l=i.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=l&&l<o.endTime,a=e.call(this,i,n)||this,a.track=s,a.cue=o,a}var r=t.prototype;return r.handleClick=function(n){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},t}(xl);oe.registerComponent("ChaptersTrackMenuItem",Hx);var Em=function(e){Se(t,e);function t(i,n,a){var s;return s=e.call(this,i,n,a)||this,s.selectCurrentItem_=function(){s.items.forEach(function(o){o.selected(s.track_.activeCues[0]===o.cue)})},s}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},r.update=function(n){if(!(n&&n.track&&n.track.kind!=="chapters")){var a=this.findChaptersTrack();a!==this.track_?(this.setTrack(a),e.prototype.update.call(this)):(!this.items||a&&a.cues&&a.cues.length!==this.items.length)&&e.prototype.update.call(this)}},r.setTrack=function(n){if(this.track_!==n){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=n,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},r.findChaptersTrack=function(){for(var n=this.player_.textTracks()||[],a=n.length-1;a>=0;a--){var s=n[a];if(s.kind===this.kind_)return s}},r.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Lt(this.kind_))},r.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},r.createItems=function(){var n=[];if(!this.track_)return n;var a=this.track_.cues;if(!a)return n;for(var s=0,o=a.length;s<o;s++){var l=a[s],u=new Hx(this.player_,{track:this.track_,cue:l});n.push(u)}return n},t}(Rs);Em.prototype.kind_="chapters";Em.prototype.controlText_="Chapters";oe.registerComponent("ChaptersButton",Em);var Cm=function(e){Se(t,e);function t(i,n,a){var s;s=e.call(this,i,n,a)||this;var o=i.textTracks(),l=Tt(je(s),s.handleTracksChange);return o.addEventListener("change",l),s.on("dispose",function(){o.removeEventListener("change",l)}),s}var r=t.prototype;return r.handleTracksChange=function(n){for(var a=this.player().textTracks(),s=!1,o=0,l=a.length;o<l;o++){var u=a[o];if(u.kind!==this.kind_&&u.mode==="showing"){s=!0;break}}s?this.disable():this.enable()},r.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Rs);Cm.prototype.kind_="descriptions";Cm.prototype.controlText_="Descriptions";oe.registerComponent("DescriptionsButton",Cm);var wm=function(e){Se(t,e);function t(i,n,a){return e.call(this,i,n,a)||this}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Rs);wm.prototype.kind_="subtitles";wm.prototype.controlText_="Subtitles";oe.registerComponent("SubtitlesButton",wm);var km=function(e){Se(t,e);function t(i,n){var a;return n.track={player:i,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",a=e.call(this,i,n)||this,a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+n.kind+" settings dialog"),a}var r=t.prototype;return r.handleClick=function(n){this.player().getChild("textTrackSettings").open()},t}(El);oe.registerComponent("CaptionSettingsMenuItem",km);var Pm=function(e){Se(t,e);function t(i,n,a){return e.call(this,i,n,a)||this}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new km(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,n)},t}(Rs);Pm.prototype.kind_="captions";Pm.prototype.controlText_="Captions";oe.registerComponent("CaptionsButton",Pm);var Wx=function(e){Se(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.createEl=function(n,a,s){var o=e.prototype.createEl.call(this,n,a,s),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(l.appendChild(rt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(rt("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),o},t}(El);oe.registerComponent("SubsCapsMenuItem",Wx);var Am=function(e){Se(t,e);function t(i,n){var a;return n===void 0&&(n={}),a=e.call(this,i,n)||this,a.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(Lt(a.label_)),a}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new km(this.player_,{kind:this.label_})),this.hideThreshold_+=1),n=e.prototype.createItems.call(this,n,Wx),n},t}(Rs);Am.prototype.kinds_=["captions","subtitles"];Am.prototype.controlText_="Subtitles";oe.registerComponent("SubsCapsButton",Am);var zx=function(e){Se(t,e);function t(i,n){var a,s=n.track,o=i.audioTracks();n.label=s.label||s.language||"Unknown",n.selected=s.enabled,a=e.call(this,i,n)||this,a.track=s,a.addClass("vjs-"+s.kind+"-menu-item");var l=function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];a.handleTracksChange.apply(je(a),f)};return o.addEventListener("change",l),a.on("dispose",function(){o.removeEventListener("change",l)}),a}var r=t.prototype;return r.createEl=function(n,a,s){var o=e.prototype.createEl.call(this,n,a,s),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(l.appendChild(rt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(rt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),o},r.handleClick=function(n){if(e.prototype.handleClick.call(this,n),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var o=a[s];o!==this.track&&(o.enabled=o===this.track)}},r.handleTracksChange=function(n){this.selected(this.track.enabled)},t}(xl);oe.registerComponent("AudioTrackMenuItem",zx);var qx=function(e){Se(t,e);function t(i,n){return n===void 0&&(n={}),n.tracks=i.audioTracks(),e.call(this,i,n)||this}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(n){n===void 0&&(n=[]),this.hideThreshold_=1;for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var o=a[s];n.push(new zx(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return n},t}(xm);qx.prototype.controlText_="Audio Track";oe.registerComponent("AudioTrackButton",qx);var Im=function(e){Se(t,e);function t(i,n){var a,s=n.rate,o=parseFloat(s,10);return n.label=s,n.selected=o===i.playbackRate(),n.selectable=!0,n.multiSelectable=!1,a=e.call(this,i,n)||this,a.label=s,a.rate=o,a.on(i,"ratechange",function(l){return a.update(l)}),a}var r=t.prototype;return r.handleClick=function(n){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},r.update=function(n){this.selected(this.player().playbackRate()===this.rate)},t}(xl);Im.prototype.contentElType="button";oe.registerComponent("PlaybackRateMenuItem",Im);var Gx=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.menuButton_.el_.setAttribute("aria-describedby",a.labelElId_),a.updateVisibility(),a.updateLabel(),a.on(i,"loadstart",function(s){return a.updateVisibility(s)}),a.on(i,"ratechange",function(s){return a.updateLabel(s)}),a.on(i,"playbackrateschange",function(s){return a.handlePlaybackRateschange(s)}),a}var r=t.prototype;return r.createEl=function(){var n=e.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=rt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),n.appendChild(this.labelEl_),n},r.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){for(var n=this.playbackRates(),a=[],s=n.length-1;s>=0;s--)a.push(new Im(this.player(),{rate:n[s]+"x"}));return a},r.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},r.handleClick=function(n){var a=this.player().playbackRate(),s=this.playbackRates(),o=s.indexOf(a),l=(o+1)%s.length;this.player().playbackRate(s[l])},r.handlePlaybackRateschange=function(n){this.update()},r.playbackRates=function(){var n=this.player();return n.playbackRates&&n.playbackRates()||[]},r.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},r.updateVisibility=function(n){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},r.updateLabel=function(n){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},t}(Sm);Gx.prototype.controlText_="Playback Rate";oe.registerComponent("PlaybackRateMenuButton",Gx);var Kx=function(e){Se(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},r.createEl=function(n,a,s){return n===void 0&&(n="div"),a===void 0&&(a={}),s===void 0&&(s={}),a.className||(a.className=this.buildCSSClass()),e.prototype.createEl.call(this,n,a,s)},t}(oe);oe.registerComponent("Spacer",Kx);var vB=function(e){Se(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},t}(Kx);oe.registerComponent("CustomControlSpacer",vB);var fc=function(e){Se(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(oe);fc.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in ge&&fc.prototype.options_.children.splice(fc.prototype.options_.children.length-1,0,"pictureInPictureToggle");oe.registerComponent("ControlBar",fc);var Xx=function(e){Se(t,e);function t(i,n){var a;return a=e.call(this,i,n)||this,a.on(i,"error",function(s){return a.open(s)}),a}var r=t.prototype;return r.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},r.content=function(){var n=this.player().error();return n?this.localize(n.message):""},t}(Os);Xx.prototype.options_=qn({},Os.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});oe.registerComponent("ErrorDisplay",Xx);var df="vjs-text-track-settings",my=["#000","Black"],vy=["#00F","Blue"],gy=["#0FF","Cyan"],yy=["#0F0","Green"],_y=["#F0F","Magenta"],by=["#F00","Red"],Ty=["#FFF","White"],Sy=["#FF0","Yellow"],ff=["1","Opaque"],hf=["0.5","Semi-Transparent"],xy=["0","Transparent"],Wi={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[my,Ty,by,yy,vy,Sy,_y,gy]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ff,hf,xy]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Ty,my,by,yy,vy,Sy,_y,gy]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return t==="1.00"?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ff,hf]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[xy,hf,ff]}};Wi.windowColor.options=Wi.backgroundColor.options;function Yx(e,t){if(t&&(e=t(e)),e&&e!=="none")return e}function gB(e,t){var r=e.options[e.options.selectedIndex].value;return Yx(r,t)}function yB(e,t,r){if(!!t){for(var i=0;i<e.options.length;i++)if(Yx(e.options[i].value,r)===t){e.selectedIndex=i;break}}}var _B=function(e){Se(t,e);function t(i,n){var a;return n.temporary=!1,a=e.call(this,i,n)||this,a.updateDisplay=a.updateDisplay.bind(je(a)),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=rt("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),n.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),Za(Wi,function(s){a.on(a.$(s.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}var r=t.prototype;return r.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},r.createElSelect_=function(n,a,s){var o=this;a===void 0&&(a=""),s===void 0&&(s="label");var l=Wi[n],u=l.id.replace("%s",this.id_),c=[a,u].join(" ").trim();return["<"+s+' id="'+u+'" class="'+(s==="label"?"vjs-label":"")+'">',this.localize(l.label),"</"+s+">",'<select aria-labelledby="'+c+'">'].concat(l.options.map(function(f){var d=u+"-"+f[1].replace(/\W+/g,"");return['<option id="'+d+'" value="'+f[0]+'" ','aria-labelledby="'+c+" "+d+'">',o.localize(f[1]),"</option>"].join("")})).concat("</select>").join("")},r.createElFgColor_=function(){var n="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",n),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",n),"</span>","</fieldset>"].join("")},r.createElBgColor_=function(){var n="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",n),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",n),"</span>","</fieldset>"].join("")},r.createElWinColor_=function(){var n="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",n),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",n),"</span>","</fieldset>"].join("")},r.createElColors_=function(){return rt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.createElFont_=function(){return rt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},r.createElControls_=function(){var n=this.localize("restore all settings to the default values");return rt("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+n+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+n+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},r.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.label=function(){return this.localize("Caption Settings Dialog")},r.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.getValues=function(){var n=this;return oN(Wi,function(a,s,o){var l=gB(n.$(s.selector),s.parser);return l!==void 0&&(a[o]=l),a},{})},r.setValues=function(n){var a=this;Za(Wi,function(s,o){yB(a.$(s.selector),n[o],s.parser)})},r.setDefaults=function(){var n=this;Za(Wi,function(a){var s=a.hasOwnProperty("default")?a.default:0;n.$(a.selector).selectedIndex=s})},r.restoreSettings=function(){var n;try{n=JSON.parse(U.localStorage.getItem(df))}catch(a){Xe.warn(a)}n&&this.setValues(n)},r.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var n=this.getValues();try{Object.keys(n).length?U.localStorage.setItem(df,JSON.stringify(n)):U.localStorage.removeItem(df)}catch(a){Xe.warn(a)}}},r.updateDisplay=function(){var n=this.player_.getChild("textTrackDisplay");n&&n.updateDisplay()},r.conditionalBlur_=function(){this.previouslyActiveEl_=null;var n=this.player_.controlBar,a=n&&n.subsCapsButton,s=n&&n.captionsButton;a?a.focus():s&&s.focus()},t}(Os);oe.registerComponent("TextTrackSettings",_B);var bB=function(e){Se(t,e);function t(i,n){var a,s=n.ResizeObserver||U.ResizeObserver;n.ResizeObserver===null&&(s=!1);var o=_t({createEl:!s,reportTouchActivity:!1},n);return a=e.call(this,i,o)||this,a.ResizeObserver=n.ResizeObserver||U.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=yN(function(){a.resizeHandler()},100,!1,je(a)),s?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(i.el())):(a.loadListener_=function(){if(!(!a.el_||!a.el_.contentWindow)){var l=a.debouncedHandler_,u=a.unloadListener_=function(){an(this,"resize",l),an(this,"unload",u),u=null};Fn(a.el_.contentWindow,"unload",u),Fn(a.el_.contentWindow,"resize",l)}},a.one("load",a.loadListener_)),a}var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},r.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},r.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(oe);oe.registerComponent("ResizeManager",bB);var TB={trackingThreshold:20,liveTolerance:15},SB=function(e){Se(t,e);function t(i,n){var a,s=_t(TB,n,{createEl:!1});return a=e.call(this,i,s)||this,a.handleVisibilityChange_=function(o){return a.handleVisibilityChange(o)},a.trackLiveHandler_=function(){return a.trackLive_()},a.handlePlay_=function(o){return a.handlePlay(o)},a.handleFirstTimeupdate_=function(o){return a.handleFirstTimeupdate(o)},a.handleSeeked_=function(o){return a.handleSeeked(o)},a.seekToLiveEdge_=function(o){return a.seekToLiveEdge(o)},a.reset_(),a.on(a.player_,"durationchange",function(o){return a.handleDurationchange(o)}),a.on(a.player_,"canplay",function(){return a.toggleTracking()}),bl&&"hidden"in ge&&"visibilityState"in ge&&a.on(ge,"visibilitychange",a.handleVisibilityChange_),a}var r=t.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(ge.hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var n=this.player_.seekable();if(!(!n||!n.length)){var a=Number(U.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(a-this.lastTime_)/1e3;this.lastTime_=a,this.pastSeekEnd_=this.pastSeekEnd()+s;var o=this.liveCurrentTime(),l=this.player_.currentTime(),u=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-l)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(u=!1),u!==this.behindLiveEdge_&&(this.behindLiveEdge_=u,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.toggleTracking()},r.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,or),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},r.handleSeeked=function(){var n=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&n>2,this.nextSeekedFromUser_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},r.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},r.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var n=this.player_.seekable(),a=[],s=n?n.length:0;s--;)a.push(n.end(s));return a.length?a.sort()[a.length-1]:1/0},r.seekableStart=function(){for(var n=this.player_.seekable(),a=[],s=n?n.length:0;s--;)a.push(n.start(s));return a.length?a.sort()[0]:0},r.liveWindow=function(){var n=this.liveCurrentTime();return n===1/0?0:n-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var n=this.seekableEnd();return this.lastSeekEnd_!==-1&&n!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=n,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return typeof this.trackingInterval_=="number"},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off(ge,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),e.prototype.dispose.call(this)},t}(oe);oe.registerComponent("LiveTracker",SB);var Eh=function(t){var r=t.el();if(r.hasAttribute("src"))return t.triggerSourceset(r.src),!0;var i=t.$$("source"),n=[],a="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var o=i[s].src;o&&n.indexOf(o)===-1&&n.push(o)}return n.length?(n.length===1&&(a=n[0]),t.triggerSourceset(a),!0):!1},xB=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var r=ge.createElement(this.nodeName.toLowerCase());r.innerHTML=t;for(var i=ge.createDocumentFragment();r.childNodes.length;)i.appendChild(r.childNodes[0]);return this.innerText="",U.Element.prototype.appendChild.call(this,i),this.innerHTML}}),Qx=function(t,r){for(var i={},n=0;n<t.length&&(i=Object.getOwnPropertyDescriptor(t[n],r),!(i&&i.set&&i.get));n++);return i.enumerable=!0,i.configurable=!0,i},EB=function(t){return Qx([t.el(),U.HTMLMediaElement.prototype,U.Element.prototype,xB],"innerHTML")},Ey=function(t){var r=t.el();if(!r.resetSourceWatch_){var i={},n=EB(t),a=function(o){return function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var f=o.apply(r,u);return Eh(t),f}};["append","appendChild","insertAdjacentHTML"].forEach(function(s){!r[s]||(i[s]=r[s],r[s]=a(i[s]))}),Object.defineProperty(r,"innerHTML",_t(n,{set:a(n.set)})),r.resetSourceWatch_=function(){r.resetSourceWatch_=null,Object.keys(i).forEach(function(s){r[s]=i[s]}),Object.defineProperty(r,"innerHTML",n)},t.one("sourceset",r.resetSourceWatch_)}},CB=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Ex(U.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return U.Element.prototype.setAttribute.call(this,"src",t),t}}),wB=function(t){return Qx([t.el(),U.HTMLMediaElement.prototype,CB],"src")},kB=function(t){if(!!t.featuresSourceset){var r=t.el();if(!r.resetSourceset_){var i=wB(t),n=r.setAttribute,a=r.load;Object.defineProperty(r,"src",_t(i,{set:function(o){var l=i.set.call(r,o);return t.triggerSourceset(r.src),l}})),r.setAttribute=function(s,o){var l=n.call(r,s,o);return/src/i.test(s)&&t.triggerSourceset(r.src),l},r.load=function(){var s=a.call(r);return Eh(t)||(t.triggerSourceset(""),Ey(t)),s},r.currentSrc?t.triggerSourceset(r.currentSrc):Eh(t)||Ey(t),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=a,r.setAttribute=n,Object.defineProperty(r,"src",i),r.resetSourceWatch_&&r.resetSourceWatch_()}}}},Om=function(t,r,i,n){n===void 0&&(n=!0);var a=function(l){return Object.defineProperty(t,r,{value:l,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var l=i();return a(l),l}};return n&&(s.set=a),Object.defineProperty(t,r,s)},we=function(e){Se(t,e);function t(i,n){var a;a=e.call(this,i,n)||this;var s=i.source,o=!1;if(s&&(a.el_.currentSrc!==s.src||i.tag&&i.tag.initNetworkState_===3)?a.setSource(s):a.handleLateInit_(a.el_),i.enableSourceset&&a.setupSourcesetHandling_(),a.isScrubbing_=!1,a.el_.hasChildNodes()){for(var l=a.el_.childNodes,u=l.length,c=[];u--;){var f=l[u],d=f.nodeName.toLowerCase();d==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(f),a.remoteTextTracks().addTrack(f.track),a.textTracks().addTrack(f.track),!o&&!a.el_.hasAttribute("crossorigin")&&dd(f.src)&&(o=!0)):c.push(f))}for(var p=0;p<c.length;p++)a.el_.removeChild(c[p])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&o&&Xe.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),a.restoreMetadataTracksInIOSNativePlayer_(),(ms||sm||QS)&&i.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}var r=t.prototype;return r.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},r.setupSourcesetHandling_=function(){kB(this)},r.restoreMetadataTracksInIOSNativePlayer_=function(){var n=this.textTracks(),a,s=function(){a=[];for(var u=0;u<n.length;u++){var c=n[u];c.kind==="metadata"&&a.push({track:c,storedMode:c.mode})}};s(),n.addEventListener("change",s),this.on("dispose",function(){return n.removeEventListener("change",s)});var o=function l(){for(var u=0;u<a.length;u++){var c=a[u];c.track.mode==="disabled"&&c.track.mode!==c.storedMode&&(c.track.mode=c.storedMode)}n.removeEventListener("change",l)};this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",s),n.removeEventListener("change",o),n.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",s),n.addEventListener("change",s),n.removeEventListener("change",o)})},r.overrideNative_=function(n,a){var s=this;if(a===this["featuresNative"+n+"Tracks"]){var o=n.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(l){var u=s.el()[o+"Tracks"];u.removeEventListener(l,s[o+"TracksListeners_"][l])}),this["featuresNative"+n+"Tracks"]=!a,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},r.overrideNativeAudioTracks=function(n){this.overrideNative_("Audio",n)},r.overrideNativeVideoTracks=function(n){this.overrideNative_("Video",n)},r.proxyNativeTracksForType_=function(n){var a=this,s=Wn[n],o=this.el()[s.getterName],l=this[s.getterName]();if(!(!this["featuresNative"+s.capitalName+"Tracks"]||!o||!o.addEventListener)){var u={change:function(d){var p={type:"change",target:l,currentTarget:l,srcElement:l};l.trigger(p),n==="text"&&a[_s.remoteText.getterName]().trigger(p)},addtrack:function(d){l.addTrack(d.track)},removetrack:function(d){l.removeTrack(d.track)}},c=function(){for(var d=[],p=0;p<l.length;p++){for(var y=!1,b=0;b<o.length;b++)if(o[b]===l[p]){y=!0;break}y||d.push(l[p])}for(;d.length;)l.removeTrack(d.shift())};this[s.getterName+"Listeners_"]=u,Object.keys(u).forEach(function(f){var d=u[f];o.addEventListener(f,d),a.on("dispose",function(p){return o.removeEventListener(f,d)})}),this.on("loadstart",c),this.on("dispose",function(f){return a.off("loadstart",c)})}},r.proxyNativeTracks_=function(){var n=this;Wn.names.forEach(function(a){n.proxyNativeTracksForType_(a)})},r.createEl=function(){var n=this.options_.tag;if(!n||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(n){var a=n.cloneNode(!0);n.parentNode&&n.parentNode.insertBefore(a,n),t.disposeMediaElement(n),n=a}else{n=ge.createElement("video");var s=this.options_.tag&&Dr(this.options_.tag),o=_t({},s);(!ms||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,ax(n,wt(o,{id:this.options_.techId,class:"vjs-tech"}))}n.playerId=this.options_.playerId}typeof this.options_.preload!="undefined"&&vs(n,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(n.disablePictureInPicture=this.options_.disablePictureInPicture);for(var l=["loop","muted","playsinline","autoplay"],u=0;u<l.length;u++){var c=l[u],f=this.options_[c];typeof f!="undefined"&&(f?vs(n,c,c):sd(n,c),n[c]=f)}return n},r.handleLateInit_=function(n){if(!(n.networkState===0||n.networkState===3)){if(n.readyState===0){var a=!1,s=function(){a=!0};this.on("loadstart",s);var o=function(){a||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",o),a||this.trigger("loadstart")});return}var l=["loadstart"];l.push("loadedmetadata"),n.readyState>=2&&l.push("loadeddata"),n.readyState>=3&&l.push("canplay"),n.readyState>=4&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(u){this.trigger(u)},this)})}},r.setScrubbing=function(n){this.isScrubbing_=n},r.scrubbing=function(){return this.isScrubbing_},r.setCurrentTime=function(n){try{this.isScrubbing_&&this.el_.fastSeek&&ad?this.el_.fastSeek(n):this.el_.currentTime=n}catch(a){Xe(a,"Video is not ready. (Video.js)")}},r.duration=function(){var n=this;if(this.el_.duration===1/0&&ti&&ni&&this.el_.currentTime===0){var a=function s(){n.el_.currentTime>0&&(n.el_.duration===1/0&&n.trigger("durationchange"),n.off("timeupdate",s))};return this.on("timeupdate",a),NaN}return this.el_.duration||NaN},r.width=function(){return this.el_.offsetWidth},r.height=function(){return this.el_.offsetHeight},r.proxyWebkitFullscreen_=function(){var n=this;if("webkitDisplayingFullscreen"in this.el_){var a=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},s=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",function(){n.off("webkitbeginfullscreen",s),n.off("webkitendfullscreen",a)})}},r.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var n=U.navigator&&U.navigator.userAgent||"";if(/Android/.test(n)||!/Chrome|Mac OS X 10.5/.test(n))return!0}return!1},r.enterFullScreen=function(){var n=this.el_;if(n.paused&&n.networkState<=n.HAVE_METADATA)mr(this.el_.play()),this.setTimeout(function(){n.pause();try{n.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},0);else try{n.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},r.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},r.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},r.requestVideoFrameCallback=function(n){return this.featuresVideoFrameCallback?this.el_.requestVideoFrameCallback(n):e.prototype.requestVideoFrameCallback.call(this,n)},r.cancelVideoFrameCallback=function(n){this.featuresVideoFrameCallback?this.el_.cancelVideoFrameCallback(n):e.prototype.cancelVideoFrameCallback.call(this,n)},r.src=function(n){if(n===void 0)return this.el_.src;this.setSrc(n)},r.reset=function(){t.resetMediaElement(this.el_)},r.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},r.setControls=function(n){this.el_.controls=!!n},r.addTextTrack=function(n,a,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(n,a,s):e.prototype.addTextTrack.call(this,n,a,s)},r.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,n);var a=ge.createElement("track");return n.kind&&(a.kind=n.kind),n.label&&(a.label=n.label),(n.language||n.srclang)&&(a.srclang=n.language||n.srclang),n.default&&(a.default=n.default),n.id&&(a.id=n.id),n.src&&(a.src=n.src),a},r.addRemoteTextTrack=function(n,a){var s=e.prototype.addRemoteTextTrack.call(this,n,a);return this.featuresNativeTextTracks&&this.el().appendChild(s),s},r.removeRemoteTextTrack=function(n){if(e.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var a=this.$$("track"),s=a.length;s--;)(n===a[s]||n===a[s].track)&&this.el().removeChild(a[s])},r.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var n={};return typeof this.el().webkitDroppedFrameCount!="undefined"&&typeof this.el().webkitDecodedFrameCount!="undefined"&&(n.droppedVideoFrames=this.el().webkitDroppedFrameCount,n.totalVideoFrames=this.el().webkitDecodedFrameCount),U.performance&&typeof U.performance.now=="function"?n.creationTime=U.performance.now():U.performance&&U.performance.timing&&typeof U.performance.timing.navigationStart=="number"&&(n.creationTime=U.Date.now()-U.performance.timing.navigationStart),n},t}(mt);Om(we,"TEST_VID",function(){if(!!Ps()){var e=ge.createElement("video"),t=ge.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}});we.isSupported=function(){try{we.TEST_VID.volume=.5}catch{return!1}return!!(we.TEST_VID&&we.TEST_VID.canPlayType)};we.canPlayType=function(e){return we.TEST_VID.canPlayType(e)};we.canPlaySource=function(e,t){return we.canPlayType(e.type)};we.canControlVolume=function(){try{var e=we.TEST_VID.volume;we.TEST_VID.volume=e/2+.1;var t=e!==we.TEST_VID.volume;return t&&bn?(U.setTimeout(function(){we&&we.prototype&&(we.prototype.featuresVolumeControl=e!==we.TEST_VID.volume)}),!1):t}catch{return!1}};we.canMuteVolume=function(){try{var e=we.TEST_VID.muted;return we.TEST_VID.muted=!e,we.TEST_VID.muted?vs(we.TEST_VID,"muted","muted"):sd(we.TEST_VID,"muted","muted"),e!==we.TEST_VID.muted}catch{return!1}};we.canControlPlaybackRate=function(){if(ti&&ni&&ZS<58)return!1;try{var e=we.TEST_VID.playbackRate;return we.TEST_VID.playbackRate=e/2+.1,e!==we.TEST_VID.playbackRate}catch{return!1}};we.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(ge.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(ge.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(ge.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(ge.createElement("audio"),"innerHTML",{get:e,set:e})}catch{return!1}return!0};we.supportsNativeTextTracks=function(){return ad||bn&&ni};we.supportsNativeVideoTracks=function(){return!!(we.TEST_VID&&we.TEST_VID.videoTracks)};we.supportsNativeAudioTracks=function(){return!!(we.TEST_VID&&we.TEST_VID.audioTracks)};we.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(e){var t=e[0],r=e[1];Om(we.prototype,t,function(){return we[r]()},!0)});we.prototype.featuresVolumeControl=we.canControlVolume();we.prototype.movingMediaElementInDOM=!bn;we.prototype.featuresFullscreenResize=!0;we.prototype.featuresProgressEvents=!0;we.prototype.featuresTimeupdateEvents=!0;we.prototype.featuresVideoFrameCallback=!!(we.TEST_VID&&we.TEST_VID.requestVideoFrameCallback);var hc;we.patchCanPlayType=function(){rm>=4&&!JS&&!ni&&(hc=we.TEST_VID&&we.TEST_VID.constructor.prototype.canPlayType,we.TEST_VID.constructor.prototype.canPlayType=function(e){var t=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return e&&t.test(e)?"maybe":hc.call(this,e)})};we.unpatchCanPlayType=function(){var e=we.TEST_VID.constructor.prototype.canPlayType;return hc&&(we.TEST_VID.constructor.prototype.canPlayType=hc),e};we.patchCanPlayType();we.disposeMediaElement=function(e){if(!!e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),typeof e.load=="function"&&function(){try{e.load()}catch{}}()}};we.resetMediaElement=function(e){if(!!e){for(var t=e.querySelectorAll("source"),r=t.length;r--;)e.removeChild(t[r]);e.removeAttribute("src"),typeof e.load=="function"&&function(){try{e.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){we.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){we.prototype["set"+Lt(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(e){we.prototype[e]=function(){return this.el_[e]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(e){we.prototype["set"+Lt(e)]=function(t){this.el_[e]=t}});["pause","load","play"].forEach(function(e){we.prototype[e]=function(){return this.el_[e]()}});mt.withSourceHandlers(we);we.nativeSourceHandler={};we.nativeSourceHandler.canPlayType=function(e){try{return we.TEST_VID.canPlayType(e)}catch{return""}};we.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return we.nativeSourceHandler.canPlayType(e.type);if(e.src){var r=hm(e.src);return we.nativeSourceHandler.canPlayType("video/"+r)}return""};we.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)};we.nativeSourceHandler.dispose=function(){};we.registerSourceHandler(we.nativeSourceHandler);mt.registerTech("Html5",we);var Jx=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],pf={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Ch=["tiny","xsmall","small","medium","large","xlarge","huge"],Ru={};Ch.forEach(function(e){var t=e.charAt(0)==="x"?"x-"+e.substring(1):e;Ru[e]="vjs-layout-"+t});var PB={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Rt=function(e){Se(t,e);function t(i,n,a){var s;if(i.id=i.id||n.id||"vjs_video_"+ri(),n=wt(t.getTagSettings(i),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if(typeof i.closest=="function"){var o=i.closest("[lang]");o&&o.getAttribute&&(n.language=o.getAttribute("lang"))}else for(var l=i;l&&l.nodeType===1;){if(Dr(l).hasOwnProperty("lang")){n.language=l.getAttribute("lang");break}l=l.parentNode}if(s=e.call(this,null,n,a)||this,s.boundDocumentFullscreenChange_=function(d){return s.documentFullscreenChange_(d)},s.boundFullWindowOnEscKey_=function(d){return s.fullWindowOnEscKey(d)},s.boundUpdateStyleEl_=function(d){return s.updateStyleEl_(d)},s.boundApplyInitTime_=function(d){return s.applyInitTime_(d)},s.boundUpdateCurrentBreakpoint_=function(d){return s.updateCurrentBreakpoint_(d)},s.boundHandleTechClick_=function(d){return s.handleTechClick_(d)},s.boundHandleTechDoubleClick_=function(d){return s.handleTechDoubleClick_(d)},s.boundHandleTechTouchStart_=function(d){return s.handleTechTouchStart_(d)},s.boundHandleTechTouchMove_=function(d){return s.handleTechTouchMove_(d)},s.boundHandleTechTouchEnd_=function(d){return s.handleTechTouchEnd_(d)},s.boundHandleTechTap_=function(d){return s.handleTechTap_(d)},s.isFullscreen_=!1,s.log=KS(s.id_),s.fsApi_=lc,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,s.audioOnlyMode_=!1,s.audioPosterMode_=!1,s.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&Dr(i),s.language(s.options_.language),n.languages){var u={};Object.getOwnPropertyNames(n.languages).forEach(function(d){u[d.toLowerCase()]=n.languages[d]}),s.languages_=u}else s.languages_=t.prototype.options_.languages;s.resetCache_(),s.poster_=n.poster||"",s.controls_=!!n.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(function(d){if(typeof s[d]!="function")throw new Error('plugin "'+d+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),cm(je(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(Fn(ge,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_);var c=_t(s.options_);n.plugins&&Object.keys(n.plugins).forEach(function(d){s[d](n.plugins[d])}),n.debug&&s.debug(!0),s.options_.playerOptions=c,s.middleware_=[],s.playbackRates(n.playbackRates),s.initChildren(),s.isAudio(i.nodeName.toLowerCase()==="audio"),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),ms&&s.addClass("vjs-touch-enabled"),bn||s.addClass("vjs-workinghover"),t.players[s.id_]=je(s);var f=zS.split(".")[0];return s.addClass("vjs-v"+f),s.userActive(!0),s.reportUserActivity(),s.one("play",function(d){return s.listenForUserActivity_(d)}),s.on("stageclick",function(d){return s.handleStageClick_(d)}),s.on("keydown",function(d){return s.handleKeyDown(d)}),s.on("languagechange",function(d){return s.handleLanguagechange(d)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s.on("ready",function(){s.audioPosterMode(s.options_.audioPosterMode),s.audioOnlyMode(s.options_.audioOnlyMode)}),s}var r=t.prototype;return r.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),an(ge,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),an(ge,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),KN(this),mn.names.forEach(function(a){var s=mn[a],o=n[s.getterName]();o&&o.off&&o.off()}),e.prototype.dispose.call(this)},r.createEl=function(){var n=this.tag,a,s=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";s?a=this.el_=n.parentNode:o||(a=this.el_=e.prototype.createEl.call(this,"div"));var l=Dr(n);if(o){for(a=this.el_=n,n=this.tag=ge.createElement("video");a.children.length;)n.appendChild(a.firstChild);Qi(a,"video-js")||Vr(a,"video-js"),a.appendChild(n),s=this.playerElIngest_=a,Object.keys(a).forEach(function(y){try{n[y]=a[y]}catch{}})}if(n.setAttribute("tabindex","-1"),l.tabindex="-1",(bl||ni&&ex)&&(n.setAttribute("role","application"),l.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(y){o&&y==="class"||a.setAttribute(y,l[y]),o&&n.setAttribute(y,l[y])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=a.player=this,this.addClass("vjs-paused"),U.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=mx("vjs-styles-dimensions");var u=Si(".vjs-styles-defaults"),c=Si("head");c.insertBefore(this.styleEl_,u?u.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var f=n.getElementsByTagName("a"),d=0;d<f.length;d++){var p=f.item(d);Vr(p,"vjs-hidden"),p.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!s&&n.parentNode.insertBefore(a,n),gh(n,a),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=a,a},r.crossOrigin=function(n){if(!n)return this.techGet_("crossOrigin");if(n!=="anonymous"&&n!=="use-credentials"){Xe.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+n+'"');return}this.techCall_("setCrossOrigin",n)},r.width=function(n){return this.dimension("width",n)},r.height=function(n){return this.dimension("height",n)},r.dimension=function(n,a){var s=n+"_";if(a===void 0)return this[s]||0;if(a===""||a==="auto"){this[s]=void 0,this.updateStyleEl_();return}var o=parseFloat(a);if(isNaN(o)){Xe.error('Improper value "'+a+'" supplied for for '+n);return}this[s]=o,this.updateStyleEl_()},r.fluid=function(n){var a=this;if(n===void 0)return!!this.fluid_;this.fluid_=!!n,$r(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),n?(this.addClass("vjs-fluid"),this.fill(!1),_N(this,function(){a.on(["playerreset","resize"],a.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},r.fill=function(n){if(n===void 0)return!!this.fill_;this.fill_=!!n,n?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},r.aspectRatio=function(n){if(n===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(n))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=n,this.fluid(!0),this.updateStyleEl_()},r.updateStyleEl_=function(){if(U.VIDEOJS_NO_DYNAMIC_STYLE===!0){var n=typeof this.width_=="number"?this.width_:this.options_.width,a=typeof this.height_=="number"?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(n>=0&&(s.width=n),a>=0&&(s.height=a));return}var o,l,u,c;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?u=this.aspectRatio_:this.videoWidth()>0?u=this.videoWidth()+":"+this.videoHeight():u="16:9";var f=u.split(":"),d=f[1]/f[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/d:o=this.videoWidth()||300,this.height_!==void 0?l=this.height_:l=o*d,/^[^a-zA-Z]/.test(this.id())?c="dimensions-"+this.id():c=this.id()+"-dimensions",this.addClass(c),vx(this.styleEl_,`
      .`+c+` {
        width: `+o+`px;
        height: `+l+`px;
      }

      .`+c+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+d*100+`%;
      }
    `)},r.loadTech_=function(n,a){var s=this;this.tech_&&this.unloadTech_();var o=Lt(n),l=n.charAt(0).toLowerCase()+n.slice(1);o!=="Html5"&&this.tag&&(mt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var u=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(u=!1);var c={source:a,autoplay:u,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};mn.names.forEach(function(d){var p=mn[d];c[p.getterName]=s[p.privateName]}),wt(c,this.options_[o]),wt(c,this.options_[l]),wt(c,this.options_[n.toLowerCase()]),this.tag&&(c.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(c.startTime=this.cache_.currentTime);var f=mt.getTech(n);if(!f)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new f(c),this.tech_.ready(Tt(this,this.handleTechReady_),!0),ay.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Jx.forEach(function(d){s.on(s.tech_,d,function(p){return s["handleTech"+Lt(d)+"_"](p)})}),Object.keys(pf).forEach(function(d){s.on(s.tech_,d,function(p){if(s.tech_.playbackRate()===0&&s.tech_.seeking()){s.queuedCallbacks_.push({callback:s["handleTech"+pf[d]+"_"].bind(s),event:p});return}s["handleTech"+pf[d]+"_"](p)})}),this.on(this.tech_,"loadstart",function(d){return s.handleTechLoadStart_(d)}),this.on(this.tech_,"sourceset",function(d){return s.handleTechSourceset_(d)}),this.on(this.tech_,"waiting",function(d){return s.handleTechWaiting_(d)}),this.on(this.tech_,"ended",function(d){return s.handleTechEnded_(d)}),this.on(this.tech_,"seeking",function(d){return s.handleTechSeeking_(d)}),this.on(this.tech_,"play",function(d){return s.handleTechPlay_(d)}),this.on(this.tech_,"firstplay",function(d){return s.handleTechFirstPlay_(d)}),this.on(this.tech_,"pause",function(d){return s.handleTechPause_(d)}),this.on(this.tech_,"durationchange",function(d){return s.handleTechDurationChange_(d)}),this.on(this.tech_,"fullscreenchange",function(d,p){return s.handleTechFullscreenChange_(d,p)}),this.on(this.tech_,"fullscreenerror",function(d,p){return s.handleTechFullscreenError_(d,p)}),this.on(this.tech_,"enterpictureinpicture",function(d){return s.handleTechEnterPictureInPicture_(d)}),this.on(this.tech_,"leavepictureinpicture",function(d){return s.handleTechLeavePictureInPicture_(d)}),this.on(this.tech_,"error",function(d){return s.handleTechError_(d)}),this.on(this.tech_,"posterchange",function(d){return s.handleTechPosterChange_(d)}),this.on(this.tech_,"textdata",function(d){return s.handleTechTextData_(d)}),this.on(this.tech_,"ratechange",function(d){return s.handleTechRateChange_(d)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&gh(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},r.unloadTech_=function(){var n=this;mn.names.forEach(function(a){var s=mn[a];n[s.privateName]=n[s.getterName]()}),this.textTracksJson_=ay.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},r.tech=function(n){return n===void 0&&Xe.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},r.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},r.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},r.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},r.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},r.manualAutoplay_=function(n){var a=this;if(!(!this.tech_||typeof n!="string")){var s=function(){var u=a.muted();a.muted(!0);var c=function(){a.muted(u)};a.playTerminatedQueue_.push(c);var f=a.play();if(!!Co(f))return f.catch(function(d){throw c(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(d||""))})},o;if(n==="any"&&!this.muted()?(o=this.play(),Co(o)&&(o=o.catch(s))):n==="muted"&&!this.muted()?o=s():o=this.play(),!!Co(o))return o.then(function(){a.trigger({type:"autoplay-success",autoplay:n})}).catch(function(){a.trigger({type:"autoplay-failure",autoplay:n})})}},r.updateSourceCaches_=function(n){n===void 0&&(n="");var a=n,s="";typeof a!="string"&&(a=n.src,s=n.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!s&&(s=QN(this,a)),this.cache_.source=_t({},n,{src:a,type:s});for(var o=this.cache_.sources.filter(function(p){return p.src&&p.src===a}),l=[],u=this.$$("source"),c=[],f=0;f<u.length;f++){var d=Dr(u[f]);l.push(d),d.src&&d.src===a&&c.push(d.src)}c.length&&!o.length?this.cache_.sources=l:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},r.handleTechSourceset_=function(n){var a=this;if(!this.changingSrc_){var s=function(c){return a.updateSourceCaches_(c)},o=this.currentSource().src,l=n.src;o&&!/^blob:/.test(o)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==o)&&(s=function(){}),s(l),n.src||this.tech_.any(["sourceset","loadstart"],function(u){if(u.type!=="sourceset"){var c=a.techGet("currentSrc");a.lastSource_.tech=c,a.updateSourceCaches_(c)}})}this.lastSource_={player:this.currentSource().src,tech:n.src},this.trigger({src:n.src,type:"sourceset"})},r.hasStarted=function(n){if(n===void 0)return this.hasStarted_;n!==this.hasStarted_&&(this.hasStarted_=n,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},r.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},r.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(n){return n.callback(n.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},r.handleTechWaiting_=function(){var n=this;this.addClass("vjs-waiting"),this.trigger("waiting");var a=this.currentTime(),s=function o(){a!==n.currentTime()&&(n.removeClass("vjs-waiting"),n.off("timeupdate",o))};this.on("timeupdate",s)},r.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},r.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},r.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},r.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},r.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},r.handleTechFirstPlay_=function(){this.options_.starttime&&(Xe.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},r.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},r.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},r.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},r.handleTechClick_=function(n){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,n):this.paused()?mr(this.play()):this.pause())},r.handleTechDoubleClick_=function(n){if(!!this.controls_){var a=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(s){return s.contains(n.target)});a||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,n):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},r.handleTechTap_=function(){this.userActive(!this.userActive())},r.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},r.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},r.handleTechTouchEnd_=function(n){n.cancelable&&n.preventDefault()},r.handleStageClick_=function(){this.reportUserActivity()},r.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},r.documentFullscreenChange_=function(n){var a=n.target.player;if(!(a&&a!==this)){var s=this.el(),o=ge[this.fsApi_.fullscreenElement]===s;!o&&s.matches?o=s.matches(":"+this.fsApi_.fullscreen):!o&&s.msMatchesSelector&&(o=s.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}},r.handleTechFullscreenChange_=function(n,a){var s=this;a&&(a.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){s.removeClass("vjs-ios-native-fs")})),this.isFullscreen(a.isFullscreen))},r.handleTechFullscreenError_=function(n,a){this.trigger("fullscreenerror",a)},r.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},r.handleTechEnterPictureInPicture_=function(n){this.isInPictureInPicture(!0)},r.handleTechLeavePictureInPicture_=function(n){this.isInPictureInPicture(!1)},r.handleTechError_=function(){var n=this.tech_.error();this.error(n)},r.handleTechTextData_=function(){var n=null;arguments.length>1&&(n=arguments[1]),this.trigger("textdata",n)},r.getCache=function(){return this.cache_},r.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},r.techCall_=function(n,a){this.ready(function(){if(n in qN)return WN(this.middleware_,this.tech_,n,a);if(n in dy)return cy(this.middleware_,this.tech_,n,a);try{this.tech_&&this.tech_[n](a)}catch(s){throw Xe(s),s}},!0)},r.techGet_=function(n){if(!(!this.tech_||!this.tech_.isReady_)){if(n in zN)return HN(this.middleware_,this.tech_,n);if(n in dy)return cy(this.middleware_,this.tech_,n);try{return this.tech_[n]()}catch(a){throw this.tech_[n]===void 0?(Xe("Video.js: "+n+" method not defined for "+this.techName_+" playback technology.",a),a):a.name==="TypeError"?(Xe("Video.js: "+n+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a):(Xe(a),a)}}},r.play=function(){var n=this,a=this.options_.Promise||U.Promise;return a?new a(function(s){n.play_(s)}):this.play_()},r.play_=function(n){var a=this;n===void 0&&(n=mr),this.playCallbacks_.push(n);var s=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s){this.waitToPlay_=function(l){a.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!s&&(ad||bn)&&this.load();return}var o=this.techGet_("play");o===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(o)},r.runPlayTerminatedQueue_=function(){var n=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],n.forEach(function(a){a()})},r.runPlayCallbacks_=function(n){var a=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],a.forEach(function(s){s(n)})},r.pause=function(){this.techCall_("pause")},r.paused=function(){return this.techGet_("paused")!==!1},r.played=function(){return this.techGet_("played")||Ji(0,0)},r.scrubbing=function(n){if(typeof n=="undefined")return this.scrubbing_;this.scrubbing_=!!n,this.techCall_("setScrubbing",this.scrubbing_),n?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},r.currentTime=function(n){if(typeof n!="undefined"){if(n<0&&(n=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=n,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",n),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},r.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},r.duration=function(n){if(n===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;n=parseFloat(n),n<0&&(n=1/0),n!==this.cache_.duration&&(this.cache_.duration=n,n===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(n)||this.trigger("durationchange"))},r.remainingTime=function(){return this.duration()-this.currentTime()},r.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},r.buffered=function(){var n=this.techGet_("buffered");return(!n||!n.length)&&(n=Ji(0,0)),n},r.bufferedPercent=function(){return Sx(this.buffered(),this.duration())},r.bufferedEnd=function(){var n=this.buffered(),a=this.duration(),s=n.end(n.length-1);return s>a&&(s=a),s},r.volume=function(n){var a;if(n!==void 0){a=Math.max(0,Math.min(1,parseFloat(n))),this.cache_.volume=a,this.techCall_("setVolume",a),a>0&&this.lastVolume_(a);return}return a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a},r.muted=function(n){if(n!==void 0){this.techCall_("setMuted",n);return}return this.techGet_("muted")||!1},r.defaultMuted=function(n){return n!==void 0?this.techCall_("setDefaultMuted",n):this.techGet_("defaultMuted")||!1},r.lastVolume_=function(n){if(n!==void 0&&n!==0){this.cache_.lastVolume=n;return}return this.cache_.lastVolume},r.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},r.isFullscreen=function(n){if(n!==void 0){var a=this.isFullscreen_;this.isFullscreen_=Boolean(n),this.isFullscreen_!==a&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},r.requestFullscreen=function(n){var a=this.options_.Promise||U.Promise;if(a){var s=this;return new a(function(o,l){function u(){s.off("fullscreenerror",f),s.off("fullscreenchange",c)}function c(){u(),o()}function f(p,y){u(),l(y)}s.one("fullscreenchange",c),s.one("fullscreenerror",f);var d=s.requestFullscreenHelper_(n);d&&(d.then(u,u),d.then(o,l))})}return this.requestFullscreenHelper_()},r.requestFullscreenHelper_=function(n){var a=this,s;if(this.fsApi_.prefixed||(s=this.options_.fullscreen&&this.options_.fullscreen.options||{},n!==void 0&&(s=n)),this.fsApi_.requestFullscreen){var o=this.el_[this.fsApi_.requestFullscreen](s);return o&&o.then(function(){return a.isFullscreen(!0)},function(){return a.isFullscreen(!1)}),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},r.exitFullscreen=function(){var n=this.options_.Promise||U.Promise;if(n){var a=this;return new n(function(s,o){function l(){a.off("fullscreenerror",c),a.off("fullscreenchange",u)}function u(){l(),s()}function c(d,p){l(),o(p)}a.one("fullscreenchange",u),a.one("fullscreenerror",c);var f=a.exitFullscreenHelper_();f&&(f.then(l,l),f.then(s,o))})}return this.exitFullscreenHelper_()},r.exitFullscreenHelper_=function(){var n=this;if(this.fsApi_.requestFullscreen){var a=ge[this.fsApi_.exitFullscreen]();return a&&mr(a.then(function(){return n.isFullscreen(!1)})),a}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},r.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=ge.documentElement.style.overflow,Fn(ge,"keydown",this.boundFullWindowOnEscKey_),ge.documentElement.style.overflow="hidden",Vr(ge.body,"vjs-full-window"),this.trigger("enterFullWindow")},r.fullWindowOnEscKey=function(n){We.isEventKey(n,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},r.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,an(ge,"keydown",this.boundFullWindowOnEscKey_),ge.documentElement.style.overflow=this.docOrigOverflow,Tl(ge.body,"vjs-full-window"),this.trigger("exitFullWindow")},r.disablePictureInPicture=function(n){if(n===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",n),this.options_.disablePictureInPicture=n,this.trigger("disablepictureinpicturechanged")},r.isInPictureInPicture=function(n){if(n!==void 0){this.isInPictureInPicture_=!!n,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},r.requestPictureInPicture=function(){if("pictureInPictureEnabled"in ge&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},r.exitPictureInPicture=function(){if("pictureInPictureEnabled"in ge)return ge.exitPictureInPicture()},r.handleKeyDown=function(n){var a=this.options_.userActions;if(!(!a||!a.hotkeys)){var s=function(l){var u=l.tagName.toLowerCase();if(l.isContentEditable)return!0;var c=["button","checkbox","hidden","radio","reset","submit"];if(u==="input")return c.indexOf(l.type)===-1;var f=["textarea"];return f.indexOf(u)!==-1};s(this.el_.ownerDocument.activeElement)||(typeof a.hotkeys=="function"?a.hotkeys.call(this,n):this.handleHotkeys(n))}},r.handleHotkeys=function(n){var a=this.options_.userActions?this.options_.userActions.hotkeys:{},s=a.fullscreenKey,o=s===void 0?function(b){return We.isEventKey(b,"f")}:s,l=a.muteKey,u=l===void 0?function(b){return We.isEventKey(b,"m")}:l,c=a.playPauseKey,f=c===void 0?function(b){return We.isEventKey(b,"k")||We.isEventKey(b,"Space")}:c;if(o.call(this,n)){n.preventDefault(),n.stopPropagation();var d=oe.getComponent("FullscreenToggle");ge[this.fsApi_.fullscreenEnabled]!==!1&&d.prototype.handleClick.call(this,n)}else if(u.call(this,n)){n.preventDefault(),n.stopPropagation();var p=oe.getComponent("MuteToggle");p.prototype.handleClick.call(this,n)}else if(f.call(this,n)){n.preventDefault(),n.stopPropagation();var y=oe.getComponent("PlayToggle");y.prototype.handleClick.call(this,n)}},r.canPlayType=function(n){for(var a,s=0,o=this.options_.techOrder;s<o.length;s++){var l=o[s],u=mt.getTech(l);if(u||(u=oe.getComponent(l)),!u){Xe.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.');continue}if(u.isSupported()&&(a=u.canPlayType(n),a))return a}return""},r.selectSource=function(n){var a=this,s=this.options_.techOrder.map(function(f){return[f,mt.getTech(f)]}).filter(function(f){var d=f[0],p=f[1];return p?p.isSupported():(Xe.error('The "'+d+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(d,p,y){var b;return d.some(function(T){return p.some(function(S){if(b=y(T,S),b)return!0})}),b},l,u=function(d){return function(p,y){return d(y,p)}},c=function(d,p){var y=d[0],b=d[1];if(b.canPlaySource(p,a.options_[y.toLowerCase()]))return{source:p,tech:y}};return this.options_.sourceOrder?l=o(n,s,u(c)):l=o(s,n,c),l||!1},r.handleSrc_=function(n,a){var s=this;if(typeof n=="undefined")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var o=JN(n);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}if(this.changingSrc_=!0,a||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),$N(this,o[0],function(c,f){s.middleware_=f,a||(s.cache_.sources=o),s.updateSourceCaches_(c);var d=s.src_(c);if(d){if(o.length>1)return s.handleSrc_(o.slice(1));s.changingSrc_=!1,s.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),s.triggerReady();return}jN(f,s.tech_)}),this.options_.retryOnError&&o.length>1){var l=function(){s.error(null),s.handleSrc_(o.slice(1),!0)},u=function(){s.off("error",l)};this.one("error",l),this.one("playing",u),this.resetRetryOnError_=function(){s.off("error",l),s.off("playing",u)}}},r.src=function(n){return this.handleSrc_(n,!1)},r.src_=function(n){var a=this,s=this.selectSource([n]);return s?SN(s.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",n):this.techCall_("src",n.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){a.changingSrc_=!1}),!1):!0},r.load=function(){this.techCall_("load")},r.reset=function(){var n=this,a=this.options_.Promise||U.Promise;if(this.paused()||!a)this.doReset_();else{var s=this.play();mr(s.then(function(){return n.doReset_()}))}},r.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),$r(this)&&this.trigger("playerreset")},r.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},r.resetProgressBar_=function(){this.currentTime(0);var n=this.controlBar,a=n.durationDisplay,s=n.remainingTimeDisplay;a&&a.updateContent(),s&&s.updateContent()},r.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},r.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},r.currentSources=function(){var n=this.currentSource(),a=[];return Object.keys(n).length!==0&&a.push(n),this.cache_.sources||a},r.currentSource=function(){return this.cache_.source||{}},r.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},r.currentType=function(){return this.currentSource()&&this.currentSource().type||""},r.preload=function(n){if(n!==void 0){this.techCall_("setPreload",n),this.options_.preload=n;return}return this.techGet_("preload")},r.autoplay=function(n){if(n===void 0)return this.options_.autoplay||!1;var a;typeof n=="string"&&/(any|play|muted)/.test(n)||n===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=n,this.manualAutoplay_(typeof n=="string"?n:"play"),a=!1):n?this.options_.autoplay=!0:this.options_.autoplay=!1,a=typeof a=="undefined"?this.options_.autoplay:a,this.tech_&&this.techCall_("setAutoplay",a)},r.playsinline=function(n){return n!==void 0?(this.techCall_("setPlaysinline",n),this.options_.playsinline=n,this):this.techGet_("playsinline")},r.loop=function(n){if(n!==void 0){this.techCall_("setLoop",n),this.options_.loop=n;return}return this.techGet_("loop")},r.poster=function(n){if(n===void 0)return this.poster_;n||(n=""),n!==this.poster_&&(this.poster_=n,this.techCall_("setPoster",n),this.isPosterFromTech_=!1,this.trigger("posterchange"))},r.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var n=this.tech_.poster()||"";n!==this.poster_&&(this.poster_=n,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},r.controls=function(n){if(n===void 0)return!!this.controls_;n=!!n,this.controls_!==n&&(this.controls_=n,this.usingNativeControls()&&this.techCall_("setControls",n),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},r.usingNativeControls=function(n){if(n===void 0)return!!this.usingNativeControls_;n=!!n,this.usingNativeControls_!==n&&(this.usingNativeControls_=n,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},r.error=function(n){var a=this;if(n===void 0)return this.error_||null;if(Ti("beforeerror").forEach(function(o){var l=o(a,n);if(!(Gr(l)&&!Array.isArray(l)||typeof l=="string"||typeof l=="number"||l===null)){a.log.error("please return a value that MediaError expects in beforeerror hooks");return}n=l}),this.options_.suppressNotSupportedError&&n&&n.code===4){var s=function(){this.error(n)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],s),this.one("loadstart",function(){this.off(["click","touchstart"],s)});return}if(n===null){this.error_=n,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new _n(n),this.addClass("vjs-error"),Xe.error("(CODE:"+this.error_.code+" "+_n.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Ti("error").forEach(function(o){return o(a,a.error_)})},r.reportUserActivity=function(n){this.userActivity_=!0},r.userActive=function(n){if(n===void 0)return this.userActive_;if(n=!!n,n!==this.userActive_){if(this.userActive_=n,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},r.listenForUserActivity_=function(){var n,a,s,o=Tt(this,this.reportUserActivity),l=function(y){(y.screenX!==a||y.screenY!==s)&&(a=y.screenX,s=y.screenY,o())},u=function(){o(),this.clearInterval(n),n=this.setInterval(o,250)},c=function(y){o(),this.clearInterval(n)};this.on("mousedown",u),this.on("mousemove",l),this.on("mouseup",c),this.on("mouseleave",c);var f=this.getChild("controlBar");f&&!bn&&!ti&&(f.on("mouseenter",function(p){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),f.on("mouseleave",function(p){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var d;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(d);var p=this.options_.inactivityTimeout;p<=0||(d=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},p))}},250)},r.playbackRate=function(n){if(n!==void 0){this.techCall_("setPlaybackRate",n);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},r.defaultPlaybackRate=function(n){return n!==void 0?this.techCall_("setDefaultPlaybackRate",n):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},r.isAudio=function(n){if(n!==void 0){this.isAudio_=!!n;return}return!!this.isAudio_},r.enableAudioOnlyUI_=function(){var n=this;this.addClass("vjs-audio-only-mode");var a=this.children(),s=this.getChild("ControlBar"),o=s&&s.currentHeight();a.forEach(function(l){l!==s&&l.el_&&!l.hasClass("vjs-hidden")&&(l.hide(),n.audioOnlyCache_.hiddenChildren.push(l))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(o),this.trigger("audioonlymodechange")},r.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(n){return n.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},r.audioOnlyMode=function(n){var a=this;if(typeof n!="boolean"||n===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=n;var s=this.options_.Promise||U.Promise;if(s){if(n){var o=[];return this.isInPictureInPicture()&&o.push(this.exitPictureInPicture()),this.isFullscreen()&&o.push(this.exitFullscreen()),this.audioPosterMode()&&o.push(this.audioPosterMode(!1)),s.all(o).then(function(){return a.enableAudioOnlyUI_()})}return s.resolve().then(function(){return a.disableAudioOnlyUI_()})}n?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},r.enablePosterModeUI_=function(){var n=this.tech_&&this.tech_;n.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},r.disablePosterModeUI_=function(){var n=this.tech_&&this.tech_;n.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},r.audioPosterMode=function(n){var a=this;if(typeof n!="boolean"||n===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=n;var s=this.options_.Promise||U.Promise;if(s){if(n){if(this.audioOnlyMode()){var o=this.audioOnlyMode(!1);return o.then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.disablePosterModeUI_()})}if(n){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},r.addTextTrack=function(n,a,s){if(this.tech_)return this.tech_.addTextTrack(n,a,s)},r.addRemoteTextTrack=function(n,a){if(this.tech_)return this.tech_.addRemoteTextTrack(n,a)},r.removeRemoteTextTrack=function(n){n===void 0&&(n={});var a=n,s=a.track;if(s||(s=n),this.tech_)return this.tech_.removeRemoteTextTrack(s)},r.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},r.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},r.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},r.language=function(n){if(n===void 0)return this.language_;this.language_!==String(n).toLowerCase()&&(this.language_=String(n).toLowerCase(),$r(this)&&this.trigger("languagechange"))},r.languages=function(){return _t(t.prototype.options_.languages,this.languages_)},r.toJSON=function(){var n=_t(this.options_),a=n.tracks;n.tracks=[];for(var s=0;s<a.length;s++){var o=a[s];o=_t(o),o.player=void 0,n.tracks[s]=o}return n},r.createModal=function(n,a){var s=this;a=a||{},a.content=n||"";var o=new Os(this,a);return this.addChild(o),o.on("dispose",function(){s.removeChild(o)}),o.open(),o},r.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var n=this.currentBreakpoint(),a=this.currentWidth(),s=0;s<Ch.length;s++){var o=Ch[s],l=this.breakpoints_[o];if(a<=l){if(n===o)return;n&&this.removeClass(Ru[n]),this.addClass(Ru[o]),this.breakpoint_=o;break}}},r.removeCurrentBreakpoint_=function(){var n=this.currentBreakpointClass();this.breakpoint_="",n&&this.removeClass(n)},r.breakpoints=function(n){return n===void 0?wt(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=wt({},PB,n),this.updateCurrentBreakpoint_(),wt(this.breakpoints_))},r.responsive=function(n){if(n===void 0)return this.responsive_;n=Boolean(n);var a=this.responsive_;if(n!==a)return this.responsive_=n,n?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),n},r.currentBreakpoint=function(){return this.breakpoint_},r.currentBreakpointClass=function(){return Ru[this.breakpoint_]||""},r.loadMedia=function(n,a){var s=this;if(!(!n||typeof n!="object")){this.reset(),this.cache_.media=_t(n);var o=this.cache_.media,l=o.artwork,u=o.poster,c=o.src,f=o.textTracks;!l&&u&&(this.cache_.media.artwork=[{src:u,type:dc(u)}]),c&&this.src(c),u&&this.poster(u),Array.isArray(f)&&f.forEach(function(d){return s.addRemoteTextTrack(d,!1)}),this.ready(a)}},r.getMedia=function(){if(!this.cache_.media){var n=this.poster(),a=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),function(l){return{kind:l.kind,label:l.label,language:l.language,src:l.src}}),o={src:a,textTracks:s};return n&&(o.poster=n,o.artwork=[{src:o.poster,type:dc(o.poster)}]),o}return _t(this.cache_.media)},t.getTagSettings=function(n){var a={sources:[],tracks:[]},s=Dr(n),o=s["data-setup"];if(Qi(n,"vjs-fill")&&(s.fill=!0),Qi(n,"vjs-fluid")&&(s.fluid=!0),o!==null){var l=mR(o||"{}"),u=l[0],c=l[1];u&&Xe.error(u),wt(s,c)}if(wt(a,s),n.hasChildNodes())for(var f=n.childNodes,d=0,p=f.length;d<p;d++){var y=f[d],b=y.nodeName.toLowerCase();b==="source"?a.sources.push(Dr(y)):b==="track"&&a.tracks.push(Dr(y))}return a},r.flexNotSupported_=function(){var n=ge.createElement("i");return!("flexBasis"in n.style||"webkitFlexBasis"in n.style||"mozFlexBasis"in n.style||"msFlexBasis"in n.style||"msFlexOrder"in n.style)},r.debug=function(n){if(n===void 0)return this.debugEnabled_;n?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},r.playbackRates=function(n){if(n===void 0)return this.cache_.playbackRates;!Array.isArray(n)||!n.every(function(a){return typeof a=="number"})||(this.cache_.playbackRates=n,this.trigger("playbackrateschange"))},t}(oe);mn.names.forEach(function(e){var t=mn[e];Rt.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}});Rt.prototype.crossorigin=Rt.prototype.crossOrigin;Rt.players={};var Zs=U.navigator;Rt.prototype.options_={techOrder:mt.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Zs&&(Zs.languages&&Zs.languages[0]||Zs.userLanguage||Zs.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(e){Rt.prototype[e]=function(){return this.techGet_(e)}});Jx.forEach(function(e){Rt.prototype["handleTech"+Lt(e)+"_"]=function(){return this.trigger(e)}});oe.registerComponent("Player",Rt);var pc="plugin",es="activePlugins_",ja={},mc=function(t){return ja.hasOwnProperty(t)},Mu=function(t){return mc(t)?ja[t]:void 0},Zx=function(t,r){t[es]=t[es]||{},t[es][r]=!0},vc=function(t,r,i){var n=(i?"before":"")+"pluginsetup";t.trigger(n,r),t.trigger(n+":"+r.name,r)},AB=function(t,r){var i=function(){vc(this,{name:t,plugin:r,instance:null},!0);var a=r.apply(this,arguments);return Zx(this,t),vc(this,{name:t,plugin:r,instance:a}),a};return Object.keys(r).forEach(function(n){i[n]=r[n]}),i},Cy=function(t,r){return r.prototype.name=t,function(){vc(this,{name:t,plugin:r,instance:null},!0);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];var s=Iu(r,[this].concat(n));return this[t]=function(){return s},vc(this,s.getEventHash()),s}},br=function(){function e(r){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=r,this.log||(this.log=this.player.log.createLogger(this.name)),cm(this),delete this.trigger,Tx(this,this.constructor.defaultState),Zx(r,this.name),this.dispose=this.dispose.bind(this),r.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(i){return i===void 0&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},t.trigger=function(i,n){return n===void 0&&(n={}),Is(this.eventBusEl_,i,this.getEventHash(n))},t.handleStateChanged=function(i){},t.dispose=function(){var i=this.name,n=this.player;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[es][i]=!1,this.player=this.state=null,n[i]=Cy(i,ja[i])},e.isBasic=function(i){var n=typeof i=="string"?Mu(i):i;return typeof n=="function"&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(i,n){if(typeof i!="string")throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(mc(i))Xe.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(Rt.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if(typeof n!="function")throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof n+".");return ja[i]=n,i!==pc&&(e.isBasic(n)?Rt.prototype[i]=AB(i,n):Rt.prototype[i]=Cy(i,n)),n},e.deregisterPlugin=function(i){if(i===pc)throw new Error("Cannot de-register base plugin.");mc(i)&&(delete ja[i],delete Rt.prototype[i])},e.getPlugins=function(i){i===void 0&&(i=Object.keys(ja));var n;return i.forEach(function(a){var s=Mu(a);s&&(n=n||{},n[a]=s)}),n},e.getPluginVersion=function(i){var n=Mu(i);return n&&n.VERSION||""},e}();br.getPlugin=Mu;br.BASE_PLUGIN_NAME=pc;br.registerPlugin(pc,br);Rt.prototype.usingPlugin=function(e){return!!this[es]&&this[es][e]===!0};Rt.prototype.hasPlugin=function(e){return!!mc(e)};var IB=function(t,r){r===void 0&&(r={});var i=function(){t.apply(this,arguments)},n={};typeof r=="object"?(r.constructor!==Object.prototype.constructor&&(i=r.constructor),n=r):typeof r=="function"&&(i=r),rM(i,t),t&&(i.super_=t);for(var a in n)n.hasOwnProperty(a)&&(i.prototype[a]=n[a]);return i},eE=function(t){return t.indexOf("#")===0?t.slice(1):t};function G(e,t,r){var i=G.getPlayer(e);if(i)return t&&Xe.warn('Player "'+e+'" is already initialised. Options will not be applied.'),r&&i.ready(r),i;var n=typeof e=="string"?Si("#"+eE(e)):e;if(!As(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!n.ownerDocument.defaultView||!n.ownerDocument.body.contains(n))&&Xe.warn("The element supplied is not included in the DOM"),t=t||{},Ti("beforesetup").forEach(function(s){var o=s(n,_t(t));if(!Gr(o)||Array.isArray(o)){Xe.error("please return an object in beforesetup hooks");return}t=_t(t,o)});var a=oe.getComponent("Player");return i=new a(n,t,r),Ti("setup").forEach(function(s){return s(i)}),i}G.hooks_=Fr;G.hooks=Ti;G.hook=rN;G.hookOnce=iN;G.removeHook=qS;if(U.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Ps()){var gu=Si(".vjs-styles-defaults");if(!gu){gu=mx("vjs-styles-defaults");var mf=Si("head");mf&&mf.insertBefore(gu,mf.firstChild),vx(gu,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}_h(1,G);G.VERSION=zS;G.options=Rt.prototype.options_;G.getPlayers=function(){return Rt.players};G.getPlayer=function(e){var t=Rt.players,r;if(typeof e=="string"){var i=eE(e),n=t[i];if(n)return n;r=Si("#"+i)}else r=e;if(As(r)){var a=r,s=a.player,o=a.playerId;if(s||t[o])return s||t[o]}};G.getAllPlayers=function(){return Object.keys(Rt.players).map(function(e){return Rt.players[e]}).filter(Boolean)};G.players=Rt.players;G.getComponent=oe.getComponent;G.registerComponent=function(e,t){mt.isTech(t)&&Xe.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),oe.registerComponent.call(oe,e,t)};G.getTech=mt.getTech;G.registerTech=mt.registerTech;G.use=VN;Object.defineProperty(G,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(G.middleware,"TERMINATOR",{value:cc,writeable:!1,enumerable:!0});G.browser=cN;G.TOUCH_ENABLED=ms;G.extend=IB;G.mergeOptions=_t;G.bind=Tt;G.registerPlugin=br.registerPlugin;G.deregisterPlugin=br.deregisterPlugin;G.plugin=function(e,t){return Xe.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),br.registerPlugin(e,t)};G.getPlugins=br.getPlugins;G.getPlugin=br.getPlugin;G.getPluginVersion=br.getPluginVersion;G.addLanguage=function(e,t){var r;return e=(""+e).toLowerCase(),G.options.languages=_t(G.options.languages,(r={},r[e]=t,r)),G.options.languages[e]};G.log=Xe;G.createLogger=KS;G.createTimeRange=G.createTimeRanges=Ji;G.formatTime=bs;G.setFormatTime=aB;G.resetFormatTime=sB;G.parseUrl=fm;G.isCrossOrigin=dd;G.EventTarget=qt;G.on=Fn;G.one=ud;G.off=an;G.trigger=Is;G.xhr=QT;G.TextTrack=Sl;G.AudioTrack=Cx;G.VideoTrack=wx;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){G[e]=function(){return Xe.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),hx[e].apply(null,arguments)}});G.computedStyle=Jo;G.dom=hx;G.url=FN;G.defineLazyProperty=Om;G.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.14.2 @license Apache-2.0 */var Zn=Jc,gc=function(t,r,i){return t&&i&&i.responseURL&&r!==i.responseURL?i.responseURL:r},ur=function(t){return G.log.debug?G.log.debug.bind(G,"VHS:",t+" >"):function(){}},xi=1/30,vr=xi*3,tE=function(t,r){var i=[],n;if(t&&t.length)for(n=0;n<t.length;n++)r(t.start(n),t.end(n))&&i.push([t.start(n),t.end(n)]);return G.createTimeRanges(i)},Ha=function(t,r){return tE(t,function(i,n){return i-vr<=r&&n+vr>=r})},yu=function(t,r){return tE(t,function(i){return i-xi>=r})},OB=function(t){if(t.length<2)return G.createTimeRanges();for(var r=[],i=1;i<t.length;i++){var n=t.end(i-1),a=t.start(i);r.push([n,a])}return G.createTimeRanges(r)},LB=function(t,r){var i=null,n=null,a=0,s=[],o=[];if(!t||!t.length||!r||!r.length)return G.createTimeRange();for(var l=t.length;l--;)s.push({time:t.start(l),type:"start"}),s.push({time:t.end(l),type:"end"});for(l=r.length;l--;)s.push({time:r.start(l),type:"start"}),s.push({time:r.end(l),type:"end"});for(s.sort(function(u,c){return u.time-c.time}),l=0;l<s.length;l++)s[l].type==="start"?(a++,a===2&&(i=s[l].time)):s[l].type==="end"&&(a--,a===1&&(n=s[l].time)),i!==null&&n!==null&&(o.push([i,n]),i=null,n=null);return G.createTimeRanges(o)},nE=function(t){var r=[];if(!t||!t.length)return"";for(var i=0;i<t.length;i++)r.push(t.start(i)+" => "+t.end(i));return r.join(", ")},DB=function(t,r,i){i===void 0&&(i=1);var n=t.length?t.end(t.length-1):0;return(n-r)/i},Gi=function(t){for(var r=[],i=0;i<t.length;i++)r.push({start:t.start(i),end:t.end(i)});return r},RB=function(t,r){if(t===r)return!1;if(!t&&r||!r&&t||t.length!==r.length)return!0;for(var i=0;i<t.length;i++)if(t.start(i)!==r.start(i)||t.end(i)!==r.end(i))return!0;return!1},wy=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},Lm=function(t,r){var i=0;if(!t||!t.length)return i;for(var n=0;n<t.length;n++){var a=t.start(n),s=t.end(n);if(!(r>s)){if(r>a&&r<=s){i+=s-r;continue}i+=s-a}}return i},ky=G.createTimeRange,Dm=function(t,r){if(!r.preload)return r.duration;var i=0;return(r.parts||[]).forEach(function(n){i+=n.duration}),(r.preloadHints||[]).forEach(function(n){n.type==="PART"&&(i+=t.partTargetDuration)}),i},wh=function(t){return(t.segments||[]).reduce(function(r,i,n){return i.parts?i.parts.forEach(function(a,s){r.push({duration:a.duration,segmentIndex:n,partIndex:s,part:a,segment:i})}):r.push({duration:i.duration,segmentIndex:n,partIndex:null,segment:i,part:null}),r},[])},rE=function(t){var r=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return r&&r.parts||[]},iE=function(t){var r=t.preloadSegment;if(!!r){var i=r.parts,n=r.preloadHints,a=(n||[]).reduce(function(s,o){return s+(o.type==="PART"?1:0)},0);return a+=i&&i.length?i.length:0,a}},aE=function(t,r){if(r.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;var i=rE(r).length>0;return i&&r.serverControl&&r.serverControl.partHoldBack?r.serverControl.partHoldBack:i&&r.partTargetDuration?r.partTargetDuration*3:r.serverControl&&r.serverControl.holdBack?r.serverControl.holdBack:r.targetDuration?r.targetDuration*3:0},MB=function(t,r){var i=0,n=r-t.mediaSequence,a=t.segments[n];if(a){if(typeof a.start!="undefined")return{result:a.start,precise:!0};if(typeof a.end!="undefined")return{result:a.end-a.duration,precise:!0}}for(;n--;){if(a=t.segments[n],typeof a.end!="undefined")return{result:i+a.end,precise:!0};if(i+=Dm(t,a),typeof a.start!="undefined")return{result:i+a.start,precise:!0}}return{result:i,precise:!1}},FB=function(t,r){for(var i=0,n,a=r-t.mediaSequence;a<t.segments.length;a++){if(n=t.segments[a],typeof n.start!="undefined")return{result:n.start-i,precise:!0};if(i+=Dm(t,n),typeof n.end!="undefined")return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}},sE=function(t,r,i){if(typeof r=="undefined"&&(r=t.mediaSequence+t.segments.length),r<t.mediaSequence)return 0;var n=MB(t,r);if(n.precise)return n.result;var a=FB(t,r);return a.precise?a.result:n.result+i},oE=function(t,r,i){if(!t)return 0;if(typeof i!="number"&&(i=0),typeof r=="undefined"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return U.Infinity}return sE(t,r,i)},wo=function(t){var r=t.defaultDuration,i=t.durationList,n=t.startIndex,a=t.endIndex,s=0;if(n>a){var o=[a,n];n=o[0],a=o[1]}if(n<0){for(var l=n;l<Math.min(0,a);l++)s+=r;n=0}for(var u=n;u<a;u++)s+=i[u].duration;return s},lE=function(t,r,i,n){if(!t||!t.segments)return null;if(t.endList)return oE(t);if(r===null)return null;r=r||0;var a=sE(t,t.mediaSequence+t.segments.length,r);return i&&(n=typeof n=="number"?n:aE(null,t),a-=n),Math.max(0,a)},NB=function(t,r,i){var n=!0,a=r||0,s=lE(t,r,n,i);return s===null?ky():ky(a,s)},BB=function(t){for(var r=t.playlist,i=t.currentTime,n=t.startingSegmentIndex,a=t.startingPartIndex,s=t.startTime,o=t.experimentalExactManifestTimings,l=i-s,u=wh(r),c=0,f=0;f<u.length;f++){var d=u[f];if(n===d.segmentIndex&&!(typeof a=="number"&&typeof d.partIndex=="number"&&a!==d.partIndex)){c=f;break}}if(l<0){if(c>0)for(var p=c-1;p>=0;p--){var y=u[p];if(l+=y.duration,o){if(l<0)continue}else if(l+xi<=0)continue;return{partIndex:y.partIndex,segmentIndex:y.segmentIndex,startTime:s-wo({defaultDuration:r.targetDuration,durationList:u,startIndex:c,endIndex:p})}}return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:i}}if(c<0){for(var b=c;b<0;b++)if(l-=r.targetDuration,l<0)return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:i};c=0}for(var T=c;T<u.length;T++){var S=u[T];if(l-=S.duration,o){if(l>0)continue}else if(l-xi>=0)continue;return{partIndex:S.partIndex,segmentIndex:S.segmentIndex,startTime:s+wo({defaultDuration:r.targetDuration,durationList:u,startIndex:c,endIndex:T})}}return{segmentIndex:u[u.length-1].segmentIndex,partIndex:u[u.length-1].partIndex,startTime:i}},uE=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Rm=function(t){return t.excludeUntil&&t.excludeUntil===1/0},md=function(t){var r=uE(t);return!t.disabled&&!r},UB=function(t){return t.disabled},VB=function(t){for(var r=0;r<t.segments.length;r++)if(t.segments[r].key)return!0;return!1},cE=function(t,r){return r.attributes&&r.attributes[t]},$B=function(t,r,i,n){if(n===void 0&&(n=0),!cE("BANDWIDTH",i))return NaN;var a=t*i.attributes.BANDWIDTH;return(a-n*8)/r},kh=function(t,r){if(t.playlists.length===1)return!0;var i=r.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(function(n){return md(n)?(n.attributes.BANDWIDTH||0)<i:!1}).length===0},Mm=function(t,r){return!t&&!r||!t&&r||t&&!r?!1:!!(t===r||t.id&&r.id&&t.id===r.id||t.resolvedUri&&r.resolvedUri&&t.resolvedUri===r.resolvedUri||t.uri&&r.uri&&t.uri===r.uri)},Py=function(t,r){var i=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{},n=!1;for(var a in i){for(var s in i[a])if(n=r(i[a][s]),n)break;if(n)break}return!!n},Cl=function(t){if(!t||!t.playlists||!t.playlists.length){var r=Py(t,function(s){return s.playlists&&s.playlists.length||s.uri});return r}for(var i=function(o){var l=t.playlists[o],u=l.attributes&&l.attributes.CODECS;if(u&&u.split(",").every(function(f){return iS(f)}))return"continue";var c=Py(t,function(f){return Mm(l,f)});return c?"continue":{v:!1}},n=0;n<t.playlists.length;n++){var a=i(n);if(a!=="continue"&&typeof a=="object")return a.v}return!0},En={liveEdgeDelay:aE,duration:oE,seekable:NB,getMediaInfoForTime:BB,isEnabled:md,isDisabled:UB,isBlacklisted:uE,isIncompatible:Rm,playlistEnd:lE,isAes:VB,hasAttribute:cE,estimateSegmentRequestTime:$B,isLowestEnabledRendition:kh,isAudioOnly:Cl,playlistMatch:Mm,segmentDurationWithParts:Dm},dE=G.log,Fm=function(t,r){return t+"-"+r},jB=function(t){var r=t.onwarn,i=t.oninfo,n=t.manifestString,a=t.customTagParsers,s=a===void 0?[]:a,o=t.customTagMappers,l=o===void 0?[]:o,u=t.experimentalLLHLS,c=new cM;r&&c.on("warn",r),i&&c.on("info",i),s.forEach(function(b){return c.addParser(b)}),l.forEach(function(b){return c.addTagMapper(b)}),c.push(n),c.end();var f=c.manifest;if(u||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(b){f.hasOwnProperty(b)&&delete f[b]}),f.segments&&f.segments.forEach(function(b){["parts","preloadHints"].forEach(function(T){b.hasOwnProperty(T)&&delete b[T]})})),!f.targetDuration){var d=10;f.segments&&f.segments.length&&(d=f.segments.reduce(function(b,T){return Math.max(b,T.duration)},0)),r&&r("manifest has no targetDuration defaulting to "+d),f.targetDuration=d}var p=rE(f);if(p.length&&!f.partTargetDuration){var y=p.reduce(function(b,T){return Math.max(b,T.duration)},0);r&&(r("manifest has no partTargetDuration defaulting to "+y),dE.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),f.partTargetDuration=y}return f},wl=function(t,r){!t.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(i){if(!!t.mediaGroups[i])for(var n in t.mediaGroups[i])for(var a in t.mediaGroups[i][n]){var s=t.mediaGroups[i][n][a];r(s,i,n,a)}})},fE=function(t){var r=t.playlist,i=t.uri,n=t.id;r.id=n,r.playlistErrors_=0,i&&(r.uri=i),r.attributes=r.attributes||{}},HB=function(t){for(var r=t.playlists.length;r--;){var i=t.playlists[r];fE({playlist:i,id:Fm(r,i.uri)}),i.resolvedUri=Zn(t.uri,i.uri),t.playlists[i.id]=i,t.playlists[i.uri]=i,i.attributes.BANDWIDTH||dE.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},WB=function(t){wl(t,function(r){r.uri&&(r.resolvedUri=Zn(t.uri,r.uri))})},zB=function(t,r){var i=Fm(0,r),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:U.location.href,resolvedUri:U.location.href,playlists:[{uri:r,id:i,resolvedUri:r,attributes:{}}]};return n.playlists[i]=n.playlists[0],n.playlists[r]=n.playlists[0],n},hE=function(t,r){t.uri=r;for(var i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){var n="placeholder-uri-"+i;t.playlists[i].uri=n}var a=Cl(t);wl(t,function(s,o,l,u){var c="placeholder-uri-"+o+"-"+l+"-"+u;if(!s.playlists||!s.playlists.length){if(a&&o==="AUDIO"&&!s.uri)for(var f=0;f<t.playlists.length;f++){var d=t.playlists[f];if(d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===l)return}s.playlists=[qn({},s)]}s.playlists.forEach(function(p,y){var b=Fm(y,c);p.uri?p.resolvedUri=p.resolvedUri||Zn(t.uri,p.uri):(p.uri=y===0?c:b,p.resolvedUri=p.uri),p.id=p.id||b,p.attributes=p.attributes||{},t.playlists[p.id]=p,t.playlists[p.uri]=p})}),HB(t),WB(t)},yc=G.mergeOptions,qB=G.EventTarget,GB=function(t,r){if(r.endList||!r.serverControl)return t;var i={};if(r.serverControl.canBlockReload){var n=r.preloadSegment,a=r.mediaSequence+r.segments.length;if(n){var s=n.parts||[],o=iE(r)-1;o>-1&&o!==s.length-1&&(i._HLS_part=o),(o>-1||s.length)&&a--}i._HLS_msn=a}if(r.serverControl&&r.serverControl.canSkipUntil&&(i._HLS_skip=r.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){var l=new U.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(u){!i.hasOwnProperty(u)||l.searchParams.set(u,i[u])}),t=l.toString()}return t},KB=function(t,r){if(!t)return r;var i=yc(t,r);if(t.preloadHints&&!r.preloadHints&&delete i.preloadHints,t.parts&&!r.parts)delete i.parts;else if(t.parts&&r.parts)for(var n=0;n<r.parts.length;n++)t.parts&&t.parts[n]&&(i.parts[n]=yc(t.parts[n],r.parts[n]));return!t.skipped&&r.skipped&&(i.skipped=!1),t.preload&&!r.preload&&(i.preload=!1),i},XB=function(t,r,i){var n=t.slice(),a=r.slice();i=i||0;for(var s=[],o,l=0;l<a.length;l++){var u=n[l+i],c=a[l];u?(o=u.map||o,s.push(KB(u,c))):(o&&!c.map&&(c.map=o),s.push(c))}return s},pE=function(t,r){!t.resolvedUri&&t.uri&&(t.resolvedUri=Zn(r,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Zn(r,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Zn(r,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=Zn(r,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=Zn(r,i.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=Zn(r,i.uri))})},mE=function(t){var r=t.segments||[],i=t.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(var n=0;n<i.preloadHints.length;n++)if(i.preloadHints[n].type==="MAP")return r}i.duration=t.targetDuration,i.preload=!0,r.push(i)}return r},vE=function(t,r){return t===r||t.segments&&r.segments&&t.segments.length===r.segments.length&&t.endList===r.endList&&t.mediaSequence===r.mediaSequence&&t.preloadSegment===r.preloadSegment},Ph=function(t,r,i){i===void 0&&(i=vE);var n=yc(t,{}),a=n.playlists[r.id];if(!a||i(a,r))return null;r.segments=mE(r);var s=yc(a,r);if(s.preloadSegment&&!r.preloadSegment&&delete s.preloadSegment,a.segments){if(r.skip){r.segments=r.segments||[];for(var o=0;o<r.skip.skippedSegments;o++)r.segments.unshift({skipped:!0})}s.segments=XB(a.segments,r.segments,r.mediaSequence-a.mediaSequence)}s.segments.forEach(function(u){pE(u,s.resolvedUri)});for(var l=0;l<n.playlists.length;l++)n.playlists[l].id===r.id&&(n.playlists[l]=s);return n.playlists[r.id]=s,n.playlists[r.uri]=s,wl(t,function(u,c,f,d){if(!!u.playlists)for(var p=0;p<u.playlists.length;p++)r.id===u.playlists[p].id&&(u.playlists[p]=s)}),n},Ah=function(t,r){var i=t.segments||[],n=i[i.length-1],a=n&&n.parts&&n.parts[n.parts.length-1],s=a&&a.duration||n&&n.duration;return r&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500},Wa=function(e){Se(t,e);function t(i,n,a){var s;if(a===void 0&&(a={}),s=e.call(this)||this,!i)throw new Error("A non-empty playlist URL or object is required");s.logger_=ur("PlaylistLoader");var o=a,l=o.withCredentials,u=l===void 0?!1:l,c=o.handleManifestRedirects,f=c===void 0?!1:c;s.src=i,s.vhs_=n,s.withCredentials=u,s.handleManifestRedirects=f;var d=n.options_;return s.customTagParsers=d&&d.customTagParsers||[],s.customTagMappers=d&&d.customTagMappers||[],s.experimentalLLHLS=d&&d.experimentalLLHLS||!1,G.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(je(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}var r=t.prototype;return r.handleMediaupdatetimeout_=function(){var n=this;if(this.state==="HAVE_METADATA"){var a=this.media(),s=Zn(this.master.uri,a.uri);this.experimentalLLHLS&&(s=GB(s,a)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:s,withCredentials:this.withCredentials},function(o,l){if(!!n.request){if(o)return n.playlistRequestError(n.request,n.media(),"HAVE_METADATA");n.haveMetadata({playlistString:n.request.responseText,url:n.media().uri,id:n.media().id})}})}},r.playlistRequestError=function(n,a,s){var o=a.uri,l=a.id;this.request=null,s&&(this.state=s),this.error={playlist:this.master.playlists[l],status:n.status,message:"HLS playlist request error at URL: "+o+".",responseText:n.responseText,code:n.status>=500?4:2},this.trigger("error")},r.parseManifest_=function(n){var a=this,s=n.url,o=n.manifestString;return jB({onwarn:function(u){var c=u.message;return a.logger_("m3u8-parser warn for "+s+": "+c)},oninfo:function(u){var c=u.message;return a.logger_("m3u8-parser info for "+s+": "+c)},manifestString:o,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},r.haveMetadata=function(n){var a=n.playlistString,s=n.playlistObject,o=n.url,l=n.id;this.request=null,this.state="HAVE_METADATA";var u=s||this.parseManifest_({url:o,manifestString:a});u.lastRequest=Date.now(),fE({playlist:u,uri:o,id:l});var c=Ph(this.master,u);this.targetDuration=u.partTargetDuration||u.targetDuration,this.pendingMedia_=null,c?(this.master=c,this.media_=this.master.playlists[l]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Ah(this.media(),!!c)),this.trigger("loadedplaylist")},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),U.clearTimeout(this.mediaUpdateTimeout),U.clearTimeout(this.finalRenditionTimeout),this.off()},r.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},r.media=function(n,a){var s=this;if(!n)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof n=="string"){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}if(U.clearTimeout(this.finalRenditionTimeout),a){var o=(n.partTargetDuration||n.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=U.setTimeout(this.media.bind(this,n,!1),o);return}var l=this.state,u=!this.media_||n.id!==this.media_.id,c=this.master.playlists[n.id];if(c&&c.endList||n.endList&&n.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=n,u&&(this.trigger("mediachanging"),l==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Ah(n,!0)),!!u){if(this.state="SWITCHING_MEDIA",this.request){if(n.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=n,this.request=this.vhs_.xhr({uri:n.resolvedUri,withCredentials:this.withCredentials},function(f,d){if(!!s.request){if(n.lastRequest=Date.now(),n.resolvedUri=gc(s.handleManifestRedirects,n.resolvedUri,d),f)return s.playlistRequestError(s.request,n,l);s.haveMetadata({playlistString:d.responseText,url:n.uri,id:n.id}),l==="HAVE_MASTER"?s.trigger("loadedmetadata"):s.trigger("mediachange")}})}},r.pause=function(){this.mediaUpdateTimeout&&(U.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},r.load=function(n){var a=this;this.mediaUpdateTimeout&&(U.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var s=this.media();if(n){var o=s?(s.partTargetDuration||s.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=U.setTimeout(function(){a.mediaUpdateTimeout=null,a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},r.updateMediaUpdateTimeout_=function(n){var a=this;this.mediaUpdateTimeout&&(U.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=U.setTimeout(function(){a.mediaUpdateTimeout=null,a.trigger("mediaupdatetimeout"),a.updateMediaUpdateTimeout_(n)},n))},r.start=function(){var n=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=U.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){n.setupInitialPlaylist(n.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(a,s){if(!!n.request){if(n.request=null,a)return n.error={status:s.status,message:"HLS playlist request error at URL: "+n.src+".",responseText:s.responseText,code:2},n.state==="HAVE_NOTHING"&&(n.started=!1),n.trigger("error");n.src=gc(n.handleManifestRedirects,n.src,s);var o=n.parseManifest_({manifestString:s.responseText,url:n.src});n.setupInitialPlaylist(o)}})},r.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},r.setupInitialPlaylist=function(n){if(this.state="HAVE_MASTER",n.playlists){this.master=n,hE(this.master,this.srcUri()),n.playlists.forEach(function(s){s.segments=mE(s),s.segments.forEach(function(o){pE(o,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var a=this.srcUri()||U.location.href;this.master=zB(n,a),this.haveMetadata({playlistObject:n,url:a,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(qB),YB=G.xhr,QB=G.mergeOptions,Ih=function(t,r,i,n){var a=t.responseType==="arraybuffer"?t.response:t.responseText;!r&&a&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=a.byteLength||a.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),i.headers&&(t.responseHeaders=i.headers),r&&r.code==="ETIMEDOUT"&&(t.timedout=!0),!r&&!t.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(r=new Error("XHR Failed with a response of: "+(t&&(a||t.responseText)))),n(r,t)},gE=function(){var t=function r(i,n){i=QB({timeout:45e3},i);var a=r.beforeRequest||G.Vhs.xhr.beforeRequest;if(a&&typeof a=="function"){var s=a(i);s&&(i=s)}var o=G.Vhs.xhr.original===!0?YB:G.Vhs.xhr,l=o(i,function(c,f){return Ih(l,c,f,n)}),u=l.abort;return l.abort=function(){return l.aborted=!0,u.apply(l,arguments)},l.uri=i.uri,l.requestTime=Date.now(),l};return t.original=!0,t},JB=function(t){var r,i=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?r=U.BigInt(t.offset)+U.BigInt(t.length)-U.BigInt(1):r=t.offset+t.length-1,"bytes="+i+"-"+r},Oh=function(t){var r={};return t.byterange&&(r.Range=JB(t.byterange)),r},ZB=function(t,r){return t.start(r)+"-"+t.end(r)},e2=function(t,r){var i=t.toString(16);return"00".substring(0,2-i.length)+i+(r%2?" ":"")},t2=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},yE=function(t){var r={};return Object.keys(t).forEach(function(i){var n=t[i];sS(n)?r[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:r[i]=n}),r},_c=function(t){var r=t.byterange||{length:1/0,offset:0};return[r.length,r.offset,t.resolvedUri].join(",")},_E=function(t){return t.resolvedUri},bE=function(t){for(var r=Array.prototype.slice.call(t),i=16,n="",a,s,o=0;o<r.length/i;o++)a=r.slice(o*i,o*i+i).map(e2).join(""),s=r.slice(o*i,o*i+i).map(t2).join(""),n+=a+" "+s+`
`;return n},n2=function(t){var r=t.bytes;return bE(r)},r2=function(t){var r="",i;for(i=0;i<t.length;i++)r+=ZB(t,i)+" ";return r},i2=Object.freeze({__proto__:null,createTransferableMessage:yE,initSegmentId:_c,segmentKeyId:_E,hexDump:bE,tagDump:n2,textRanges:r2}),TE=.25,a2=function(t,r){if(!r.dateTimeObject)return null;var i=r.videoTimingInfo.transmuxerPrependedSeconds,n=r.videoTimingInfo.transmuxedPresentationStart,a=n+i,s=t-a;return new Date(r.dateTimeObject.getTime()+s*1e3)},s2=function(t){return t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds},o2=function(t,r){var i;try{i=new Date(t)}catch{return null}if(!r||!r.segments||r.segments.length===0)return null;var n=r.segments[0];if(i<n.dateTimeObject)return null;for(var a=0;a<r.segments.length-1;a++){n=r.segments[a];var s=r.segments[a+1].dateTimeObject;if(i<s)break}var o=r.segments[r.segments.length-1],l=o.dateTimeObject,u=o.videoTimingInfo?s2(o.videoTimingInfo):o.duration+o.duration*TE,c=new Date(l.getTime()+u*1e3);return i>c?null:(i>l&&(n=o),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:En.duration(r,r.mediaSequence+r.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},l2=function(t,r){if(!r||!r.segments||r.segments.length===0)return null;for(var i=0,n,a=0;a<r.segments.length&&(n=r.segments[a],i=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration,!(t<=i));a++);var s=r.segments[r.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>i){if(t>i+s.duration*TE)return null;n=s}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},u2=function(t,r){var i,n;try{i=new Date(t),n=new Date(r)}catch{}var a=i.getTime(),s=n.getTime();return(s-a)/1e3},c2=function(t){if(!t.segments||t.segments.length===0)return!1;for(var r=0;r<t.segments.length;r++){var i=t.segments[r];if(!i.dateTimeObject)return!1}return!0},d2=function(t){var r=t.playlist,i=t.time,n=i===void 0?void 0:i,a=t.callback;if(!a)throw new Error("getProgramTime: callback must be provided");if(!r||n===void 0)return a({message:"getProgramTime: playlist and time must be provided"});var s=l2(n,r);if(!s)return a({message:"valid programTime was not found"});if(s.type==="estimate")return a({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var o={mediaSeconds:n},l=a2(n,s.segment);return l&&(o.programDateTime=l.toISOString()),a(null,o)},f2=function e(t){var r=t.programTime,i=t.playlist,n=t.retryCount,a=n===void 0?2:n,s=t.seekTo,o=t.pauseAfterSeek,l=o===void 0?!0:o,u=t.tech,c=t.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(typeof r=="undefined"||!i||!s)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!c2(i))return c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var f=o2(r,i);if(!f)return c({message:r+" was not found in the stream"});var d=f.segment,p=u2(d.dateTimeObject,r);if(f.type==="estimate"){if(a===0)return c({message:r+" is not buffered yet. Try again"});s(f.estimatedStart+p),u.one("seeked",function(){e({programTime:r,playlist:i,retryCount:a-1,seekTo:s,pauseAfterSeek:l,tech:u,callback:c})});return}var y=d.start+p,b=function(){return c(null,u.currentTime())};u.one("seeked",b),l&&u.pause(),s(y)},vf=function(t,r){if(t.readyState===4)return r()},h2=function(t,r,i){var n=[],a,s=!1,o=function(d,p,y,b){return p.abort(),s=!0,i(d,p,y,b)},l=function(d,p){if(!s){if(d)return o(d,p,"",n);var y=p.responseText.substring(n&&n.byteLength||0,p.responseText.length);if(n=SM(n,oS(y,!0)),a=a||oo(n),n.length<10||a&&n.length<a+2)return vf(p,function(){return o(d,p,"",n)});var b=Jp(n);return b==="ts"&&n.length<188?vf(p,function(){return o(d,p,"",n)}):!b&&n.length<376?vf(p,function(){return o(d,p,"",n)}):o(null,p,b,n)}},u={uri:t,beforeSend:function(d){d.overrideMimeType("text/plain; charset=x-user-defined"),d.addEventListener("progress",function(p){return p.total,p.loaded,Ih(d,null,{statusCode:d.status},l)})}},c=r(u,function(f,d){return Ih(c,f,d,l)});return c},p2=G.EventTarget,SE=G.mergeOptions,Ay=function(t,r){if(!vE(t,r)||t.sidx&&r.sidx&&(t.sidx.offset!==r.sidx.offset||t.sidx.length!==r.sidx.length))return!1;if(!t.sidx&&r.sidx||t.sidx&&!r.sidx||t.segments&&!r.segments||!t.segments&&r.segments)return!1;if(!t.segments&&!r.segments)return!0;for(var i=0;i<t.segments.length;i++){var n=t.segments[i],a=r.segments[i];if(n.uri!==a.uri)return!1;if(!(!n.byterange&&!a.byterange)){var s=n.byterange,o=a.byterange;if(s&&!o||!s&&o||s.offset!==o.offset||s.length!==o.length)return!1}}return!0},m2=function(t){var r=t.masterXml,i=t.srcUrl,n=t.clientOffset,a=t.sidxMapping,s=t.previousManifest,o=FF(r,{manifestUri:i,clientOffset:n,sidxMapping:a,previousManifest:s});return hE(o,i),o},v2=function(t,r,i){for(var n=!0,a=SE(t,{duration:r.duration,minimumUpdatePeriod:r.minimumUpdatePeriod,timelineStarts:r.timelineStarts}),s=0;s<r.playlists.length;s++){var o=r.playlists[s];if(o.sidx){var l=nd(o.sidx);i&&i[l]&&i[l].sidx&&Kp(o,i[l].sidx,o.sidx.resolvedUri)}var u=Ph(a,o,Ay);u&&(a=u,n=!1)}return wl(r,function(c,f,d,p){if(c.playlists&&c.playlists.length){var y=c.playlists[0].id,b=Ph(a,c.playlists[0],Ay);b&&(a=b,a.mediaGroups[f][d][p].playlists[0]=a.playlists[y],n=!1)}}),r.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:a},g2=function(t,r){var i=Boolean(!t.map&&!r.map),n=i||Boolean(t.map&&r.map&&t.map.byterange.offset===r.map.byterange.offset&&t.map.byterange.length===r.map.byterange.length);return n&&t.uri===r.uri&&t.byterange.offset===r.byterange.offset&&t.byterange.length===r.byterange.length},Iy=function(t,r){var i={};for(var n in t){var a=t[n],s=a.sidx;if(s){var o=nd(s);if(!r[o])break;var l=r[o].sidxInfo;g2(l,s)&&(i[o]=r[o])}}return i},y2=function(t,r){var i=Iy(t.playlists,r),n=i;return wl(t,function(a,s,o,l){if(a.playlists&&a.playlists.length){var u=a.playlists;n=SE(n,Iy(u,r))}}),n},Lh=function(e){Se(t,e);function t(i,n,a,s){var o;a===void 0&&(a={}),o=e.call(this)||this,o.masterPlaylistLoader_=s||je(o),s||(o.isMaster_=!0);var l=a,u=l.withCredentials,c=u===void 0?!1:u,f=l.handleManifestRedirects,d=f===void 0?!1:f;if(o.vhs_=n,o.withCredentials=c,o.handleManifestRedirects=d,!i)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=ur("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=i,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=i,o}var r=t.prototype;return r.requestErrored_=function(n,a,s){if(!this.request)return!0;if(this.request=null,n)return this.error=typeof n=="object"&&!(n instanceof Error)?n:{status:a.status,message:"DASH request error at URL: "+a.uri,response:a.response,code:2},s&&(this.state=s),this.trigger("error"),!0},r.addSidxSegments_=function(n,a,s){var o=this,l=n.sidx&&nd(n.sidx);if(!n.sidx||!l||this.masterPlaylistLoader_.sidxMapping_[l]){this.mediaRequest_=U.setTimeout(function(){return s(!1)},0);return}var u=gc(this.handleManifestRedirects,n.sidx.resolvedUri),c=function(d,p){if(!o.requestErrored_(d,p,a)){var y=o.masterPlaylistLoader_.sidxMapping_,b;try{b=$F(Me(p.response).subarray(8))}catch(T){o.requestErrored_(T,p,a);return}return y[l]={sidxInfo:n.sidx,sidx:b},Kp(n,b,n.sidx.resolvedUri),s(!0)}};this.request=h2(u,this.vhs_.xhr,function(f,d,p,y){if(f)return c(f,d);if(!p||p!=="mp4")return c({status:d.status,message:"Unsupported "+(p||"unknown")+" container type for sidx segment at URL: "+u,response:"",playlist:n,internal:!0,blacklistDuration:1/0,code:2},d);var b=n.sidx.byterange,T=b.offset,S=b.length;if(y.length>=S+T)return c(f,{response:y.subarray(T,T+S),status:d.status,uri:d.uri});o.request=o.vhs_.xhr({uri:u,responseType:"arraybuffer",headers:Oh({byterange:n.sidx.byterange})},c)})},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},U.clearTimeout(this.minimumUpdatePeriodTimeout_),U.clearTimeout(this.mediaRequest_),U.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},r.hasPendingRequest=function(){return this.request||this.mediaRequest_},r.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},r.media=function(n){var a=this;if(!n)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if(typeof n=="string"){if(!this.masterPlaylistLoader_.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.masterPlaylistLoader_.master.playlists[n]}var o=!this.media_||n.id!==this.media_.id;if(o&&this.loadedPlaylists_[n.id]&&this.loadedPlaylists_[n.id].endList){this.state="HAVE_METADATA",this.media_=n,o&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!o||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(n,s,function(l){a.haveMetadata({startingState:s,playlist:n})}))},r.haveMetadata=function(n){var a=n.startingState,s=n.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[s.id]=s,this.mediaRequest_=null,this.refreshMedia_(s.id),a==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},r.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),U.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(U.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},r.load=function(n){var a=this;U.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var s=this.media();if(n){var o=s?s.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=U.setTimeout(function(){return a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},r.start=function(){var n=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=U.setTimeout(function(){return n.haveMaster_()},0);return}this.requestMaster_(function(a,s){n.haveMaster_(),!n.hasPendingRequest()&&!n.media_&&n.media(n.masterPlaylistLoader_.master.playlists[0])})},r.requestMaster_=function(n){var a=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(s,o){if(a.requestErrored_(s,o)){a.state==="HAVE_NOTHING"&&(a.started=!1);return}var l=o.responseText!==a.masterPlaylistLoader_.masterXml_;if(a.masterPlaylistLoader_.masterXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?a.masterLoaded_=Date.parse(o.responseHeaders.date):a.masterLoaded_=Date.now(),a.masterPlaylistLoader_.srcUrl=gc(a.handleManifestRedirects,a.masterPlaylistLoader_.srcUrl,o),l){a.handleMaster_(),a.syncClientServerClock_(function(){return n(o,l)});return}return n(o,l)})},r.syncClientServerClock_=function(n){var a=this,s=NF(this.masterPlaylistLoader_.masterXml_);if(s===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),n();if(s.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=s.value-Date.now(),n();this.request=this.vhs_.xhr({uri:Zn(this.masterPlaylistLoader_.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(o,l){if(!!a.request){if(o)return a.masterPlaylistLoader_.clientOffset_=a.masterLoaded_-Date.now(),n();var u;s.method==="HEAD"?!l.responseHeaders||!l.responseHeaders.date?u=a.masterLoaded_:u=Date.parse(l.responseHeaders.date):u=Date.parse(l.responseText),a.masterPlaylistLoader_.clientOffset_=u-Date.now(),n()}})},r.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},r.handleMaster_=function(){this.mediaRequest_=null;var n=this.masterPlaylistLoader_.master,a=m2({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:n});n&&(a=v2(n,a,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=a||n;var s=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return s&&s!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=s),(!n||a&&a.minimumUpdatePeriod!==n.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(a)},r.updateMinimumUpdatePeriodTimeout_=function(){var n=this.masterPlaylistLoader_;n.createMupOnMedia_&&(n.off("loadedmetadata",n.createMupOnMedia_),n.createMupOnMedia_=null),n.minimumUpdatePeriodTimeout_&&(U.clearTimeout(n.minimumUpdatePeriodTimeout_),n.minimumUpdatePeriodTimeout_=null);var a=n.master&&n.master.minimumUpdatePeriod;if(a===0&&(n.media()?a=n.media().targetDuration*1e3:(n.createMupOnMedia_=n.updateMinimumUpdatePeriodTimeout_,n.one("loadedmetadata",n.createMupOnMedia_))),typeof a!="number"||a<=0){a<0&&this.logger_("found invalid minimumUpdatePeriod of "+a+", not setting a timeout");return}this.createMUPTimeout_(a)},r.createMUPTimeout_=function(n){var a=this.masterPlaylistLoader_;a.minimumUpdatePeriodTimeout_=U.setTimeout(function(){a.minimumUpdatePeriodTimeout_=null,a.trigger("minimumUpdatePeriod"),a.createMUPTimeout_(n)},n)},r.refreshXml_=function(){var n=this;this.requestMaster_(function(a,s){!s||(n.media_&&(n.media_=n.masterPlaylistLoader_.master.playlists[n.media_.id]),n.masterPlaylistLoader_.sidxMapping_=y2(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.sidxMapping_),n.addSidxSegments_(n.media(),n.state,function(o){n.refreshMedia_(n.media().id)}))})},r.refreshMedia_=function(n){var a=this;if(!n)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var s=this.masterPlaylistLoader_.master.playlists,o=!this.media_||this.media_!==s[n];if(o?this.media_=s[n]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var l=function u(){a.media().endList||(a.mediaUpdateTimeout=U.setTimeout(function(){a.trigger("mediaupdatetimeout"),u()},Ah(a.media(),Boolean(o))))};l()}this.trigger("loadedplaylist")},t}(p2),Vt={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},_2=function(t){for(var r=new Uint8Array(new ArrayBuffer(t.length)),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r.buffer},xE=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},b2=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{var r=new BlobBuilder;return r.append(t),URL.createObjectURL(r.getBlob())}},EE=function(t){return function(){var r=b2(t),i=xE(new Worker(r));i.objURL=r;var n=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(r),n.call(this)},i}},CE=function(t){return"var browserWorkerPolyFill = "+xE.toString()+`;
browserWorkerPolyFill(self);
`+t},wE=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},T2=CE(wE(function(){var e=function(){this.init=function(){var h={};this.on=function(v,m){h[v]||(h[v]=[]),h[v]=h[v].concat(m)},this.off=function(v,m){var g;return h[v]?(g=h[v].indexOf(m),h[v]=h[v].slice(),h[v].splice(g,1),g>-1):!1},this.trigger=function(v){var m,g,x,E;if(m=h[v],!!m)if(arguments.length===2)for(x=m.length,g=0;g<x;++g)m[g].call(this,arguments[1]);else{for(E=[],g=arguments.length,g=1;g<arguments.length;++g)E.push(arguments[g]);for(x=m.length,g=0;g<x;++g)m[g].apply(this,E)}},this.dispose=function(){h={}}}};e.prototype.pipe=function(C){return this.on("data",function(h){C.push(h)}),this.on("done",function(h){C.flush(h)}),this.on("partialdone",function(h){C.partialFlush(h)}),this.on("endedtimeline",function(h){C.endTimeline(h)}),this.on("reset",function(h){C.reset(h)}),C},e.prototype.push=function(C){this.trigger("data",C)},e.prototype.flush=function(C){this.trigger("done",C)},e.prototype.partialFlush=function(C){this.trigger("partialdone",C)},e.prototype.endTimeline=function(C){this.trigger("endedtimeline",C)},e.prototype.reset=function(C){this.trigger("reset",C)};var t=e,r=Math.pow(2,32),i=function(h){var v=new DataView(h.buffer,h.byteOffset,h.byteLength),m;return v.getBigUint64?(m=v.getBigUint64(0),m<Number.MAX_SAFE_INTEGER?Number(m):m):v.getUint32(0)*r+v.getUint32(4)},n={getUint64:i,MAX_UINT32:r},a=n.MAX_UINT32,s,o,l,u,c,f,d,p,y,b,T,S,w,D,P,I,L,A,R,M,N,W,X,Y,le,fe,ce,ye,xe,ee,se,te,Ce,ie,De,K;(function(){var C;if(X={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(C in X)X.hasOwnProperty(C)&&(X[C]=[C.charCodeAt(0),C.charCodeAt(1),C.charCodeAt(2),C.charCodeAt(3)]);Y=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),fe=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),le=new Uint8Array([0,0,0,1]),ce=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ye=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),xe={video:ce,audio:ye},te=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),se=new Uint8Array([0,0,0,0,0,0,0,0]),Ce=new Uint8Array([0,0,0,0,0,0,0,0]),ie=Ce,De=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),K=Ce,ee=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),s=function(h){var v=[],m=0,g,x,E;for(g=1;g<arguments.length;g++)v.push(arguments[g]);for(g=v.length;g--;)m+=v[g].byteLength;for(x=new Uint8Array(m+8),E=new DataView(x.buffer,x.byteOffset,x.byteLength),E.setUint32(0,x.byteLength),x.set(h,4),g=0,m=8;g<v.length;g++)x.set(v[g],m),m+=v[g].byteLength;return x},o=function(){return s(X.dinf,s(X.dref,te))},l=function(h){return s(X.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,h.audioobjecttype<<3|h.samplingfrequencyindex>>>1,h.samplingfrequencyindex<<7|h.channelcount<<3,6,1,2]))},u=function(){return s(X.ftyp,Y,le,Y,fe)},I=function(h){return s(X.hdlr,xe[h])},c=function(h){return s(X.mdat,h)},P=function(h){var v=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,h.duration>>>24&255,h.duration>>>16&255,h.duration>>>8&255,h.duration&255,85,196,0,0]);return h.samplerate&&(v[12]=h.samplerate>>>24&255,v[13]=h.samplerate>>>16&255,v[14]=h.samplerate>>>8&255,v[15]=h.samplerate&255),s(X.mdhd,v)},D=function(h){return s(X.mdia,P(h),I(h.type),d(h))},f=function(h){return s(X.mfhd,new Uint8Array([0,0,0,0,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255]))},d=function(h){return s(X.minf,h.type==="video"?s(X.vmhd,ee):s(X.smhd,se),o(),A(h))},p=function(h,v){for(var m=[],g=v.length;g--;)m[g]=M(v[g]);return s.apply(null,[X.moof,f(h)].concat(m))},y=function(h){for(var v=h.length,m=[];v--;)m[v]=S(h[v]);return s.apply(null,[X.moov,T(4294967295)].concat(m).concat(b(h)))},b=function(h){for(var v=h.length,m=[];v--;)m[v]=N(h[v]);return s.apply(null,[X.mvex].concat(m))},T=function(h){var v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return s(X.mvhd,v)},L=function(h){var v=h.samples||[],m=new Uint8Array(4+v.length),g,x;for(x=0;x<v.length;x++)g=v[x].flags,m[x+4]=g.dependsOn<<4|g.isDependedOn<<2|g.hasRedundancy;return s(X.sdtp,m)},A=function(h){return s(X.stbl,R(h),s(X.stts,K),s(X.stsc,ie),s(X.stsz,De),s(X.stco,Ce))},function(){var C,h;R=function(m){return s(X.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),m.type==="video"?C(m):h(m))},C=function(m){var g=m.sps||[],x=m.pps||[],E=[],O=[],F,$;for(F=0;F<g.length;F++)E.push((g[F].byteLength&65280)>>>8),E.push(g[F].byteLength&255),E=E.concat(Array.prototype.slice.call(g[F]));for(F=0;F<x.length;F++)O.push((x[F].byteLength&65280)>>>8),O.push(x[F].byteLength&255),O=O.concat(Array.prototype.slice.call(x[F]));if($=[X.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(m.width&65280)>>8,m.width&255,(m.height&65280)>>8,m.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s(X.avcC,new Uint8Array([1,m.profileIdc,m.profileCompatibility,m.levelIdc,255].concat([g.length],E,[x.length],O))),s(X.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],m.sarRatio){var V=m.sarRatio[0],q=m.sarRatio[1];$.push(s(X.pasp,new Uint8Array([(V&4278190080)>>24,(V&16711680)>>16,(V&65280)>>8,V&255,(q&4278190080)>>24,(q&16711680)>>16,(q&65280)>>8,q&255])))}return s.apply(null,$)},h=function(m){return s(X.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(m.channelcount&65280)>>8,m.channelcount&255,(m.samplesize&65280)>>8,m.samplesize&255,0,0,0,0,(m.samplerate&65280)>>8,m.samplerate&255,0,0]),l(m))}}(),w=function(h){var v=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,0,(h.duration&4278190080)>>24,(h.duration&16711680)>>16,(h.duration&65280)>>8,h.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(h.width&65280)>>8,h.width&255,0,0,(h.height&65280)>>8,h.height&255,0,0]);return s(X.tkhd,v)},M=function(h){var v,m,g,x,E,O,F;return v=s(X.tfhd,new Uint8Array([0,0,0,58,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),O=Math.floor(h.baseMediaDecodeTime/a),F=Math.floor(h.baseMediaDecodeTime%a),m=s(X.tfdt,new Uint8Array([1,0,0,0,O>>>24&255,O>>>16&255,O>>>8&255,O&255,F>>>24&255,F>>>16&255,F>>>8&255,F&255])),E=32+20+8+16+8+8,h.type==="audio"?(g=W(h,E),s(X.traf,v,m,g)):(x=L(h),g=W(h,x.length+E),s(X.traf,v,m,g,x))},S=function(h){return h.duration=h.duration||4294967295,s(X.trak,w(h),D(h))},N=function(h){var v=new Uint8Array([0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return h.type!=="video"&&(v[v.length-1]=0),s(X.trex,v)},function(){var C,h,v;v=function(g,x){var E=0,O=0,F=0,$=0;return g.length&&(g[0].duration!==void 0&&(E=1),g[0].size!==void 0&&(O=2),g[0].flags!==void 0&&(F=4),g[0].compositionTimeOffset!==void 0&&($=8)),[0,0,E|O|F|$,1,(g.length&4278190080)>>>24,(g.length&16711680)>>>16,(g.length&65280)>>>8,g.length&255,(x&4278190080)>>>24,(x&16711680)>>>16,(x&65280)>>>8,x&255]},h=function(g,x){var E,O,F,$,V,q;for($=g.samples||[],x+=8+12+16*$.length,F=v($,x),O=new Uint8Array(F.length+$.length*16),O.set(F),E=F.length,q=0;q<$.length;q++)V=$[q],O[E++]=(V.duration&4278190080)>>>24,O[E++]=(V.duration&16711680)>>>16,O[E++]=(V.duration&65280)>>>8,O[E++]=V.duration&255,O[E++]=(V.size&4278190080)>>>24,O[E++]=(V.size&16711680)>>>16,O[E++]=(V.size&65280)>>>8,O[E++]=V.size&255,O[E++]=V.flags.isLeading<<2|V.flags.dependsOn,O[E++]=V.flags.isDependedOn<<6|V.flags.hasRedundancy<<4|V.flags.paddingValue<<1|V.flags.isNonSyncSample,O[E++]=V.flags.degradationPriority&240<<8,O[E++]=V.flags.degradationPriority&15,O[E++]=(V.compositionTimeOffset&4278190080)>>>24,O[E++]=(V.compositionTimeOffset&16711680)>>>16,O[E++]=(V.compositionTimeOffset&65280)>>>8,O[E++]=V.compositionTimeOffset&255;return s(X.trun,O)},C=function(g,x){var E,O,F,$,V,q;for($=g.samples||[],x+=8+12+8*$.length,F=v($,x),E=new Uint8Array(F.length+$.length*8),E.set(F),O=F.length,q=0;q<$.length;q++)V=$[q],E[O++]=(V.duration&4278190080)>>>24,E[O++]=(V.duration&16711680)>>>16,E[O++]=(V.duration&65280)>>>8,E[O++]=V.duration&255,E[O++]=(V.size&4278190080)>>>24,E[O++]=(V.size&16711680)>>>16,E[O++]=(V.size&65280)>>>8,E[O++]=V.size&255;return s(X.trun,E)},W=function(g,x){return g.type==="audio"?C(g,x):h(g,x)}}();var ve={ftyp:u,mdat:c,moof:p,moov:y,initSegment:function(h){var v=u(),m=y(h),g;return g=new Uint8Array(v.byteLength+m.byteLength),g.set(v),g.set(m,v.byteLength),g}},ue=function(h){var v,m,g=[],x=[];for(x.byteLength=0,x.nalCount=0,x.duration=0,g.byteLength=0,v=0;v<h.length;v++)m=h[v],m.nalUnitType==="access_unit_delimiter_rbsp"?(g.length&&(g.duration=m.dts-g.dts,x.byteLength+=g.byteLength,x.nalCount+=g.length,x.duration+=g.duration,x.push(g)),g=[m],g.byteLength=m.data.byteLength,g.pts=m.pts,g.dts=m.dts):(m.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(g.keyFrame=!0),g.duration=m.dts-g.dts,g.byteLength+=m.data.byteLength,g.push(m));return x.length&&(!g.duration||g.duration<=0)&&(g.duration=x[x.length-1].duration),x.byteLength+=g.byteLength,x.nalCount+=g.length,x.duration+=g.duration,x.push(g),x},ke=function(h){var v,m,g=[],x=[];for(g.byteLength=0,g.nalCount=0,g.duration=0,g.pts=h[0].pts,g.dts=h[0].dts,x.byteLength=0,x.nalCount=0,x.duration=0,x.pts=h[0].pts,x.dts=h[0].dts,v=0;v<h.length;v++)m=h[v],m.keyFrame?(g.length&&(x.push(g),x.byteLength+=g.byteLength,x.nalCount+=g.nalCount,x.duration+=g.duration),g=[m],g.nalCount=m.length,g.byteLength=m.byteLength,g.pts=m.pts,g.dts=m.dts,g.duration=m.duration):(g.duration+=m.duration,g.nalCount+=m.length,g.byteLength+=m.byteLength,g.push(m));return x.length&&g.duration<=0&&(g.duration=x[x.length-1].duration),x.byteLength+=g.byteLength,x.nalCount+=g.nalCount,x.duration+=g.duration,x.push(g),x},Ke=function(h){var v;return!h[0][0].keyFrame&&h.length>1&&(v=h.shift(),h.byteLength-=v.byteLength,h.nalCount-=v.nalCount,h[0][0].dts=v.dts,h[0][0].pts=v.pts,h[0][0].duration+=v.duration),h},Je=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Ue=function(h,v){var m=Je();return m.dataOffset=v,m.compositionTimeOffset=h.pts-h.dts,m.duration=h.duration,m.size=4*h.length,m.size+=h.byteLength,h.keyFrame&&(m.flags.dependsOn=2,m.flags.isNonSyncSample=0),m},Ve=function(h,v){var m,g,x,E,O,F=v||0,$=[];for(m=0;m<h.length;m++)for(E=h[m],g=0;g<E.length;g++)O=E[g],x=Ue(O,F),F+=x.size,$.push(x);return $},B=function(h){var v,m,g,x,E,O,F=0,$=h.byteLength,V=h.nalCount,q=$+4*V,J=new Uint8Array(q),Te=new DataView(J.buffer);for(v=0;v<h.length;v++)for(x=h[v],m=0;m<x.length;m++)for(E=x[m],g=0;g<E.length;g++)O=E[g],Te.setUint32(F,O.data.byteLength),F+=4,J.set(O.data,F),F+=O.data.byteLength;return J},z=function(h,v){var m,g=v||0,x=[];return m=Ue(h,g),x.push(m),x},Q=function(h){var v,m,g=0,x=h.byteLength,E=h.length,O=x+4*E,F=new Uint8Array(O),$=new DataView(F.buffer);for(v=0;v<h.length;v++)m=h[v],$.setUint32(g,m.data.byteLength),g+=4,F.set(m.data,g),g+=m.data.byteLength;return F},ae={groupNalsIntoFrames:ue,groupFramesIntoGops:ke,extendFirstKeyFrame:Ke,generateSampleTable:Ve,concatenateNalData:B,generateSampleTableForFrame:z,concatenateNalDataForFrame:Q},re=[33,16,5,32,164,27],_e=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],de=function(h){for(var v=[];h--;)v.push(0);return v},be=function(h){return Object.keys(h).reduce(function(v,m){return v[m]=new Uint8Array(h[m].reduce(function(g,x){return g.concat(x)},[])),v},{})},Ee,he=function(){if(!Ee){var h={96e3:[re,[227,64],de(154),[56]],88200:[re,[231],de(170),[56]],64e3:[re,[248,192],de(240),[56]],48e3:[re,[255,192],de(268),[55,148,128],de(54),[112]],44100:[re,[255,192],de(268),[55,163,128],de(84),[112]],32e3:[re,[255,192],de(268),[55,234],de(226),[112]],24e3:[re,[255,192],de(268),[55,255,128],de(268),[111,112],de(126),[224]],16e3:[re,[255,192],de(268),[55,255,128],de(268),[111,255],de(269),[223,108],de(195),[1,192]],12e3:[_e,de(268),[3,127,248],de(268),[6,255,240],de(268),[13,255,224],de(268),[27,253,128],de(259),[56]],11025:[_e,de(268),[3,127,248],de(268),[6,255,240],de(268),[13,255,224],de(268),[27,255,192],de(268),[55,175,128],de(108),[112]],8e3:[_e,de(268),[3,121,16],de(47),[7]]};Ee=be(h)}return Ee},Ie=9e4,Ae,Oe,Be,Ye,ot,lt,ft;Ae=function(h){return h*Ie},Oe=function(h,v){return h*v},Be=function(h){return h/Ie},Ye=function(h,v){return h/v},ot=function(h,v){return Ae(Ye(h,v))},lt=function(h,v){return Oe(Be(h),v)},ft=function(h,v,m){return Be(m?h:h-v)};var qe={ONE_SECOND_IN_TS:Ie,secondsToVideoTs:Ae,secondsToAudioTs:Oe,videoTsToSeconds:Be,audioTsToSeconds:Ye,audioTsToVideoTs:ot,videoTsToAudioTs:lt,metadataTsToSeconds:ft},ii=function(h){var v,m,g=0;for(v=0;v<h.length;v++)m=h[v],g+=m.data.byteLength;return g},kl=function(h,v,m,g){var x,E=0,O=0,F=0,$=0,V,q,J;if(!!v.length&&(x=qe.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),E=Math.ceil(qe.ONE_SECOND_IN_TS/(h.samplerate/1024)),m&&g&&(O=x-Math.max(m,g),F=Math.floor(O/E),$=F*E),!(F<1||$>qe.ONE_SECOND_IN_TS/2))){for(V=he()[h.samplerate],V||(V=v[0].data),q=0;q<F;q++)J=v[0],v.splice(0,0,{data:V,dts:J.dts-E,pts:J.pts-E});return h.baseMediaDecodeTime-=Math.floor(qe.videoTsToAudioTs($,h.samplerate)),$}},Pi=function(h,v,m){return v.minSegmentDts>=m?h:(v.minSegmentDts=1/0,h.filter(function(g){return g.dts>=m?(v.minSegmentDts=Math.min(v.minSegmentDts,g.dts),v.minSegmentPts=v.minSegmentDts,!0):!1}))},Pl=function(h){var v,m,g=[];for(v=0;v<h.length;v++)m=h[v],g.push({size:m.data.byteLength,duration:1024});return g},un=function(h){var v,m,g=0,x=new Uint8Array(ii(h));for(v=0;v<h.length;v++)m=h[v],x.set(m.data,g),g+=m.data.byteLength;return x},cn={prefixWithSilence:kl,trimAdtsFramesByEarliestDts:Pi,generateSampleTable:Pl,concatenateFrameData:un},Al=qe.ONE_SECOND_IN_TS,KE=function(h,v){typeof v.pts=="number"&&(h.timelineStartInfo.pts===void 0&&(h.timelineStartInfo.pts=v.pts),h.minSegmentPts===void 0?h.minSegmentPts=v.pts:h.minSegmentPts=Math.min(h.minSegmentPts,v.pts),h.maxSegmentPts===void 0?h.maxSegmentPts=v.pts:h.maxSegmentPts=Math.max(h.maxSegmentPts,v.pts)),typeof v.dts=="number"&&(h.timelineStartInfo.dts===void 0&&(h.timelineStartInfo.dts=v.dts),h.minSegmentDts===void 0?h.minSegmentDts=v.dts:h.minSegmentDts=Math.min(h.minSegmentDts,v.dts),h.maxSegmentDts===void 0?h.maxSegmentDts=v.dts:h.maxSegmentDts=Math.max(h.maxSegmentDts,v.dts))},XE=function(h){delete h.minSegmentDts,delete h.maxSegmentDts,delete h.minSegmentPts,delete h.maxSegmentPts},YE=function(h,v){var m,g,x=h.minSegmentDts;return v||(x-=h.timelineStartInfo.dts),m=h.timelineStartInfo.baseMediaDecodeTime,m+=x,m=Math.max(0,m),h.type==="audio"&&(g=h.samplerate/Al,m*=g,m=Math.floor(m)),m},Qn={clearDtsInfo:XE,calculateTrackBaseMediaDecodeTime:YE,collectDtsInfo:KE},jm=4,QE=128,JE=function(h){for(var v=0,m={payloadType:-1,payloadSize:0},g=0,x=0;v<h.byteLength&&h[v]!==QE;){for(;h[v]===255;)g+=255,v++;for(g+=h[v++];h[v]===255;)x+=255,v++;if(x+=h[v++],!m.payload&&g===jm){var E=String.fromCharCode(h[v+3],h[v+4],h[v+5],h[v+6]);if(E==="GA94"){m.payloadType=g,m.payloadSize=x,m.payload=h.subarray(v,v+x);break}else m.payload=void 0}v+=x,g=0,x=0}return m},ZE=function(h){return h.payload[0]!==181||(h.payload[1]<<8|h.payload[2])!==49||String.fromCharCode(h.payload[3],h.payload[4],h.payload[5],h.payload[6])!=="GA94"||h.payload[7]!==3?null:h.payload.subarray(8,h.payload.length-1)},eC=function(h,v){var m=[],g,x,E,O;if(!(v[0]&64))return m;for(x=v[0]&31,g=0;g<x;g++)E=g*3,O={type:v[E+2]&3,pts:h},v[E+2]&4&&(O.ccData=v[E+3]<<8|v[E+4],m.push(O));return m},tC=function(h){for(var v=h.byteLength,m=[],g=1,x,E;g<v-2;)h[g]===0&&h[g+1]===0&&h[g+2]===3?(m.push(g+2),g+=2):g++;if(m.length===0)return h;x=v-m.length,E=new Uint8Array(x);var O=0;for(g=0;g<x;O++,g++)O===m[0]&&(O++,m.shift()),E[g]=h[O];return E},Ms={parseSei:JE,parseUserData:ZE,parseCaptionPackets:eC,discardEmulationPreventionBytes:tC,USER_DATA_REGISTERED_ITU_T_T35:jm},kn=function C(h){h=h||{},C.prototype.init.call(this),this.parse708captions_=typeof h.parse708captions=="boolean"?h.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Et(0,0),new Et(0,1),new Et(1,0),new Et(1,1)],this.parse708captions_&&(this.cc708Stream_=new vt({captionServices:h.captionServices})),this.reset(),this.ccStreams_.forEach(function(v){v.on("data",this.trigger.bind(this,"data")),v.on("partialdone",this.trigger.bind(this,"partialdone")),v.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};kn.prototype=new t,kn.prototype.push=function(C){var h,v,m;if(C.nalUnitType==="sei_rbsp"&&(h=Ms.parseSei(C.escapedRBSP),!!h.payload&&h.payloadType===Ms.USER_DATA_REGISTERED_ITU_T_T35&&(v=Ms.parseUserData(h),!!v))){if(C.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(C.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}m=Ms.parseCaptionPackets(C.pts,v),this.captionPackets_=this.captionPackets_.concat(m),this.latestDts_!==C.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=C.dts}},kn.prototype.flushCCStreams=function(C){this.ccStreams_.forEach(function(h){return C==="flush"?h.flush():h.partialFlush()},this)},kn.prototype.flushStream=function(C){if(!this.captionPackets_.length){this.flushCCStreams(C);return}this.captionPackets_.forEach(function(h,v){h.presortIndex=v}),this.captionPackets_.sort(function(h,v){return h.pts===v.pts?h.presortIndex-v.presortIndex:h.pts-v.pts}),this.captionPackets_.forEach(function(h){h.type<2?this.dispatchCea608Packet(h):this.dispatchCea708Packet(h)},this),this.captionPackets_.length=0,this.flushCCStreams(C)},kn.prototype.flush=function(){return this.flushStream("flush")},kn.prototype.partialFlush=function(){return this.flushStream("partialFlush")},kn.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(C){C.reset()})},kn.prototype.dispatchCea608Packet=function(C){this.setsTextOrXDSActive(C)?this.activeCea608Channel_[C.type]=null:this.setsChannel1Active(C)?this.activeCea608Channel_[C.type]=0:this.setsChannel2Active(C)&&(this.activeCea608Channel_[C.type]=1),this.activeCea608Channel_[C.type]!==null&&this.ccStreams_[(C.type<<1)+this.activeCea608Channel_[C.type]].push(C)},kn.prototype.setsChannel1Active=function(C){return(C.ccData&30720)===4096},kn.prototype.setsChannel2Active=function(C){return(C.ccData&30720)===6144},kn.prototype.setsTextOrXDSActive=function(C){return(C.ccData&28928)===256||(C.ccData&30974)===4138||(C.ccData&30974)===6186},kn.prototype.dispatchCea708Packet=function(C){this.parse708captions_&&this.cc708Stream_.push(C)};var nC={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},rC=function(h){var v=nC[h]||h;return h&4096&&h===v?"":String.fromCharCode(v)},Il=function(h){return 32<=h&&h<=127||160<=h&&h<=255},Pr=function(h){this.windowNum=h,this.reset()};Pr.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Pr.prototype.getText=function(){return this.rows.join(`
`)},Pr.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Pr.prototype.newLine=function(C){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(C),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Pr.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Pr.prototype.addText=function(C){this.rows[this.rowIdx]+=C},Pr.prototype.backspace=function(){if(!this.isEmpty()){var C=this.rows[this.rowIdx];this.rows[this.rowIdx]=C.substr(0,C.length-1)}};var Ol=function(h,v,m){this.serviceNum=h,this.text="",this.currentWindow=new Pr(-1),this.windows=[],this.stream=m,typeof v=="string"&&this.createTextDecoder(v)};Ol.prototype.init=function(C,h){this.startPts=C;for(var v=0;v<8;v++)this.windows[v]=new Pr(v),typeof h=="function"&&(this.windows[v].beforeRowOverflow=h)},Ol.prototype.setCurrentWindow=function(C){this.currentWindow=this.windows[C]},Ol.prototype.createTextDecoder=function(C){if(typeof TextDecoder=="undefined")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(C)}catch(h){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+C+" encoding. "+h})}};var vt=function C(h){h=h||{},C.prototype.init.call(this);var v=this,m=h.captionServices||{},g={},x;Object.keys(m).forEach(function(E){x=m[E],/^SERVICE/.test(E)&&(g[E]=x.encoding)}),this.serviceEncodings=g,this.current708Packet=null,this.services={},this.push=function(E){E.type===3?(v.new708Packet(),v.add708Bytes(E)):(v.current708Packet===null&&v.new708Packet(),v.add708Bytes(E))}};vt.prototype=new t,vt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},vt.prototype.add708Bytes=function(C){var h=C.ccData,v=h>>>8,m=h&255;this.current708Packet.ptsVals.push(C.pts),this.current708Packet.data.push(v),this.current708Packet.data.push(m)},vt.prototype.push708Packet=function(){var C=this.current708Packet,h=C.data,v=null,m=null,g=0,x=h[g++];for(C.seq=x>>6,C.sizeCode=x&63;g<h.length;g++)x=h[g++],v=x>>5,m=x&31,v===7&&m>0&&(x=h[g++],v=x),this.pushServiceBlock(v,g,m),m>0&&(g+=m-1)},vt.prototype.pushServiceBlock=function(C,h,v){var m,g=h,x=this.current708Packet.data,E=this.services[C];for(E||(E=this.initService(C,g));g<h+v&&g<x.length;g++)m=x[g],Il(m)?g=this.handleText(g,E):m===24?g=this.multiByteCharacter(g,E):m===16?g=this.extendedCommands(g,E):128<=m&&m<=135?g=this.setCurrentWindow(g,E):152<=m&&m<=159?g=this.defineWindow(g,E):m===136?g=this.clearWindows(g,E):m===140?g=this.deleteWindows(g,E):m===137?g=this.displayWindows(g,E):m===138?g=this.hideWindows(g,E):m===139?g=this.toggleWindows(g,E):m===151?g=this.setWindowAttributes(g,E):m===144?g=this.setPenAttributes(g,E):m===145?g=this.setPenColor(g,E):m===146?g=this.setPenLocation(g,E):m===143?E=this.reset(g,E):m===8?E.currentWindow.backspace():m===12?E.currentWindow.clearText():m===13?E.currentWindow.pendingNewLine=!0:m===14?E.currentWindow.clearText():m===141&&g++},vt.prototype.extendedCommands=function(C,h){var v=this.current708Packet.data,m=v[++C];return Il(m)&&(C=this.handleText(C,h,{isExtended:!0})),C},vt.prototype.getPts=function(C){return this.current708Packet.ptsVals[Math.floor(C/2)]},vt.prototype.initService=function(C,h){var m="SERVICE"+C,v=this,m,g;return m in this.serviceEncodings&&(g=this.serviceEncodings[m]),this.services[C]=new Ol(C,g,v),this.services[C].init(this.getPts(h),function(x){v.flushDisplayed(x,v.services[C])}),this.services[C]},vt.prototype.handleText=function(C,h,v){var m=v&&v.isExtended,g=v&&v.isMultiByte,x=this.current708Packet.data,E=m?4096:0,O=x[C],F=x[C+1],$=h.currentWindow,V,q;return h.textDecoder_&&!m?(g?(q=[O,F],C++):q=[O],V=h.textDecoder_.decode(new Uint8Array(q))):V=rC(E|O),$.pendingNewLine&&!$.isEmpty()&&$.newLine(this.getPts(C)),$.pendingNewLine=!1,$.addText(V),C},vt.prototype.multiByteCharacter=function(C,h){var v=this.current708Packet.data,m=v[C+1],g=v[C+2];return Il(m)&&Il(g)&&(C=this.handleText(++C,h,{isMultiByte:!0})),C},vt.prototype.setCurrentWindow=function(C,h){var v=this.current708Packet.data,m=v[C],g=m&7;return h.setCurrentWindow(g),C},vt.prototype.defineWindow=function(C,h){var v=this.current708Packet.data,m=v[C],g=m&7;h.setCurrentWindow(g);var x=h.currentWindow;return m=v[++C],x.visible=(m&32)>>5,x.rowLock=(m&16)>>4,x.columnLock=(m&8)>>3,x.priority=m&7,m=v[++C],x.relativePositioning=(m&128)>>7,x.anchorVertical=m&127,m=v[++C],x.anchorHorizontal=m,m=v[++C],x.anchorPoint=(m&240)>>4,x.rowCount=m&15,m=v[++C],x.columnCount=m&63,m=v[++C],x.windowStyle=(m&56)>>3,x.penStyle=m&7,x.virtualRowCount=x.rowCount+1,C},vt.prototype.setWindowAttributes=function(C,h){var v=this.current708Packet.data,m=v[C],g=h.currentWindow.winAttr;return m=v[++C],g.fillOpacity=(m&192)>>6,g.fillRed=(m&48)>>4,g.fillGreen=(m&12)>>2,g.fillBlue=m&3,m=v[++C],g.borderType=(m&192)>>6,g.borderRed=(m&48)>>4,g.borderGreen=(m&12)>>2,g.borderBlue=m&3,m=v[++C],g.borderType+=(m&128)>>5,g.wordWrap=(m&64)>>6,g.printDirection=(m&48)>>4,g.scrollDirection=(m&12)>>2,g.justify=m&3,m=v[++C],g.effectSpeed=(m&240)>>4,g.effectDirection=(m&12)>>2,g.displayEffect=m&3,C},vt.prototype.flushDisplayed=function(C,h){for(var v=[],m=0;m<8;m++)h.windows[m].visible&&!h.windows[m].isEmpty()&&v.push(h.windows[m].getText());h.endPts=C,h.text=v.join(`

`),this.pushCaption(h),h.startPts=C},vt.prototype.pushCaption=function(C){C.text!==""&&(this.trigger("data",{startPts:C.startPts,endPts:C.endPts,text:C.text,stream:"cc708_"+C.serviceNum}),C.text="",C.startPts=C.endPts)},vt.prototype.displayWindows=function(C,h){var v=this.current708Packet.data,m=v[++C],g=this.getPts(C);this.flushDisplayed(g,h);for(var x=0;x<8;x++)m&1<<x&&(h.windows[x].visible=1);return C},vt.prototype.hideWindows=function(C,h){var v=this.current708Packet.data,m=v[++C],g=this.getPts(C);this.flushDisplayed(g,h);for(var x=0;x<8;x++)m&1<<x&&(h.windows[x].visible=0);return C},vt.prototype.toggleWindows=function(C,h){var v=this.current708Packet.data,m=v[++C],g=this.getPts(C);this.flushDisplayed(g,h);for(var x=0;x<8;x++)m&1<<x&&(h.windows[x].visible^=1);return C},vt.prototype.clearWindows=function(C,h){var v=this.current708Packet.data,m=v[++C],g=this.getPts(C);this.flushDisplayed(g,h);for(var x=0;x<8;x++)m&1<<x&&h.windows[x].clearText();return C},vt.prototype.deleteWindows=function(C,h){var v=this.current708Packet.data,m=v[++C],g=this.getPts(C);this.flushDisplayed(g,h);for(var x=0;x<8;x++)m&1<<x&&h.windows[x].reset();return C},vt.prototype.setPenAttributes=function(C,h){var v=this.current708Packet.data,m=v[C],g=h.currentWindow.penAttr;return m=v[++C],g.textTag=(m&240)>>4,g.offset=(m&12)>>2,g.penSize=m&3,m=v[++C],g.italics=(m&128)>>7,g.underline=(m&64)>>6,g.edgeType=(m&56)>>3,g.fontStyle=m&7,C},vt.prototype.setPenColor=function(C,h){var v=this.current708Packet.data,m=v[C],g=h.currentWindow.penColor;return m=v[++C],g.fgOpacity=(m&192)>>6,g.fgRed=(m&48)>>4,g.fgGreen=(m&12)>>2,g.fgBlue=m&3,m=v[++C],g.bgOpacity=(m&192)>>6,g.bgRed=(m&48)>>4,g.bgGreen=(m&12)>>2,g.bgBlue=m&3,m=v[++C],g.edgeRed=(m&48)>>4,g.edgeGreen=(m&12)>>2,g.edgeBlue=m&3,C},vt.prototype.setPenLocation=function(C,h){var v=this.current708Packet.data,m=v[C],g=h.currentWindow.penLoc;return h.currentWindow.pendingNewLine=!0,m=v[++C],g.row=m&15,m=v[++C],g.column=m&63,C},vt.prototype.reset=function(C,h){var v=this.getPts(C);return this.flushDisplayed(v,h),this.initService(h.serviceNum,C)};var iC={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ll=function(h){return h===null?"":(h=iC[h]||h,String.fromCharCode(h))},Dl=14,aC=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ai=function(){for(var h=[],v=Dl+1;v--;)h.push("");return h},Et=function C(h,v){C.prototype.init.call(this),this.field_=h||0,this.dataChannel_=v||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(m){var g,x,E,O,F;if(g=m.ccData&32639,g===this.lastControlCode_){this.lastControlCode_=null;return}if((g&61440)===4096?this.lastControlCode_=g:g!==this.PADDING_&&(this.lastControlCode_=null),E=g>>>8,O=g&255,g!==this.PADDING_)if(g===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(g===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(m.pts),this.flushDisplayed(m.pts),x=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=x,this.startPts_=m.pts;else if(g===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(m.pts);else if(g===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(m.pts);else if(g===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(m.pts);else if(g===this.CARRIAGE_RETURN_)this.clearFormatting(m.pts),this.flushDisplayed(m.pts),this.shiftRowsUp_(),this.startPts_=m.pts;else if(g===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(g===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(m.pts),this.displayed_=Ai();else if(g===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ai();else if(g===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(m.pts),this.displayed_=Ai()),this.mode_="paintOn",this.startPts_=m.pts;else if(this.isSpecialCharacter(E,O))E=(E&3)<<8,F=Ll(E|O),this[this.mode_](m.pts,F),this.column_++;else if(this.isExtCharacter(E,O))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),E=(E&3)<<8,F=Ll(E|O),this[this.mode_](m.pts,F),this.column_++;else if(this.isMidRowCode(E,O))this.clearFormatting(m.pts),this[this.mode_](m.pts," "),this.column_++,(O&14)===14&&this.addFormatting(m.pts,["i"]),(O&1)===1&&this.addFormatting(m.pts,["u"]);else if(this.isOffsetControlCode(E,O))this.column_+=O&3;else if(this.isPAC(E,O)){var $=aC.indexOf(g&7968);this.mode_==="rollUp"&&($-this.rollUpRows_+1<0&&($=this.rollUpRows_-1),this.setRollUp(m.pts,$)),$!==this.row_&&(this.clearFormatting(m.pts),this.row_=$),O&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(m.pts,["u"]),(g&16)===16&&(this.column_=((g&14)>>1)*4),this.isColorPAC(O)&&(O&14)===14&&this.addFormatting(m.pts,["i"])}else this.isNormalChar(E)&&(O===0&&(O=null),F=Ll(E),F+=Ll(O),this[this.mode_](m.pts,F),this.column_+=F.length)}};Et.prototype=new t,Et.prototype.flushDisplayed=function(C){var h=this.displayed_.map(function(v,m){try{return v.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+m+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");h.length&&this.trigger("data",{startPts:this.startPts_,endPts:C,text:h,stream:this.name_})},Et.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ai(),this.nonDisplayed_=Ai(),this.lastControlCode_=null,this.column_=0,this.row_=Dl,this.rollUpRows_=2,this.formatting_=[]},Et.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Et.prototype.isSpecialCharacter=function(C,h){return C===this.EXT_&&h>=48&&h<=63},Et.prototype.isExtCharacter=function(C,h){return(C===this.EXT_+1||C===this.EXT_+2)&&h>=32&&h<=63},Et.prototype.isMidRowCode=function(C,h){return C===this.EXT_&&h>=32&&h<=47},Et.prototype.isOffsetControlCode=function(C,h){return C===this.OFFSET_&&h>=33&&h<=35},Et.prototype.isPAC=function(C,h){return C>=this.BASE_&&C<this.BASE_+8&&h>=64&&h<=127},Et.prototype.isColorPAC=function(C){return C>=64&&C<=79||C>=96&&C<=127},Et.prototype.isNormalChar=function(C){return C>=32&&C<=127},Et.prototype.setRollUp=function(C,h){if(this.mode_!=="rollUp"&&(this.row_=Dl,this.mode_="rollUp",this.flushDisplayed(C),this.nonDisplayed_=Ai(),this.displayed_=Ai()),h!==void 0&&h!==this.row_)for(var v=0;v<this.rollUpRows_;v++)this.displayed_[h-v]=this.displayed_[this.row_-v],this.displayed_[this.row_-v]="";h===void 0&&(h=this.row_),this.topRow_=h-this.rollUpRows_+1},Et.prototype.addFormatting=function(C,h){this.formatting_=this.formatting_.concat(h);var v=h.reduce(function(m,g){return m+"<"+g+">"},"");this[this.mode_](C,v)},Et.prototype.clearFormatting=function(C){if(!!this.formatting_.length){var h=this.formatting_.reverse().reduce(function(v,m){return v+"</"+m+">"},"");this.formatting_=[],this[this.mode_](C,h)}},Et.prototype.popOn=function(C,h){var v=this.nonDisplayed_[this.row_];v+=h,this.nonDisplayed_[this.row_]=v},Et.prototype.rollUp=function(C,h){var v=this.displayed_[this.row_];v+=h,this.displayed_[this.row_]=v},Et.prototype.shiftRowsUp_=function(){var C;for(C=0;C<this.topRow_;C++)this.displayed_[C]="";for(C=this.row_+1;C<Dl+1;C++)this.displayed_[C]="";for(C=this.topRow_;C<this.row_;C++)this.displayed_[C]=this.displayed_[C+1];this.displayed_[this.row_]=""},Et.prototype.paintOn=function(C,h){var v=this.displayed_[this.row_];v+=h,this.displayed_[this.row_]=v};var Rl={CaptionStream:kn,Cea608Stream:Et,Cea708Stream:vt},Yt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},sC=8589934592,oC=4294967296,Hm="shared",yd=function(h,v){var m=1;for(h>v&&(m=-1);Math.abs(v-h)>oC;)h+=m*sC;return h},Wm=function C(h){var v,m;C.prototype.init.call(this),this.type_=h||Hm,this.push=function(g){this.type_!==Hm&&g.type!==this.type_||(m===void 0&&(m=g.dts),g.dts=yd(g.dts,m),g.pts=yd(g.pts,m),v=g.dts,this.trigger("data",g))},this.flush=function(){m=v,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){m=void 0,v=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Wm.prototype=new t;var zm={TimestampRolloverStream:Wm,handleRollover:yd},qm=function(h,v,m){var g,x="";for(g=v;g<m;g++)x+="%"+("00"+h[g].toString(16)).slice(-2);return x},Ml=function(h,v,m){return decodeURIComponent(qm(h,v,m))},lC=function(h,v,m){return unescape(qm(h,v,m))},Fl=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},Gm={TXXX:function(h){var v;if(h.data[0]===3){for(v=1;v<h.data.length;v++)if(h.data[v]===0){h.description=Ml(h.data,1,v),h.value=Ml(h.data,v+1,h.data.length).replace(/\0*$/,"");break}h.data=h.value}},WXXX:function(h){var v;if(h.data[0]===3){for(v=1;v<h.data.length;v++)if(h.data[v]===0){h.description=Ml(h.data,1,v),h.url=Ml(h.data,v+1,h.data.length);break}}},PRIV:function(h){var v;for(v=0;v<h.data.length;v++)if(h.data[v]===0){h.owner=lC(h.data,0,v);break}h.privateData=h.data.subarray(v+1),h.data=h.privateData}},Nl;Nl=function(h){var v={descriptor:h&&h.descriptor},m=0,g=[],x=0,E;if(Nl.prototype.init.call(this),this.dispatchType=Yt.METADATA_STREAM_TYPE.toString(16),v.descriptor)for(E=0;E<v.descriptor.length;E++)this.dispatchType+=("00"+v.descriptor[E].toString(16)).slice(-2);this.push=function(O){var F,$,V,q,J,Te;if(O.type==="timed-metadata"){if(O.dataAlignmentIndicator&&(x=0,g.length=0),g.length===0&&(O.data.length<10||O.data[0]!=="I".charCodeAt(0)||O.data[1]!=="D".charCodeAt(0)||O.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(g.push(O),x+=O.data.byteLength,g.length===1&&(m=Fl(O.data.subarray(6,10)),m+=10),!(x<m)){for(F={data:new Uint8Array(m),frames:[],pts:g[0].pts,dts:g[0].dts},J=0;J<m;)F.data.set(g[0].data.subarray(0,m-J),J),J+=g[0].data.byteLength,x-=g[0].data.byteLength,g.shift();$=10,F.data[5]&64&&($+=4,$+=Fl(F.data.subarray(10,14)),m-=Fl(F.data.subarray(16,20)));do{if(V=Fl(F.data.subarray($+4,$+8)),V<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(Te=String.fromCharCode(F.data[$],F.data[$+1],F.data[$+2],F.data[$+3]),q={id:Te,data:F.data.subarray($+10,$+V+10)},q.key=q.id,Gm[q.id]&&(Gm[q.id](q),q.owner==="com.apple.streaming.transportStreamTimestamp")){var Pe=q.data,me=(Pe[3]&1)<<30|Pe[4]<<22|Pe[5]<<14|Pe[6]<<6|Pe[7]>>>2;me*=4,me+=Pe[7]&3,q.timeStamp=me,F.pts===void 0&&F.dts===void 0&&(F.pts=q.timeStamp,F.dts=q.timeStamp),this.trigger("timestamp",q)}F.frames.push(q),$+=10,$+=V}while($<m);this.trigger("data",F)}}}},Nl.prototype=new t;var uC=Nl,cC=zm.TimestampRolloverStream,Bl,Fs,Ul,Ta=188,_d=71;Bl=function(){var h=new Uint8Array(Ta),v=0;Bl.prototype.init.call(this),this.push=function(m){var g=0,x=Ta,E;for(v?(E=new Uint8Array(m.byteLength+v),E.set(h.subarray(0,v)),E.set(m,v),v=0):E=m;x<E.byteLength;){if(E[g]===_d&&E[x]===_d){this.trigger("data",E.subarray(g,x)),g+=Ta,x+=Ta;continue}g++,x++}g<E.byteLength&&(h.set(E.subarray(g),0),v=E.byteLength-g)},this.flush=function(){v===Ta&&h[0]===_d&&(this.trigger("data",h),v=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){v=0,this.trigger("reset")}},Bl.prototype=new t,Fs=function(){var h,v,m,g;Fs.prototype.init.call(this),g=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,h=function(E,O){var F=0;O.payloadUnitStartIndicator&&(F+=E[F]+1),O.type==="pat"?v(E.subarray(F),O):m(E.subarray(F),O)},v=function(E,O){O.section_number=E[7],O.last_section_number=E[8],g.pmtPid=(E[10]&31)<<8|E[11],O.pmtPid=g.pmtPid},m=function(E,O){var F,$,V,q;if(!!(E[5]&1)){for(g.programMapTable={video:null,audio:null,"timed-metadata":{}},F=(E[1]&15)<<8|E[2],$=3+F-4,V=(E[10]&15)<<8|E[11],q=12+V;q<$;){var J=E[q],Te=(E[q+1]&31)<<8|E[q+2];J===Yt.H264_STREAM_TYPE&&g.programMapTable.video===null?g.programMapTable.video=Te:J===Yt.ADTS_STREAM_TYPE&&g.programMapTable.audio===null?g.programMapTable.audio=Te:J===Yt.METADATA_STREAM_TYPE&&(g.programMapTable["timed-metadata"][Te]=J),q+=((E[q+3]&15)<<8|E[q+4])+5}O.programMapTable=g.programMapTable}},this.push=function(x){var E={},O=4;if(E.payloadUnitStartIndicator=!!(x[1]&64),E.pid=x[1]&31,E.pid<<=8,E.pid|=x[2],(x[3]&48)>>>4>1&&(O+=x[O]+1),E.pid===0)E.type="pat",h(x.subarray(O),E),this.trigger("data",E);else if(E.pid===this.pmtPid)for(E.type="pmt",h(x.subarray(O),E),this.trigger("data",E);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([x,O,E]):this.processPes_(x,O,E)},this.processPes_=function(x,E,O){O.pid===this.programMapTable.video?O.streamType=Yt.H264_STREAM_TYPE:O.pid===this.programMapTable.audio?O.streamType=Yt.ADTS_STREAM_TYPE:O.streamType=this.programMapTable["timed-metadata"][O.pid],O.type="pes",O.data=x.subarray(E),this.trigger("data",O)}},Fs.prototype=new t,Fs.STREAM_TYPES={h264:27,adts:15},Ul=function(){var h=this,v=!1,m={data:[],size:0},g={data:[],size:0},x={data:[],size:0},E,O=function(V,q){var J,Te=V[0]<<16|V[1]<<8|V[2];q.data=new Uint8Array,Te===1&&(q.packetLength=6+(V[4]<<8|V[5]),q.dataAlignmentIndicator=(V[6]&4)!==0,J=V[7],J&192&&(q.pts=(V[9]&14)<<27|(V[10]&255)<<20|(V[11]&254)<<12|(V[12]&255)<<5|(V[13]&254)>>>3,q.pts*=4,q.pts+=(V[13]&6)>>>1,q.dts=q.pts,J&64&&(q.dts=(V[14]&14)<<27|(V[15]&255)<<20|(V[16]&254)<<12|(V[17]&255)<<5|(V[18]&254)>>>3,q.dts*=4,q.dts+=(V[18]&6)>>>1)),q.data=V.subarray(9+V[8]))},F=function(V,q,J){var Te=new Uint8Array(V.size),Pe={type:q},me=0,Fe=0,Bt=!1,fn;if(!(!V.data.length||V.size<9)){for(Pe.trackId=V.data[0].pid,me=0;me<V.data.length;me++)fn=V.data[me],Te.set(fn.data,Fe),Fe+=fn.data.byteLength;O(Te,Pe),Bt=q==="video"||Pe.packetLength<=V.size,(J||Bt)&&(V.size=0,V.data.length=0),Bt&&h.trigger("data",Pe)}};Ul.prototype.init.call(this),this.push=function($){({pat:function(){},pes:function(){var q,J;switch($.streamType){case Yt.H264_STREAM_TYPE:q=m,J="video";break;case Yt.ADTS_STREAM_TYPE:q=g,J="audio";break;case Yt.METADATA_STREAM_TYPE:q=x,J="timed-metadata";break;default:return}$.payloadUnitStartIndicator&&F(q,J,!0),q.data.push($),q.size+=$.data.byteLength},pmt:function(){var q={type:"metadata",tracks:[]};E=$.programMapTable,E.video!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+E.video,codec:"avc",type:"video"}),E.audio!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+E.audio,codec:"adts",type:"audio"}),v=!0,h.trigger("data",q)}})[$.type]()},this.reset=function(){m.size=0,m.data.length=0,g.size=0,g.data.length=0,this.trigger("reset")},this.flushStreams_=function(){F(m,"video"),F(g,"audio"),F(x,"timed-metadata")},this.flush=function(){if(!v&&E){var $={type:"metadata",tracks:[]};E.video!==null&&$.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+E.video,codec:"avc",type:"video"}),E.audio!==null&&$.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+E.audio,codec:"adts",type:"audio"}),h.trigger("data",$)}v=!1,this.flushStreams_(),this.trigger("done")}},Ul.prototype=new t;var Km={PAT_PID:0,MP2T_PACKET_LENGTH:Ta,TransportPacketStream:Bl,TransportParseStream:Fs,ElementaryStream:Ul,TimestampRolloverStream:cC,CaptionStream:Rl.CaptionStream,Cea608Stream:Rl.Cea608Stream,Cea708Stream:Rl.Cea708Stream,MetadataStream:uC};for(var bd in Yt)Yt.hasOwnProperty(bd)&&(Km[bd]=Yt[bd]);var Ar=Km,dC=qe.ONE_SECOND_IN_TS,Vl,Xm=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Vl=function(h){var v,m=0;Vl.prototype.init.call(this),this.skipWarn_=function(g,x){this.trigger("log",{level:"warn",message:"adts skiping bytes "+g+" to "+x+" in frame "+m+" outside syncword"})},this.push=function(g){var x=0,E,O,F,$,V;if(h||(m=0),g.type==="audio"){v&&v.length?(F=v,v=new Uint8Array(F.byteLength+g.data.byteLength),v.set(F),v.set(g.data,F.byteLength)):v=g.data;for(var q;x+7<v.length;){if(v[x]!==255||(v[x+1]&246)!==240){typeof q!="number"&&(q=x),x++;continue}if(typeof q=="number"&&(this.skipWarn_(q,x),q=null),O=(~v[x+1]&1)*2,E=(v[x+3]&3)<<11|v[x+4]<<3|(v[x+5]&224)>>5,$=((v[x+6]&3)+1)*1024,V=$*dC/Xm[(v[x+2]&60)>>>2],v.byteLength-x<E)break;this.trigger("data",{pts:g.pts+m*V,dts:g.dts+m*V,sampleCount:$,audioobjecttype:(v[x+2]>>>6&3)+1,channelcount:(v[x+2]&1)<<2|(v[x+3]&192)>>>6,samplerate:Xm[(v[x+2]&60)>>>2],samplingfrequencyindex:(v[x+2]&60)>>>2,samplesize:16,data:v.subarray(x+7+O,x+E)}),m++,x+=E}typeof q=="number"&&(this.skipWarn_(q,x),q=null),v=v.subarray(x)}},this.flush=function(){m=0,this.trigger("done")},this.reset=function(){v=void 0,this.trigger("reset")},this.endTimeline=function(){v=void 0,this.trigger("endedtimeline")}},Vl.prototype=new t;var Ym=Vl,Qm;Qm=function(h){var v=h.byteLength,m=0,g=0;this.length=function(){return 8*v},this.bitsAvailable=function(){return 8*v+g},this.loadWord=function(){var x=h.byteLength-v,E=new Uint8Array(4),O=Math.min(4,v);if(O===0)throw new Error("no bytes available");E.set(h.subarray(x,x+O)),m=new DataView(E.buffer).getUint32(0),g=O*8,v-=O},this.skipBits=function(x){var E;g>x?(m<<=x,g-=x):(x-=g,E=Math.floor(x/8),x-=E*8,v-=E,this.loadWord(),m<<=x,g-=x)},this.readBits=function(x){var E=Math.min(g,x),O=m>>>32-E;return g-=E,g>0?m<<=E:v>0&&this.loadWord(),E=x-E,E>0?O<<E|this.readBits(E):O},this.skipLeadingZeros=function(){var x;for(x=0;x<g;++x)if((m&2147483648>>>x)!==0)return m<<=x,g-=x,x;return this.loadWord(),x+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var x=this.skipLeadingZeros();return this.readBits(x+1)-1},this.readExpGolomb=function(){var x=this.readUnsignedExpGolomb();return 1&x?1+x>>>1:-1*(x>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var fC=Qm,$l,Ns,Jm;Ns=function(){var h=0,v,m;Ns.prototype.init.call(this),this.push=function(g){var x;m?(x=new Uint8Array(m.byteLength+g.data.byteLength),x.set(m),x.set(g.data,m.byteLength),m=x):m=g.data;for(var E=m.byteLength;h<E-3;h++)if(m[h+2]===1){v=h+5;break}for(;v<E;)switch(m[v]){case 0:if(m[v-1]!==0){v+=2;break}else if(m[v-2]!==0){v++;break}h+3!==v-2&&this.trigger("data",m.subarray(h+3,v-2));do v++;while(m[v]!==1&&v<E);h=v-2,v+=3;break;case 1:if(m[v-1]!==0||m[v-2]!==0){v+=3;break}this.trigger("data",m.subarray(h+3,v-2)),h=v-2,v+=3;break;default:v+=3;break}m=m.subarray(h),v-=h,h=0},this.reset=function(){m=null,h=0,this.trigger("reset")},this.flush=function(){m&&m.byteLength>3&&this.trigger("data",m.subarray(h+3)),m=null,h=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Ns.prototype=new t,Jm={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},$l=function(){var h=new Ns,v,m,g,x,E,O,F;$l.prototype.init.call(this),v=this,this.push=function($){$.type==="video"&&(m=$.trackId,g=$.pts,x=$.dts,h.push($))},h.on("data",function($){var V={trackId:m,pts:g,dts:x,data:$,nalUnitTypeCode:$[0]&31};switch(V.nalUnitTypeCode){case 5:V.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:V.nalUnitType="sei_rbsp",V.escapedRBSP=E($.subarray(1));break;case 7:V.nalUnitType="seq_parameter_set_rbsp",V.escapedRBSP=E($.subarray(1)),V.config=O(V.escapedRBSP);break;case 8:V.nalUnitType="pic_parameter_set_rbsp";break;case 9:V.nalUnitType="access_unit_delimiter_rbsp";break}v.trigger("data",V)}),h.on("done",function(){v.trigger("done")}),h.on("partialdone",function(){v.trigger("partialdone")}),h.on("reset",function(){v.trigger("reset")}),h.on("endedtimeline",function(){v.trigger("endedtimeline")}),this.flush=function(){h.flush()},this.partialFlush=function(){h.partialFlush()},this.reset=function(){h.reset()},this.endTimeline=function(){h.endTimeline()},F=function(V,q){var J=8,Te=8,Pe,me;for(Pe=0;Pe<V;Pe++)Te!==0&&(me=q.readExpGolomb(),Te=(J+me+256)%256),J=Te===0?J:Te},E=function(V){for(var q=V.byteLength,J=[],Te=1,Pe,me;Te<q-2;)V[Te]===0&&V[Te+1]===0&&V[Te+2]===3?(J.push(Te+2),Te+=2):Te++;if(J.length===0)return V;Pe=q-J.length,me=new Uint8Array(Pe);var Fe=0;for(Te=0;Te<Pe;Fe++,Te++)Fe===J[0]&&(Fe++,J.shift()),me[Te]=V[Fe];return me},O=function(V){var q=0,J=0,Te=0,Pe=0,me,Fe,Bt,fn,Di,wd,gv,yv,_v,kd,bv,It=[1,1],Tv,Ri;if(me=new fC(V),Fe=me.readUnsignedByte(),fn=me.readUnsignedByte(),Bt=me.readUnsignedByte(),me.skipUnsignedExpGolomb(),Jm[Fe]&&(Di=me.readUnsignedExpGolomb(),Di===3&&me.skipBits(1),me.skipUnsignedExpGolomb(),me.skipUnsignedExpGolomb(),me.skipBits(1),me.readBoolean()))for(bv=Di!==3?8:12,Ri=0;Ri<bv;Ri++)me.readBoolean()&&(Ri<6?F(16,me):F(64,me));if(me.skipUnsignedExpGolomb(),wd=me.readUnsignedExpGolomb(),wd===0)me.readUnsignedExpGolomb();else if(wd===1)for(me.skipBits(1),me.skipExpGolomb(),me.skipExpGolomb(),gv=me.readUnsignedExpGolomb(),Ri=0;Ri<gv;Ri++)me.skipExpGolomb();if(me.skipUnsignedExpGolomb(),me.skipBits(1),yv=me.readUnsignedExpGolomb(),_v=me.readUnsignedExpGolomb(),kd=me.readBits(1),kd===0&&me.skipBits(1),me.skipBits(1),me.readBoolean()&&(q=me.readUnsignedExpGolomb(),J=me.readUnsignedExpGolomb(),Te=me.readUnsignedExpGolomb(),Pe=me.readUnsignedExpGolomb()),me.readBoolean()&&me.readBoolean()){switch(Tv=me.readUnsignedByte(),Tv){case 1:It=[1,1];break;case 2:It=[12,11];break;case 3:It=[10,11];break;case 4:It=[16,11];break;case 5:It=[40,33];break;case 6:It=[24,11];break;case 7:It=[20,11];break;case 8:It=[32,11];break;case 9:It=[80,33];break;case 10:It=[18,11];break;case 11:It=[15,11];break;case 12:It=[64,33];break;case 13:It=[160,99];break;case 14:It=[4,3];break;case 15:It=[3,2];break;case 16:It=[2,1];break;case 255:{It=[me.readUnsignedByte()<<8|me.readUnsignedByte(),me.readUnsignedByte()<<8|me.readUnsignedByte()];break}}It&&It[0]/It[1]}return{profileIdc:Fe,levelIdc:Bt,profileCompatibility:fn,width:(yv+1)*16-q*2-J*2,height:(2-kd)*(_v+1)*16-Te*2-Pe*2,sarRatio:It}}},$l.prototype=new t;var hC={H264Stream:$l,NalByteStream:Ns},pC=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Zm=function(h,v){var m=h[v+6]<<21|h[v+7]<<14|h[v+8]<<7|h[v+9],g=h[v+5],x=(g&16)>>4;return m=m>=0?m:0,x?m+20:m+10},mC=function C(h,v){return h.length-v<10||h[v]!=="I".charCodeAt(0)||h[v+1]!=="D".charCodeAt(0)||h[v+2]!=="3".charCodeAt(0)?v:(v+=Zm(h,v),C(h,v))},vC=function(h){var v=mC(h,0);return h.length>=v+2&&(h[v]&255)===255&&(h[v+1]&240)===240&&(h[v+1]&22)===16},ev=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},gC=function(h,v,m){var g,x="";for(g=v;g<m;g++)x+="%"+("00"+h[g].toString(16)).slice(-2);return x},yC=function(h,v,m){return unescape(gC(h,v,m))},_C=function(h,v){var m=(h[v+5]&224)>>5,g=h[v+4]<<3,x=h[v+3]&3<<11;return x|g|m},bC=function(h,v){return h[v]==="I".charCodeAt(0)&&h[v+1]==="D".charCodeAt(0)&&h[v+2]==="3".charCodeAt(0)?"timed-metadata":h[v]&!0&&(h[v+1]&240)===240?"audio":null},TC=function(h){for(var v=0;v+5<h.length;){if(h[v]!==255||(h[v+1]&246)!==240){v++;continue}return pC[(h[v+2]&60)>>>2]}return null},SC=function(h){var v,m,g,x;v=10,h[5]&64&&(v+=4,v+=ev(h.subarray(10,14)));do{if(m=ev(h.subarray(v+4,v+8)),m<1)return null;if(x=String.fromCharCode(h[v],h[v+1],h[v+2],h[v+3]),x==="PRIV"){g=h.subarray(v+10,v+m+10);for(var E=0;E<g.byteLength;E++)if(g[E]===0){var O=yC(g,0,E);if(O==="com.apple.streaming.transportStreamTimestamp"){var F=g.subarray(E+1),$=(F[3]&1)<<30|F[4]<<22|F[5]<<14|F[6]<<6|F[7]>>>2;return $*=4,$+=F[7]&3,$}break}}v+=10,v+=m}while(v<h.byteLength);return null},jl={isLikelyAacData:vC,parseId3TagSize:Zm,parseAdtsSize:_C,parseType:bC,parseSampleRate:TC,parseAacTimestamp:SC},Hl;Hl=function(){var h=new Uint8Array,v=0;Hl.prototype.init.call(this),this.setTimestamp=function(m){v=m},this.push=function(m){var g=0,x=0,E,O,F,$;for(h.length?($=h.length,h=new Uint8Array(m.byteLength+$),h.set(h.subarray(0,$)),h.set(m,$)):h=m;h.length-x>=3;){if(h[x]==="I".charCodeAt(0)&&h[x+1]==="D".charCodeAt(0)&&h[x+2]==="3".charCodeAt(0)){if(h.length-x<10||(g=jl.parseId3TagSize(h,x),x+g>h.length))break;O={type:"timed-metadata",data:h.subarray(x,x+g)},this.trigger("data",O),x+=g;continue}else if((h[x]&255)===255&&(h[x+1]&240)===240){if(h.length-x<7||(g=jl.parseAdtsSize(h,x),x+g>h.length))break;F={type:"audio",data:h.subarray(x,x+g),pts:v,dts:v},this.trigger("data",F),x+=g;continue}x++}E=h.length-x,E>0?h=h.subarray(x):h=new Uint8Array},this.reset=function(){h=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){h=new Uint8Array,this.trigger("endedtimeline")}},Hl.prototype=new t;var xC=Hl,EC=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Td=EC,CC=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Sd=CC,wC=hC.H264Stream,kC=jl.isLikelyAacData,PC=qe.ONE_SECOND_IN_TS,Bs,Sa,Wl,Ii,AC=function(h,v){v.stream=h,this.trigger("log",v)},tv=function(h,v){for(var m=Object.keys(v),g=0;g<m.length;g++){var x=m[g];x==="headOfPipeline"||!v[x].on||v[x].on("log",AC.bind(h,x))}},nv=function(h,v){var m;if(h.length!==v.length)return!1;for(m=0;m<h.length;m++)if(h[m]!==v[m])return!1;return!0},xd=function(h,v,m,g,x,E){var O=m-v,F=g-v,$=x-m;return{start:{dts:h,pts:h+O},end:{dts:h+F,pts:h+$},prependedContentDuration:E,baseMediaDecodeTime:h}};Sa=function(h,v){var m=[],g,x=0,E=0,O=1/0;v=v||{},g=v.firstSequenceNumber||0,Sa.prototype.init.call(this),this.push=function(F){Qn.collectDtsInfo(h,F),h&&Td.forEach(function($){h[$]=F[$]}),m.push(F)},this.setEarliestDts=function(F){x=F},this.setVideoBaseMediaDecodeTime=function(F){O=F},this.setAudioAppendStart=function(F){E=F},this.flush=function(){var F,$,V,q,J,Te,Pe;if(m.length===0){this.trigger("done","AudioSegmentStream");return}F=cn.trimAdtsFramesByEarliestDts(m,h,x),h.baseMediaDecodeTime=Qn.calculateTrackBaseMediaDecodeTime(h,v.keepOriginalTimestamps),Pe=cn.prefixWithSilence(h,F,E,O),h.samples=cn.generateSampleTable(F),V=ve.mdat(cn.concatenateFrameData(F)),m=[],$=ve.moof(g,[h]),q=new Uint8Array($.byteLength+V.byteLength),g++,q.set($),q.set(V,$.byteLength),Qn.clearDtsInfo(h),J=Math.ceil(PC*1024/h.samplerate),F.length&&(Te=F.length*J,this.trigger("segmentTimingInfo",xd(qe.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),F[0].dts,F[0].pts,F[0].dts+Te,F[0].pts+Te,Pe||0)),this.trigger("timingInfo",{start:F[0].pts,end:F[0].pts+Te})),this.trigger("data",{track:h,boxes:q}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Qn.clearDtsInfo(h),m=[],this.trigger("reset")}},Sa.prototype=new t,Bs=function(h,v){var m,g=[],x=[],E,O;v=v||{},m=v.firstSequenceNumber||0,Bs.prototype.init.call(this),delete h.minPTS,this.gopCache_=[],this.push=function(F){Qn.collectDtsInfo(h,F),F.nalUnitType==="seq_parameter_set_rbsp"&&!E&&(E=F.config,h.sps=[F.data],Sd.forEach(function($){h[$]=E[$]},this)),F.nalUnitType==="pic_parameter_set_rbsp"&&!O&&(O=F.data,h.pps=[F.data]),g.push(F)},this.flush=function(){for(var F,$,V,q,J,Te,Pe=0,me,Fe;g.length&&g[0].nalUnitType!=="access_unit_delimiter_rbsp";)g.shift();if(g.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(F=ae.groupNalsIntoFrames(g),V=ae.groupFramesIntoGops(F),V[0][0].keyFrame||($=this.getGopForFusion_(g[0],h),$?(Pe=$.duration,V.unshift($),V.byteLength+=$.byteLength,V.nalCount+=$.nalCount,V.pts=$.pts,V.dts=$.dts,V.duration+=$.duration):V=ae.extendFirstKeyFrame(V)),x.length){var Bt;if(v.alignGopsAtEnd?Bt=this.alignGopsAtEnd_(V):Bt=this.alignGopsAtStart_(V),!Bt){this.gopCache_.unshift({gop:V.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),g=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Qn.clearDtsInfo(h),V=Bt}Qn.collectDtsInfo(h,V),h.samples=ae.generateSampleTable(V),J=ve.mdat(ae.concatenateNalData(V)),h.baseMediaDecodeTime=Qn.calculateTrackBaseMediaDecodeTime(h,v.keepOriginalTimestamps),this.trigger("processedGopsInfo",V.map(function(fn){return{pts:fn.pts,dts:fn.dts,byteLength:fn.byteLength}})),me=V[0],Fe=V[V.length-1],this.trigger("segmentTimingInfo",xd(h.baseMediaDecodeTime,me.dts,me.pts,Fe.dts+Fe.duration,Fe.pts+Fe.duration,Pe)),this.trigger("timingInfo",{start:V[0].pts,end:V[V.length-1].pts+V[V.length-1].duration}),this.gopCache_.unshift({gop:V.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),g=[],this.trigger("baseMediaDecodeTime",h.baseMediaDecodeTime),this.trigger("timelineStartInfo",h.timelineStartInfo),q=ve.moof(m,[h]),Te=new Uint8Array(q.byteLength+J.byteLength),m++,Te.set(q),Te.set(J,q.byteLength),this.trigger("data",{track:h,boxes:Te}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),g=[],this.gopCache_.length=0,x.length=0,this.trigger("reset")},this.resetStream_=function(){Qn.clearDtsInfo(h),E=void 0,O=void 0},this.getGopForFusion_=function(F){var $=45e3,V=1e4,q=1/0,J,Te,Pe,me,Fe;for(Fe=0;Fe<this.gopCache_.length;Fe++)me=this.gopCache_[Fe],Pe=me.gop,!(!(h.pps&&nv(h.pps[0],me.pps[0]))||!(h.sps&&nv(h.sps[0],me.sps[0])))&&(Pe.dts<h.timelineStartInfo.dts||(J=F.dts-Pe.dts-Pe.duration,J>=-V&&J<=$&&(!Te||q>J)&&(Te=me,q=J)));return Te?Te.gop:null},this.alignGopsAtStart_=function(F){var $,V,q,J,Te,Pe,me,Fe;for(Te=F.byteLength,Pe=F.nalCount,me=F.duration,$=V=0;$<x.length&&V<F.length&&(q=x[$],J=F[V],q.pts!==J.pts);){if(J.pts>q.pts){$++;continue}V++,Te-=J.byteLength,Pe-=J.nalCount,me-=J.duration}return V===0?F:V===F.length?null:(Fe=F.slice(V),Fe.byteLength=Te,Fe.duration=me,Fe.nalCount=Pe,Fe.pts=Fe[0].pts,Fe.dts=Fe[0].dts,Fe)},this.alignGopsAtEnd_=function(F){var $,V,q,J,Te,Pe;for($=x.length-1,V=F.length-1,Te=null,Pe=!1;$>=0&&V>=0;){if(q=x[$],J=F[V],q.pts===J.pts){Pe=!0;break}if(q.pts>J.pts){$--;continue}$===x.length-1&&(Te=V),V--}if(!Pe&&Te===null)return null;var me;if(Pe?me=V:me=Te,me===0)return F;var Fe=F.slice(me),Bt=Fe.reduce(function(fn,Di){return fn.byteLength+=Di.byteLength,fn.duration+=Di.duration,fn.nalCount+=Di.nalCount,fn},{byteLength:0,duration:0,nalCount:0});return Fe.byteLength=Bt.byteLength,Fe.duration=Bt.duration,Fe.nalCount=Bt.nalCount,Fe.pts=Fe[0].pts,Fe.dts=Fe[0].dts,Fe},this.alignGopsWith=function(F){x=F}},Bs.prototype=new t,Ii=function(h,v){this.numberOfTracks=0,this.metadataStream=v,h=h||{},typeof h.remux!="undefined"?this.remuxTracks=!!h.remux:this.remuxTracks=!0,typeof h.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=h.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Ii.prototype.init.call(this),this.push=function(m){if(m.text)return this.pendingCaptions.push(m);if(m.frames)return this.pendingMetadata.push(m);this.pendingTracks.push(m.track),this.pendingBytes+=m.boxes.byteLength,m.track.type==="video"&&(this.videoTrack=m.track,this.pendingBoxes.push(m.boxes)),m.track.type==="audio"&&(this.audioTrack=m.track,this.pendingBoxes.unshift(m.boxes))}},Ii.prototype=new t,Ii.prototype.flush=function(C){var h=0,v={captions:[],captionStreams:{},metadata:[],info:{}},m,g,x,E=0,O;if(this.pendingTracks.length<this.numberOfTracks){if(C!=="VideoSegmentStream"&&C!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(E=this.videoTrack.timelineStartInfo.pts,Sd.forEach(function(F){v.info[F]=this.videoTrack[F]},this)):this.audioTrack&&(E=this.audioTrack.timelineStartInfo.pts,Td.forEach(function(F){v.info[F]=this.audioTrack[F]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?v.type=this.pendingTracks[0].type:v.type="combined",this.emittedTracks+=this.pendingTracks.length,x=ve.initSegment(this.pendingTracks),v.initSegment=new Uint8Array(x.byteLength),v.initSegment.set(x),v.data=new Uint8Array(this.pendingBytes),O=0;O<this.pendingBoxes.length;O++)v.data.set(this.pendingBoxes[O],h),h+=this.pendingBoxes[O].byteLength;for(O=0;O<this.pendingCaptions.length;O++)m=this.pendingCaptions[O],m.startTime=qe.metadataTsToSeconds(m.startPts,E,this.keepOriginalTimestamps),m.endTime=qe.metadataTsToSeconds(m.endPts,E,this.keepOriginalTimestamps),v.captionStreams[m.stream]=!0,v.captions.push(m);for(O=0;O<this.pendingMetadata.length;O++)g=this.pendingMetadata[O],g.cueTime=qe.metadataTsToSeconds(g.pts,E,this.keepOriginalTimestamps),v.metadata.push(g);for(v.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",v),O=0;O<v.captions.length;O++)m=v.captions[O],this.trigger("caption",m);for(O=0;O<v.metadata.length;O++)g=v.metadata[O],this.trigger("id3Frame",g)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Ii.prototype.setRemux=function(C){this.remuxTracks=C},Wl=function(h){var v=this,m=!0,g,x;Wl.prototype.init.call(this),h=h||{},this.baseMediaDecodeTime=h.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var E={};this.transmuxPipeline_=E,E.type="aac",E.metadataStream=new Ar.MetadataStream,E.aacStream=new xC,E.audioTimestampRolloverStream=new Ar.TimestampRolloverStream("audio"),E.timedMetadataTimestampRolloverStream=new Ar.TimestampRolloverStream("timed-metadata"),E.adtsStream=new Ym,E.coalesceStream=new Ii(h,E.metadataStream),E.headOfPipeline=E.aacStream,E.aacStream.pipe(E.audioTimestampRolloverStream).pipe(E.adtsStream),E.aacStream.pipe(E.timedMetadataTimestampRolloverStream).pipe(E.metadataStream).pipe(E.coalesceStream),E.metadataStream.on("timestamp",function(O){E.aacStream.setTimestamp(O.timeStamp)}),E.aacStream.on("data",function(O){O.type!=="timed-metadata"&&O.type!=="audio"||E.audioSegmentStream||(x=x||{timelineStartInfo:{baseMediaDecodeTime:v.baseMediaDecodeTime},codec:"adts",type:"audio"},E.coalesceStream.numberOfTracks++,E.audioSegmentStream=new Sa(x,h),E.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),E.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),E.adtsStream.pipe(E.audioSegmentStream).pipe(E.coalesceStream),v.trigger("trackinfo",{hasAudio:!!x,hasVideo:!!g}))}),E.coalesceStream.on("data",this.trigger.bind(this,"data")),E.coalesceStream.on("done",this.trigger.bind(this,"done")),tv(this,E)},this.setupTsPipeline=function(){var E={};this.transmuxPipeline_=E,E.type="ts",E.metadataStream=new Ar.MetadataStream,E.packetStream=new Ar.TransportPacketStream,E.parseStream=new Ar.TransportParseStream,E.elementaryStream=new Ar.ElementaryStream,E.timestampRolloverStream=new Ar.TimestampRolloverStream,E.adtsStream=new Ym,E.h264Stream=new wC,E.captionStream=new Ar.CaptionStream(h),E.coalesceStream=new Ii(h,E.metadataStream),E.headOfPipeline=E.packetStream,E.packetStream.pipe(E.parseStream).pipe(E.elementaryStream).pipe(E.timestampRolloverStream),E.timestampRolloverStream.pipe(E.h264Stream),E.timestampRolloverStream.pipe(E.adtsStream),E.timestampRolloverStream.pipe(E.metadataStream).pipe(E.coalesceStream),E.h264Stream.pipe(E.captionStream).pipe(E.coalesceStream),E.elementaryStream.on("data",function(O){var F;if(O.type==="metadata"){for(F=O.tracks.length;F--;)!g&&O.tracks[F].type==="video"?(g=O.tracks[F],g.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime):!x&&O.tracks[F].type==="audio"&&(x=O.tracks[F],x.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime);g&&!E.videoSegmentStream&&(E.coalesceStream.numberOfTracks++,E.videoSegmentStream=new Bs(g,h),E.videoSegmentStream.on("log",v.getLogTrigger_("videoSegmentStream")),E.videoSegmentStream.on("timelineStartInfo",function($){x&&!h.keepOriginalTimestamps&&(x.timelineStartInfo=$,E.audioSegmentStream.setEarliestDts($.dts-v.baseMediaDecodeTime))}),E.videoSegmentStream.on("processedGopsInfo",v.trigger.bind(v,"gopInfo")),E.videoSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"videoSegmentTimingInfo")),E.videoSegmentStream.on("baseMediaDecodeTime",function($){x&&E.audioSegmentStream.setVideoBaseMediaDecodeTime($)}),E.videoSegmentStream.on("timingInfo",v.trigger.bind(v,"videoTimingInfo")),E.h264Stream.pipe(E.videoSegmentStream).pipe(E.coalesceStream)),x&&!E.audioSegmentStream&&(E.coalesceStream.numberOfTracks++,E.audioSegmentStream=new Sa(x,h),E.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),E.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),E.audioSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"audioSegmentTimingInfo")),E.adtsStream.pipe(E.audioSegmentStream).pipe(E.coalesceStream)),v.trigger("trackinfo",{hasAudio:!!x,hasVideo:!!g})}}),E.coalesceStream.on("data",this.trigger.bind(this,"data")),E.coalesceStream.on("id3Frame",function(O){O.dispatchType=E.metadataStream.dispatchType,v.trigger("id3Frame",O)}),E.coalesceStream.on("caption",this.trigger.bind(this,"caption")),E.coalesceStream.on("done",this.trigger.bind(this,"done")),tv(this,E)},this.setBaseMediaDecodeTime=function(E){var O=this.transmuxPipeline_;h.keepOriginalTimestamps||(this.baseMediaDecodeTime=E),x&&(x.timelineStartInfo.dts=void 0,x.timelineStartInfo.pts=void 0,Qn.clearDtsInfo(x),O.audioTimestampRolloverStream&&O.audioTimestampRolloverStream.discontinuity()),g&&(O.videoSegmentStream&&(O.videoSegmentStream.gopCache_=[]),g.timelineStartInfo.dts=void 0,g.timelineStartInfo.pts=void 0,Qn.clearDtsInfo(g),O.captionStream.reset()),O.timestampRolloverStream&&O.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(E){x&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(E)},this.setRemux=function(E){var O=this.transmuxPipeline_;h.remux=E,O&&O.coalesceStream&&O.coalesceStream.setRemux(E)},this.alignGopsWith=function(E){g&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(E)},this.getLogTrigger_=function(E){var O=this;return function(F){F.stream=E,O.trigger("log",F)}},this.push=function(E){if(m){var O=kC(E);O&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!O&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),m=!1}this.transmuxPipeline_.headOfPipeline.push(E)},this.flush=function(){m=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Wl.prototype=new t;var IC={Transmuxer:Wl,VideoSegmentStream:Bs,AudioSegmentStream:Sa,AUDIO_PROPERTIES:Td,VIDEO_PROPERTIES:Sd,generateSegmentTimingInfo:xd},OC=function(h){return h>>>0},LC=function(h){return("00"+h.toString(16)).slice(-2)},zl={toUnsigned:OC,toHexString:LC},DC=function(h){var v="";return v+=String.fromCharCode(h[0]),v+=String.fromCharCode(h[1]),v+=String.fromCharCode(h[2]),v+=String.fromCharCode(h[3]),v},Oi=DC,RC=zl.toUnsigned,MC=function C(h,v){var m=[],g,x,E,O,F;if(!v.length)return null;for(g=0;g<h.byteLength;)x=RC(h[g]<<24|h[g+1]<<16|h[g+2]<<8|h[g+3]),E=Oi(h.subarray(g+4,g+8)),O=x>1?g+x:h.byteLength,E===v[0]&&(v.length===1?m.push(h.subarray(g+8,O)):(F=C(h.subarray(g+8,O),v.slice(1)),F.length&&(m=m.concat(F)))),g=O;return m},yt=MC,FC=zl.toUnsigned,NC=n.getUint64,BC=function(h){var v={version:h[0],flags:new Uint8Array(h.subarray(1,4))};return v.version===1?v.baseMediaDecodeTime=NC(h.subarray(4)):v.baseMediaDecodeTime=FC(h[4]<<24|h[5]<<16|h[6]<<8|h[7]),v},rv=BC,UC=function(h){return{isLeading:(h[0]&12)>>>2,dependsOn:h[0]&3,isDependedOn:(h[1]&192)>>>6,hasRedundancy:(h[1]&48)>>>4,paddingValue:(h[1]&14)>>>1,isNonSyncSample:h[1]&1,degradationPriority:h[2]<<8|h[3]}},iv=UC,VC=function(h){var v={version:h[0],flags:new Uint8Array(h.subarray(1,4)),samples:[]},m=new DataView(h.buffer,h.byteOffset,h.byteLength),g=v.flags[2]&1,x=v.flags[2]&4,E=v.flags[1]&1,O=v.flags[1]&2,F=v.flags[1]&4,$=v.flags[1]&8,V=m.getUint32(4),q=8,J;for(g&&(v.dataOffset=m.getInt32(q),q+=4),x&&V&&(J={flags:iv(h.subarray(q,q+4))},q+=4,E&&(J.duration=m.getUint32(q),q+=4),O&&(J.size=m.getUint32(q),q+=4),$&&(v.version===1?J.compositionTimeOffset=m.getInt32(q):J.compositionTimeOffset=m.getUint32(q),q+=4),v.samples.push(J),V--);V--;)J={},E&&(J.duration=m.getUint32(q),q+=4),O&&(J.size=m.getUint32(q),q+=4),F&&(J.flags=iv(h.subarray(q,q+4)),q+=4),$&&(v.version===1?J.compositionTimeOffset=m.getInt32(q):J.compositionTimeOffset=m.getUint32(q),q+=4),v.samples.push(J);return v},av=VC,$C=function(h){var v=new DataView(h.buffer,h.byteOffset,h.byteLength),m={version:h[0],flags:new Uint8Array(h.subarray(1,4)),trackId:v.getUint32(4)},g=m.flags[2]&1,x=m.flags[2]&2,E=m.flags[2]&8,O=m.flags[2]&16,F=m.flags[2]&32,$=m.flags[0]&65536,V=m.flags[0]&131072,q;return q=8,g&&(q+=4,m.baseDataOffset=v.getUint32(12),q+=4),x&&(m.sampleDescriptionIndex=v.getUint32(q),q+=4),E&&(m.defaultSampleDuration=v.getUint32(q),q+=4),O&&(m.defaultSampleSize=v.getUint32(q),q+=4),F&&(m.defaultSampleFlags=v.getUint32(q)),$&&(m.durationIsEmpty=!0),!g&&V&&(m.baseDataOffsetIsMoof=!0),m},sv=$C,ov=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Us;typeof window!="undefined"?Us=window:typeof ov!="undefined"?Us=ov:typeof self!="undefined"?Us=self:Us={};var Vs=Us,jC=Ms.discardEmulationPreventionBytes,HC=Rl.CaptionStream,WC=function(h,v){for(var m=h,g=0;g<v.length;g++){var x=v[g];if(m<x.size)return x;m-=x.size}return null},zC=function(h,v,m){var g=new DataView(h.buffer,h.byteOffset,h.byteLength),x={logs:[],seiNals:[]},E,O,F,$;for(O=0;O+4<h.length;O+=F)if(F=g.getUint32(O),O+=4,!(F<=0))switch(h[O]&31){case 6:var V=h.subarray(O+1,O+1+F),q=WC(O,v);if(E={nalUnitType:"sei_rbsp",size:F,data:V,escapedRBSP:jC(V),trackId:m},q)E.pts=q.pts,E.dts=q.dts,$=q;else if($)E.pts=$.pts,E.dts=$.dts;else{x.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+O+" for trackId "+m+". See mux.js#223."});break}x.seiNals.push(E);break}return x},qC=function(h,v,m){var g=v,x=m.defaultSampleDuration||0,E=m.defaultSampleSize||0,O=m.trackId,F=[];return h.forEach(function($){var V=av($),q=V.samples;q.forEach(function(J){J.duration===void 0&&(J.duration=x),J.size===void 0&&(J.size=E),J.trackId=O,J.dts=g,J.compositionTimeOffset===void 0&&(J.compositionTimeOffset=0),typeof g=="bigint"?(J.pts=g+Vs.BigInt(J.compositionTimeOffset),g+=Vs.BigInt(J.duration)):(J.pts=g+J.compositionTimeOffset,g+=J.duration)}),F=F.concat(q)}),F},GC=function(h,v){var m=yt(h,["moof","traf"]),g=yt(h,["mdat"]),x={},E=[];return g.forEach(function(O,F){var $=m[F];E.push({mdat:O,traf:$})}),E.forEach(function(O){var F=O.mdat,$=O.traf,V=yt($,["tfhd"]),q=sv(V[0]),J=q.trackId,Te=yt($,["tfdt"]),Pe=Te.length>0?rv(Te[0]).baseMediaDecodeTime:0,me=yt($,["trun"]),Fe,Bt;v===J&&me.length>0&&(Fe=qC(me,Pe,q),Bt=zC(F,Fe,J),x[J]||(x[J]={seiNals:[],logs:[]}),x[J].seiNals=x[J].seiNals.concat(Bt.seiNals),x[J].logs=x[J].logs.concat(Bt.logs))}),x},KC=function(h,v,m){var g;if(v===null)return null;g=GC(h,v);var x=g[v]||{};return{seiNals:x.seiNals,logs:x.logs,timescale:m}},XC=function(){var h=!1,v,m,g,x,E,O;this.isInitialized=function(){return h},this.init=function(F){v=new HC,h=!0,O=F?F.isPartial:!1,v.on("data",function($){$.startTime=$.startPts/x,$.endTime=$.endPts/x,E.captions.push($),E.captionStreams[$.stream]=!0}),v.on("log",function($){E.logs.push($)})},this.isNewInit=function(F,$){return F&&F.length===0||$&&typeof $=="object"&&Object.keys($).length===0?!1:g!==F[0]||x!==$[g]},this.parse=function(F,$,V){var q;if(this.isInitialized()){if(!$||!V)return null;if(this.isNewInit($,V))g=$[0],x=V[g];else if(g===null||!x)return m.push(F),null}else return null;for(;m.length>0;){var J=m.shift();this.parse(J,$,V)}return q=KC(F,g,x),q&&q.logs&&(E.logs=E.logs.concat(q.logs)),q===null||!q.seiNals?E.logs.length?{logs:E.logs,captions:[],captionStreams:[]}:null:(this.pushNals(q.seiNals),this.flushStream(),E)},this.pushNals=function(F){if(!this.isInitialized()||!F||F.length===0)return null;F.forEach(function($){v.push($)})},this.flushStream=function(){if(!this.isInitialized())return null;O?v.partialFlush():v.flush()},this.clearParsedCaptions=function(){E.captions=[],E.captionStreams={},E.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;v.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){m=[],g=null,x=null,E?this.clearParsedCaptions():E={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},YC=XC,ql=zl.toUnsigned,$s=zl.toHexString,QC=n.getUint64,lv,uv,cv,dv,fv,Ed;lv=function(h){var v={},m=yt(h,["moov","trak"]);return m.reduce(function(g,x){var E,O,F,$,V;return E=yt(x,["tkhd"])[0],!E||(O=E[0],F=O===0?12:20,$=ql(E[F]<<24|E[F+1]<<16|E[F+2]<<8|E[F+3]),V=yt(x,["mdia","mdhd"])[0],!V)?null:(O=V[0],F=O===0?12:20,g[$]=ql(V[F]<<24|V[F+1]<<16|V[F+2]<<8|V[F+3]),g)},v)},uv=function(h,v){var m;m=yt(v,["moof","traf"]);var g=m.reduce(function(x,E){var O=yt(E,["tfhd"])[0],F=ql(O[4]<<24|O[5]<<16|O[6]<<8|O[7]),$=h[F]||9e4,V=yt(E,["tfdt"])[0],q=new DataView(V.buffer,V.byteOffset,V.byteLength),J;V[0]===1?J=QC(V.subarray(4,12)):J=q.getUint32(4);var Te;return typeof J=="bigint"?Te=J/Vs.BigInt($):typeof J=="number"&&!isNaN(J)&&(Te=J/$),Te<Number.MAX_SAFE_INTEGER&&(Te=Number(Te)),Te<x&&(x=Te),x},1/0);return typeof g=="bigint"||isFinite(g)?g:0},cv=function(h,v){var m=yt(v,["moof","traf"]),g=0,x=0,E;if(m&&m.length){var O=yt(m[0],["tfhd"])[0],F=yt(m[0],["trun"])[0],$=yt(m[0],["tfdt"])[0];if(O){var V=sv(O);E=V.trackId}if($){var q=rv($);g=q.baseMediaDecodeTime}if(F){var J=av(F);J.samples&&J.samples.length&&(x=J.samples[0].compositionTimeOffset||0)}}var Te=h[E]||9e4;typeof g=="bigint"&&(x=Vs.BigInt(x),Te=Vs.BigInt(Te));var Pe=(g+x)/Te;return typeof Pe=="bigint"&&Pe<Number.MAX_SAFE_INTEGER&&(Pe=Number(Pe)),Pe},dv=function(h){var v=yt(h,["moov","trak"]),m=[];return v.forEach(function(g){var x=yt(g,["mdia","hdlr"]),E=yt(g,["tkhd"]);x.forEach(function(O,F){var $=Oi(O.subarray(8,12)),V=E[F],q,J,Te;$==="vide"&&(q=new DataView(V.buffer,V.byteOffset,V.byteLength),J=q.getUint8(0),Te=J===0?q.getUint32(12):q.getUint32(20),m.push(Te))})}),m},Ed=function(h){var v=h[0],m=v===0?12:20;return ql(h[m]<<24|h[m+1]<<16|h[m+2]<<8|h[m+3])},fv=function(h){var v=yt(h,["moov","trak"]),m=[];return v.forEach(function(g){var x={},E=yt(g,["tkhd"])[0],O,F;E&&(O=new DataView(E.buffer,E.byteOffset,E.byteLength),F=O.getUint8(0),x.id=F===0?O.getUint32(12):O.getUint32(20));var $=yt(g,["mdia","hdlr"])[0];if($){var V=Oi($.subarray(8,12));V==="vide"?x.type="video":V==="soun"?x.type="audio":x.type=V}var q=yt(g,["mdia","minf","stbl","stsd"])[0];if(q){var J=q.subarray(8);x.codec=Oi(J.subarray(4,8));var Te=yt(J,[x.codec])[0],Pe,me;Te&&(/^[asm]vc[1-9]$/i.test(x.codec)?(Pe=Te.subarray(78),me=Oi(Pe.subarray(4,8)),me==="avcC"&&Pe.length>11?(x.codec+=".",x.codec+=$s(Pe[9]),x.codec+=$s(Pe[10]),x.codec+=$s(Pe[11])):x.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(x.codec)?(Pe=Te.subarray(28),me=Oi(Pe.subarray(4,8)),me==="esds"&&Pe.length>20&&Pe[19]!==0?(x.codec+="."+$s(Pe[19]),x.codec+="."+$s(Pe[20]>>>2&63).replace(/^0/,"")):x.codec="mp4a.40.2"):x.codec=x.codec.toLowerCase())}var Fe=yt(g,["mdia","mdhd"])[0];Fe&&(x.timescale=Ed(Fe)),m.push(x)}),m};var hv={findBox:yt,parseType:Oi,timescale:lv,startTime:uv,compositionStartTime:cv,videoTrackIds:dv,tracks:fv,getTimescaleFromMediaHeader:Ed},pv=function(h){var v=h[1]&31;return v<<=8,v|=h[2],v},Gl=function(h){return!!(h[1]&64)},Kl=function(h){var v=0;return(h[3]&48)>>>4>1&&(v+=h[4]+1),v},JC=function(h,v){var m=pv(h);return m===0?"pat":m===v?"pmt":v?"pes":null},ZC=function(h){var v=Gl(h),m=4+Kl(h);return v&&(m+=h[m]+1),(h[m+10]&31)<<8|h[m+11]},ew=function(h){var v={},m=Gl(h),g=4+Kl(h);if(m&&(g+=h[g]+1),!!(h[g+5]&1)){var x,E,O;x=(h[g+1]&15)<<8|h[g+2],E=3+x-4,O=(h[g+10]&15)<<8|h[g+11];for(var F=12+O;F<E;){var $=g+F;v[(h[$+1]&31)<<8|h[$+2]]=h[$],F+=((h[$+3]&15)<<8|h[$+4])+5}return v}},tw=function(h,v){var m=pv(h),g=v[m];switch(g){case Yt.H264_STREAM_TYPE:return"video";case Yt.ADTS_STREAM_TYPE:return"audio";case Yt.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},nw=function(h){var v=Gl(h);if(!v)return null;var m=4+Kl(h);if(m>=h.byteLength)return null;var g=null,x;return x=h[m+7],x&192&&(g={},g.pts=(h[m+9]&14)<<27|(h[m+10]&255)<<20|(h[m+11]&254)<<12|(h[m+12]&255)<<5|(h[m+13]&254)>>>3,g.pts*=4,g.pts+=(h[m+13]&6)>>>1,g.dts=g.pts,x&64&&(g.dts=(h[m+14]&14)<<27|(h[m+15]&255)<<20|(h[m+16]&254)<<12|(h[m+17]&255)<<5|(h[m+18]&254)>>>3,g.dts*=4,g.dts+=(h[m+18]&6)>>>1)),g},Cd=function(h){switch(h){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},rw=function(h){for(var v=4+Kl(h),m=h.subarray(v),g=0,x=0,E=!1,O;x<m.byteLength-3;x++)if(m[x+2]===1){g=x+5;break}for(;g<m.byteLength;)switch(m[g]){case 0:if(m[g-1]!==0){g+=2;break}else if(m[g-2]!==0){g++;break}x+3!==g-2&&(O=Cd(m[x+3]&31),O==="slice_layer_without_partitioning_rbsp_idr"&&(E=!0));do g++;while(m[g]!==1&&g<m.length);x=g-2,g+=3;break;case 1:if(m[g-1]!==0||m[g-2]!==0){g+=3;break}O=Cd(m[x+3]&31),O==="slice_layer_without_partitioning_rbsp_idr"&&(E=!0),x=g-2,g+=3;break;default:g+=3;break}return m=m.subarray(x),g-=x,x=0,m&&m.byteLength>3&&(O=Cd(m[x+3]&31),O==="slice_layer_without_partitioning_rbsp_idr"&&(E=!0)),E},iw={parseType:JC,parsePat:ZC,parsePmt:ew,parsePayloadUnitStartIndicator:Gl,parsePesType:tw,parsePesTime:nw,videoPacketContainsKeyFrame:rw},xa=zm.handleRollover,ct={};ct.ts=iw,ct.aac=jl;var Li=qe.ONE_SECOND_IN_TS,dn=188,cr=71,aw=function(h,v){for(var m=0,g=dn,x,E;g<h.byteLength;){if(h[m]===cr&&h[g]===cr){switch(x=h.subarray(m,g),E=ct.ts.parseType(x,v.pid),E){case"pat":v.pid=ct.ts.parsePat(x);break;case"pmt":var O=ct.ts.parsePmt(x);v.table=v.table||{},Object.keys(O).forEach(function(F){v.table[F]=O[F]});break}m+=dn,g+=dn;continue}m++,g++}},mv=function(h,v,m){for(var g=0,x=dn,E,O,F,$,V,q=!1;x<=h.byteLength;){if(h[g]===cr&&(h[x]===cr||x===h.byteLength)){switch(E=h.subarray(g,x),O=ct.ts.parseType(E,v.pid),O){case"pes":F=ct.ts.parsePesType(E,v.table),$=ct.ts.parsePayloadUnitStartIndicator(E),F==="audio"&&$&&(V=ct.ts.parsePesTime(E),V&&(V.type="audio",m.audio.push(V),q=!0));break}if(q)break;g+=dn,x+=dn;continue}g++,x++}for(x=h.byteLength,g=x-dn,q=!1;g>=0;){if(h[g]===cr&&(h[x]===cr||x===h.byteLength)){switch(E=h.subarray(g,x),O=ct.ts.parseType(E,v.pid),O){case"pes":F=ct.ts.parsePesType(E,v.table),$=ct.ts.parsePayloadUnitStartIndicator(E),F==="audio"&&$&&(V=ct.ts.parsePesTime(E),V&&(V.type="audio",m.audio.push(V),q=!0));break}if(q)break;g-=dn,x-=dn;continue}g--,x--}},sw=function(h,v,m){for(var g=0,x=dn,E,O,F,$,V,q,J,Te,Pe=!1,me={data:[],size:0};x<h.byteLength;){if(h[g]===cr&&h[x]===cr){switch(E=h.subarray(g,x),O=ct.ts.parseType(E,v.pid),O){case"pes":if(F=ct.ts.parsePesType(E,v.table),$=ct.ts.parsePayloadUnitStartIndicator(E),F==="video"&&($&&!Pe&&(V=ct.ts.parsePesTime(E),V&&(V.type="video",m.video.push(V),Pe=!0)),!m.firstKeyFrame)){if($&&me.size!==0){for(q=new Uint8Array(me.size),J=0;me.data.length;)Te=me.data.shift(),q.set(Te,J),J+=Te.byteLength;if(ct.ts.videoPacketContainsKeyFrame(q)){var Fe=ct.ts.parsePesTime(q);Fe?(m.firstKeyFrame=Fe,m.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}me.size=0}me.data.push(E),me.size+=E.byteLength}break}if(Pe&&m.firstKeyFrame)break;g+=dn,x+=dn;continue}g++,x++}for(x=h.byteLength,g=x-dn,Pe=!1;g>=0;){if(h[g]===cr&&h[x]===cr){switch(E=h.subarray(g,x),O=ct.ts.parseType(E,v.pid),O){case"pes":F=ct.ts.parsePesType(E,v.table),$=ct.ts.parsePayloadUnitStartIndicator(E),F==="video"&&$&&(V=ct.ts.parsePesTime(E),V&&(V.type="video",m.video.push(V),Pe=!0));break}if(Pe)break;g-=dn,x-=dn;continue}g--,x--}},ow=function(h,v){if(h.audio&&h.audio.length){var m=v;(typeof m=="undefined"||isNaN(m))&&(m=h.audio[0].dts),h.audio.forEach(function(E){E.dts=xa(E.dts,m),E.pts=xa(E.pts,m),E.dtsTime=E.dts/Li,E.ptsTime=E.pts/Li})}if(h.video&&h.video.length){var g=v;if((typeof g=="undefined"||isNaN(g))&&(g=h.video[0].dts),h.video.forEach(function(E){E.dts=xa(E.dts,g),E.pts=xa(E.pts,g),E.dtsTime=E.dts/Li,E.ptsTime=E.pts/Li}),h.firstKeyFrame){var x=h.firstKeyFrame;x.dts=xa(x.dts,g),x.pts=xa(x.pts,g),x.dtsTime=x.dts/Li,x.ptsTime=x.pts/Li}}},lw=function(h){for(var v=!1,m=0,g=null,x=null,E=0,O=0,F;h.length-O>=3;){var $=ct.aac.parseType(h,O);switch($){case"timed-metadata":if(h.length-O<10){v=!0;break}if(E=ct.aac.parseId3TagSize(h,O),E>h.length){v=!0;break}x===null&&(F=h.subarray(O,O+E),x=ct.aac.parseAacTimestamp(F)),O+=E;break;case"audio":if(h.length-O<7){v=!0;break}if(E=ct.aac.parseAdtsSize(h,O),E>h.length){v=!0;break}g===null&&(F=h.subarray(O,O+E),g=ct.aac.parseSampleRate(F)),m++,O+=E;break;default:O++;break}if(v)return null}if(g===null||x===null)return null;var V=Li/g,q={audio:[{type:"audio",dts:x,pts:x},{type:"audio",dts:x+m*1024*V,pts:x+m*1024*V}]};return q},uw=function(h){var v={pid:null,table:null},m={};aw(h,v);for(var g in v.table)if(v.table.hasOwnProperty(g)){var x=v.table[g];switch(x){case Yt.H264_STREAM_TYPE:m.video=[],sw(h,v,m),m.video.length===0&&delete m.video;break;case Yt.ADTS_STREAM_TYPE:m.audio=[],mv(h,v,m),m.audio.length===0&&delete m.audio;break}}return m},cw=function(h,v){var m=ct.aac.isLikelyAacData(h),g;return m?g=lw(h):g=uw(h),!g||!g.audio&&!g.video?null:(ow(g,v),g)},dw={inspect:cw,parseAudioPes_:mv},fw=function(h,v){v.on("data",function(m){var g=m.initSegment;m.initSegment={data:g.buffer,byteOffset:g.byteOffset,byteLength:g.byteLength};var x=m.data;m.data=x.buffer,h.postMessage({action:"data",segment:m,byteOffset:x.byteOffset,byteLength:x.byteLength},[m.data])}),v.on("done",function(m){h.postMessage({action:"done"})}),v.on("gopInfo",function(m){h.postMessage({action:"gopInfo",gopInfo:m})}),v.on("videoSegmentTimingInfo",function(m){var g={start:{decode:qe.videoTsToSeconds(m.start.dts),presentation:qe.videoTsToSeconds(m.start.pts)},end:{decode:qe.videoTsToSeconds(m.end.dts),presentation:qe.videoTsToSeconds(m.end.pts)},baseMediaDecodeTime:qe.videoTsToSeconds(m.baseMediaDecodeTime)};m.prependedContentDuration&&(g.prependedContentDuration=qe.videoTsToSeconds(m.prependedContentDuration)),h.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:g})}),v.on("audioSegmentTimingInfo",function(m){var g={start:{decode:qe.videoTsToSeconds(m.start.dts),presentation:qe.videoTsToSeconds(m.start.pts)},end:{decode:qe.videoTsToSeconds(m.end.dts),presentation:qe.videoTsToSeconds(m.end.pts)},baseMediaDecodeTime:qe.videoTsToSeconds(m.baseMediaDecodeTime)};m.prependedContentDuration&&(g.prependedContentDuration=qe.videoTsToSeconds(m.prependedContentDuration)),h.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:g})}),v.on("id3Frame",function(m){h.postMessage({action:"id3Frame",id3Frame:m})}),v.on("caption",function(m){h.postMessage({action:"caption",caption:m})}),v.on("trackinfo",function(m){h.postMessage({action:"trackinfo",trackInfo:m})}),v.on("audioTimingInfo",function(m){h.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:qe.videoTsToSeconds(m.start),end:qe.videoTsToSeconds(m.end)}})}),v.on("videoTimingInfo",function(m){h.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:qe.videoTsToSeconds(m.start),end:qe.videoTsToSeconds(m.end)}})}),v.on("log",function(m){h.postMessage({action:"log",log:m})})},vv=function(){function C(v,m){this.options=m||{},this.self=v,this.init()}var h=C.prototype;return h.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new IC.Transmuxer(this.options),fw(this.self,this.transmuxer)},h.pushMp4Captions=function(m){this.captionParser||(this.captionParser=new YC,this.captionParser.init());var g=new Uint8Array(m.data,m.byteOffset,m.byteLength),x=this.captionParser.parse(g,m.trackIds,m.timescales);this.self.postMessage({action:"mp4Captions",captions:x&&x.captions||[],logs:x&&x.logs||[],data:g.buffer},[g.buffer])},h.probeMp4StartTime=function(m){var g=m.timescales,x=m.data,E=hv.startTime(g,x);this.self.postMessage({action:"probeMp4StartTime",startTime:E,data:x},[x.buffer])},h.probeMp4Tracks=function(m){var g=m.data,x=hv.tracks(g);this.self.postMessage({action:"probeMp4Tracks",tracks:x,data:g},[g.buffer])},h.probeTs=function(m){var g=m.data,x=m.baseStartTime,E=typeof x=="number"&&!isNaN(x)?x*qe.ONE_SECOND_IN_TS:void 0,O=dw.inspect(g,E),F=null;O&&(F={hasVideo:O.video&&O.video.length===2||!1,hasAudio:O.audio&&O.audio.length===2||!1},F.hasVideo&&(F.videoStart=O.video[0].ptsTime),F.hasAudio&&(F.audioStart=O.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:F,data:g},[g.buffer])},h.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},h.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},h.push=function(m){var g=new Uint8Array(m.data,m.byteOffset,m.byteLength);this.transmuxer.push(g)},h.reset=function(){this.transmuxer.reset()},h.setTimestampOffset=function(m){var g=m.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(qe.secondsToVideoTs(g)))},h.setAudioAppendStart=function(m){this.transmuxer.setAudioAppendStart(Math.ceil(qe.secondsToVideoTs(m.appendStart)))},h.setRemux=function(m){this.transmuxer.setRemux(m.remux)},h.flush=function(m){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},h.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},h.alignGopsWith=function(m){this.transmuxer.alignGopsWith(m.gopsToAlignWith.slice())},C}();self.onmessage=function(C){if(C.data.action==="init"&&C.data.options){this.messageHandlers=new vv(self,C.data.options);return}this.messageHandlers||(this.messageHandlers=new vv(self)),C.data&&C.data.action&&C.data.action!=="init"&&this.messageHandlers[C.data.action]&&this.messageHandlers[C.data.action](C.data)}})),S2=EE(T2),x2=function(t,r,i){var n=t.data.segment,a=n.type,s=n.initSegment,o=n.captions,l=n.captionStreams,u=n.metadata,c=n.videoFrameDtsTime,f=n.videoFramePtsTime;r.buffer.push({captions:o,captionStreams:l,metadata:u});var d=t.data.segment.boxes||{data:t.data.segment.data},p={type:a,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof c!="undefined"&&(p.videoFrameDtsTime=c),typeof f!="undefined"&&(p.videoFramePtsTime=f),i(p)},E2=function(t){var r=t.transmuxedData,i=t.callback;r.buffer=[],i(r)},C2=function(t,r){r.gopInfo=t.data.gopInfo},kE=function(t){var r=t.transmuxer,i=t.bytes,n=t.audioAppendStart,a=t.gopsToAlignWith,s=t.remux,o=t.onData,l=t.onTrackInfo,u=t.onAudioTimingInfo,c=t.onVideoTimingInfo,f=t.onVideoSegmentTimingInfo,d=t.onAudioSegmentTimingInfo,p=t.onId3,y=t.onCaptions,b=t.onDone,T=t.onEndedTimeline,S=t.onTransmuxerLog,w=t.isEndOfTimeline,D={buffer:[]},P=w,I=function(M){r.currentTransmux===t&&(M.data.action==="data"&&x2(M,D,o),M.data.action==="trackinfo"&&l(M.data.trackInfo),M.data.action==="gopInfo"&&C2(M,D),M.data.action==="audioTimingInfo"&&u(M.data.audioTimingInfo),M.data.action==="videoTimingInfo"&&c(M.data.videoTimingInfo),M.data.action==="videoSegmentTimingInfo"&&f(M.data.videoSegmentTimingInfo),M.data.action==="audioSegmentTimingInfo"&&d(M.data.audioSegmentTimingInfo),M.data.action==="id3Frame"&&p([M.data.id3Frame],M.data.id3Frame.dispatchType),M.data.action==="caption"&&y(M.data.caption),M.data.action==="endedtimeline"&&(P=!1,T()),M.data.action==="log"&&S(M.data.log),M.data.type==="transmuxed"&&(P||(r.onmessage=null,E2({transmuxedData:D,callback:b}),PE(r))))};if(r.onmessage=I,n&&r.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(a)&&r.postMessage({action:"alignGopsWith",gopsToAlignWith:a}),typeof s!="undefined"&&r.postMessage({action:"setRemux",remux:s}),i.byteLength){var L=i instanceof ArrayBuffer?i:i.buffer,A=i instanceof ArrayBuffer?0:i.byteOffset;r.postMessage({action:"push",data:L,byteOffset:A,byteLength:i.byteLength},[L])}w&&r.postMessage({action:"endTimeline"}),r.postMessage({action:"flush"})},PE=function(t){t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():kE(t.currentTransmux))},Oy=function(t,r){t.postMessage({action:r}),PE(t)},AE=function(t,r){if(!r.currentTransmux){r.currentTransmux=t,Oy(r,t);return}r.transmuxQueue.push(Oy.bind(null,r,t))},w2=function(t){AE("reset",t)},k2=function(t){AE("endTimeline",t)},IE=function(t){if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,kE(t);return}t.transmuxer.transmuxQueue.push(t)},P2=function(t){var r=new S2;r.currentTransmux=null,r.transmuxQueue=[];var i=r.terminate;return r.terminate=function(){return r.currentTransmux=null,r.transmuxQueue.length=0,i.call(r)},r.postMessage({action:"init",options:t}),r},gf={reset:w2,endTimeline:k2,transmux:IE,createTransmuxer:P2},bc=function(t){var r=t.transmuxer,i=t.endAction||t.action,n=t.callback,a=qn({},t,{endAction:null,transmuxer:null,callback:null}),s=function u(c){c.data.action===i&&(r.removeEventListener("message",u),c.data.data&&(c.data.data=new Uint8Array(c.data.data,t.byteOffset||0,t.byteLength||c.data.data.byteLength),t.data&&(t.data=c.data.data)),n(c.data))};if(r.addEventListener("message",s),t.data){var o=t.data instanceof ArrayBuffer;a.byteOffset=o?0:t.data.byteOffset,a.byteLength=t.data.byteLength;var l=[o?t.data:t.data.buffer];r.postMessage(a,l)}else r.postMessage(a)},gr={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Dh=function(t){t.forEach(function(r){r.abort()})},A2=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}},I2=function(t){var r=t.target,i=Date.now()-r.requestTime,n={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},Nm=function(t,r){return r.timedout?{status:r.status,message:"HLS request timed-out at URL: "+r.uri,code:gr.TIMEOUT,xhr:r}:r.aborted?{status:r.status,message:"HLS request aborted at URL: "+r.uri,code:gr.ABORTED,xhr:r}:t?{status:r.status,message:"HLS request errored at URL: "+r.uri,code:gr.FAILURE,xhr:r}:r.responseType==="arraybuffer"&&r.response.byteLength===0?{status:r.status,message:"Empty HLS response at URL: "+r.uri,code:gr.FAILURE,xhr:r}:null},Ly=function(t,r,i){return function(n,a){var s=a.response,o=Nm(n,a);if(o)return i(o,t);if(s.byteLength!==16)return i({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:gr.FAILURE,xhr:a},t);for(var l=new DataView(s),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]),c=0;c<r.length;c++)r[c].bytes=u;return i(null,t)}},OE=function(t,r){var i=Jp(t.map.bytes);if(i!=="mp4"){var n=t.map.resolvedUri||t.map.uri;return r({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+n,code:gr.FAILURE})}bc({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:function(s){var o=s.tracks,l=s.data;return t.map.bytes=l,o.forEach(function(u){t.map.tracks=t.map.tracks||{},!t.map.tracks[u.type]&&(t.map.tracks[u.type]=u,typeof u.id=="number"&&u.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[u.id]=u.timescale))}),r(null)}})},O2=function(t){var r=t.segment,i=t.finishProcessingFn;return function(n,a){var s=Nm(n,a);if(s)return i(s,r);var o=new Uint8Array(a.response);if(r.map.key)return r.map.encryptedBytes=o,i(null,r);r.map.bytes=o,OE(r,function(l){if(l)return l.xhr=a,l.status=a.status,i(l,r);i(null,r)})}},L2=function(t){var r=t.segment,i=t.finishProcessingFn,n=t.responseType;return function(a,s){var o=Nm(a,s);if(o)return i(o,r);var l=n==="arraybuffer"||!s.responseText?s.response:_2(s.responseText.substring(r.lastReachedChar||0));return r.stats=A2(s),r.key?r.encryptedBytes=new Uint8Array(l):r.bytes=new Uint8Array(l),i(null,r)}},D2=function(t){var r=t.segment,i=t.bytes,n=t.trackInfoFn,a=t.timingInfoFn,s=t.videoSegmentTimingInfoFn,o=t.audioSegmentTimingInfoFn,l=t.id3Fn,u=t.captionsFn,c=t.isEndOfTimeline,f=t.endedTimelineFn,d=t.dataFn,p=t.doneFn,y=t.onTransmuxerLog,b=r.map&&r.map.tracks||{},T=Boolean(b.audio&&b.video),S=a.bind(null,r,"audio","start"),w=a.bind(null,r,"audio","end"),D=a.bind(null,r,"video","start"),P=a.bind(null,r,"video","end"),I=function(){return IE({bytes:i,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,remux:T,onData:function(R){R.type=R.type==="combined"?"video":R.type,d(r,R)},onTrackInfo:function(R){n&&(T&&(R.isMuxed=!0),n(r,R))},onAudioTimingInfo:function(R){S&&typeof R.start!="undefined"&&(S(R.start),S=null),w&&typeof R.end!="undefined"&&w(R.end)},onVideoTimingInfo:function(R){D&&typeof R.start!="undefined"&&(D(R.start),D=null),P&&typeof R.end!="undefined"&&P(R.end)},onVideoSegmentTimingInfo:function(R){s(R)},onAudioSegmentTimingInfo:function(R){o(R)},onId3:function(R,M){l(r,R,M)},onCaptions:function(R){u(r,[R])},isEndOfTimeline:c,onEndedTimeline:function(){f()},onTransmuxerLog:y,onDone:function(R){!p||(R.type=R.type==="combined"?"video":R.type,p(null,r,R))}})};bc({action:"probeTs",transmuxer:r.transmuxer,data:i,baseStartTime:r.baseStartTime,callback:function(A){r.bytes=i=A.data;var R=A.result;R&&(n(r,{hasAudio:R.hasAudio,hasVideo:R.hasVideo,isMuxed:T}),n=null,R.hasAudio&&!T&&S(R.audioStart),R.hasVideo&&D(R.videoStart),S=null,D=null),I()}})},LE=function(t){var r=t.segment,i=t.bytes,n=t.trackInfoFn,a=t.timingInfoFn,s=t.videoSegmentTimingInfoFn,o=t.audioSegmentTimingInfoFn,l=t.id3Fn,u=t.captionsFn,c=t.isEndOfTimeline,f=t.endedTimelineFn,d=t.dataFn,p=t.doneFn,y=t.onTransmuxerLog,b=new Uint8Array(i);if(nN(b)){r.isFmp4=!0;var T=r.map.tracks,S={isFmp4:!0,hasVideo:!!T.video,hasAudio:!!T.audio};T.audio&&T.audio.codec&&T.audio.codec!=="enca"&&(S.audioCodec=T.audio.codec),T.video&&T.video.codec&&T.video.codec!=="encv"&&(S.videoCodec=T.video.codec),T.video&&T.audio&&(S.isMuxed=!0),n(r,S);var w=function(P){d(r,{data:b,type:S.hasAudio&&!S.isMuxed?"audio":"video"}),P&&P.length&&u(r,P),p(null,r,{})};bc({action:"probeMp4StartTime",timescales:r.map.timescales,data:b,transmuxer:r.transmuxer,callback:function(P){var I=P.data,L=P.startTime;if(i=I.buffer,r.bytes=b=I,S.hasAudio&&!S.isMuxed&&a(r,"audio","start",L),S.hasVideo&&a(r,"video","start",L),!T.video||!I.byteLength||!r.transmuxer){w();return}bc({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:r.transmuxer,data:b,timescales:r.map.timescales,trackIds:[T.video.id],callback:function(R){i=R.data.buffer,r.bytes=b=R.data,R.logs.forEach(function(M){y(G.mergeOptions(M,{stream:"mp4CaptionParser"}))}),w(R.captions)}})}});return}if(!r.transmuxer){p(null,r,{});return}if(typeof r.container=="undefined"&&(r.container=Jp(b)),r.container!=="ts"&&r.container!=="aac"){n(r,{hasAudio:!1,hasVideo:!1}),p(null,r,{});return}D2({segment:r,bytes:i,trackInfoFn:n,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:p,onTransmuxerLog:y})},DE=function(t,r){var i=t.id,n=t.key,a=t.encryptedBytes,s=t.decryptionWorker,o=function u(c){if(c.data.source===i){s.removeEventListener("message",u);var f=c.data.decrypted;r(new Uint8Array(f.bytes,f.byteOffset,f.byteLength))}};s.addEventListener("message",o);var l;n.bytes.slice?l=n.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(n.bytes)),s.postMessage(yE({source:i,encrypted:a,key:l,iv:n.iv}),[a.buffer,l.buffer])},R2=function(t){var r=t.decryptionWorker,i=t.segment,n=t.trackInfoFn,a=t.timingInfoFn,s=t.videoSegmentTimingInfoFn,o=t.audioSegmentTimingInfoFn,l=t.id3Fn,u=t.captionsFn,c=t.isEndOfTimeline,f=t.endedTimelineFn,d=t.dataFn,p=t.doneFn,y=t.onTransmuxerLog;DE({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:r},function(b){i.bytes=b,LE({segment:i,bytes:i.bytes,trackInfoFn:n,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:p,onTransmuxerLog:y})})},M2=function(t){var r=t.activeXhrs,i=t.decryptionWorker,n=t.trackInfoFn,a=t.timingInfoFn,s=t.videoSegmentTimingInfoFn,o=t.audioSegmentTimingInfoFn,l=t.id3Fn,u=t.captionsFn,c=t.isEndOfTimeline,f=t.endedTimelineFn,d=t.dataFn,p=t.doneFn,y=t.onTransmuxerLog,b=0,T=!1;return function(S,w){if(!T){if(S)return T=!0,Dh(r),p(S,w);if(b+=1,b===r.length){var D=function(){if(w.encryptedBytes)return R2({decryptionWorker:i,segment:w,trackInfoFn:n,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:p,onTransmuxerLog:y});LE({segment:w,bytes:w.bytes,trackInfoFn:n,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:p,onTransmuxerLog:y})};if(w.endOfAllRequests=Date.now(),w.map&&w.map.encryptedBytes&&!w.map.bytes)return DE({decryptionWorker:i,id:w.requestId+"-init",encryptedBytes:w.map.encryptedBytes,key:w.map.key},function(P){w.map.bytes=P,OE(w,function(I){if(I)return Dh(r),p(I,w);D()})});D()}}}},F2=function(t){var r=t.loadendState,i=t.abortFn;return function(n){var a=n.target;a.aborted&&i&&!r.calledAbortFn&&(i(),r.calledAbortFn=!0)}},N2=function(t){var r=t.segment,i=t.progressFn;return t.trackInfoFn,t.timingInfoFn,t.videoSegmentTimingInfoFn,t.audioSegmentTimingInfoFn,t.id3Fn,t.captionsFn,t.isEndOfTimeline,t.endedTimelineFn,t.dataFn,function(n){var a=n.target;if(!a.aborted)return r.stats=G.mergeOptions(r.stats,I2(n)),!r.stats.firstBytesReceivedAt&&r.stats.bytesReceived&&(r.stats.firstBytesReceivedAt=Date.now()),i(n,r)}},B2=function(t){var r=t.xhr,i=t.xhrOptions,n=t.decryptionWorker,a=t.segment,s=t.abortFn,o=t.progressFn,l=t.trackInfoFn,u=t.timingInfoFn,c=t.videoSegmentTimingInfoFn,f=t.audioSegmentTimingInfoFn,d=t.id3Fn,p=t.captionsFn,y=t.isEndOfTimeline,b=t.endedTimelineFn,T=t.dataFn,S=t.doneFn,w=t.onTransmuxerLog,D=[],P=M2({activeXhrs:D,decryptionWorker:n,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:f,id3Fn:d,captionsFn:p,isEndOfTimeline:y,endedTimelineFn:b,dataFn:T,doneFn:S,onTransmuxerLog:w});if(a.key&&!a.key.bytes){var I=[a.key];a.map&&!a.map.bytes&&a.map.key&&a.map.key.resolvedUri===a.key.resolvedUri&&I.push(a.map.key);var L=G.mergeOptions(i,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),A=Ly(a,I,P),R=r(L,A);D.push(R)}if(a.map&&!a.map.bytes){var M=a.map.key&&(!a.key||a.key.resolvedUri!==a.map.key.resolvedUri);if(M){var N=G.mergeOptions(i,{uri:a.map.key.resolvedUri,responseType:"arraybuffer"}),W=Ly(a,[a.map.key],P),X=r(N,W);D.push(X)}var Y=G.mergeOptions(i,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:Oh(a.map)}),le=O2({segment:a,finishProcessingFn:P}),fe=r(Y,le);D.push(fe)}var ce=G.mergeOptions(i,{uri:a.part&&a.part.resolvedUri||a.resolvedUri,responseType:"arraybuffer",headers:Oh(a)}),ye=L2({segment:a,finishProcessingFn:P,responseType:ce.responseType}),xe=r(ce,ye);xe.addEventListener("progress",N2({segment:a,progressFn:o,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:f,id3Fn:d,captionsFn:p,isEndOfTimeline:y,endedTimelineFn:b,dataFn:T})),D.push(xe);var ee={};return D.forEach(function(se){se.addEventListener("loadend",F2({loadendState:ee,abortFn:s}))}),function(){return Dh(D)}},U2=ur("CodecUtils"),V2=function(t){var r=t.attributes||{};if(r.CODECS)return fr(r.CODECS)},RE=function(t,r){var i=r.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&i.AUDIO&&t.mediaGroups.AUDIO[i.AUDIO]},$2=function(t,r){if(!RE(t,r))return!0;var i=r.attributes||{},n=t.mediaGroups.AUDIO[i.AUDIO];for(var a in n)if(!n[a].uri&&!n[a].playlists)return!0;return!1},Tc=function(t){var r={};return t.forEach(function(i){var n=i.mediaType,a=i.type,s=i.details;r[n]=r[n]||[],r[n].push(rS(""+a+s))}),Object.keys(r).forEach(function(i){if(r[i].length>1){U2("multiple "+i+" codecs found as attributes: "+r[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),r[i]=null;return}r[i]=r[i][0]}),r},Dy=function(t){var r=0;return t.audio&&r++,t.video&&r++,r},ko=function(t,r){var i=r.attributes||{},n=Tc(V2(r)||[]);if(RE(t,r)&&!n.audio&&!$2(t,r)){var a=Tc(fM(t,i.AUDIO)||[]);a.audio&&(n.audio=a.audio)}return n},_u=ur("PlaylistSelector"),Ry=function(t){if(!(!t||!t.playlist)){var r=t.playlist;return JSON.stringify({id:r.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:r.attributes&&r.attributes.CODECS||""})}},Sc=function(t,r){if(!t)return"";var i=U.getComputedStyle(t);return i?i[r]:""},ts=function(t,r){var i=t.slice();t.sort(function(n,a){var s=r(n,a);return s===0?i.indexOf(n)-i.indexOf(a):s})},Bm=function(t,r){var i,n;return t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||U.Number.MAX_VALUE,r.attributes.BANDWIDTH&&(n=r.attributes.BANDWIDTH),n=n||U.Number.MAX_VALUE,i-n},j2=function(t,r){var i,n;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||U.Number.MAX_VALUE,r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width&&(n=r.attributes.RESOLUTION.width),n=n||U.Number.MAX_VALUE,i===n&&t.attributes.BANDWIDTH&&r.attributes.BANDWIDTH?t.attributes.BANDWIDTH-r.attributes.BANDWIDTH:i-n},ME=function(t,r,i,n,a,s){if(!!t){var o={bandwidth:r,width:i,height:n,limitRenditionByPlayerDimensions:a},l=t.playlists;En.isAudioOnly(t)&&(l=s.getAudioTrackPlaylists_(),o.audioOnly=!0);var u=l.map(function(N){var W,X=N.attributes&&N.attributes.RESOLUTION&&N.attributes.RESOLUTION.width,Y=N.attributes&&N.attributes.RESOLUTION&&N.attributes.RESOLUTION.height;return W=N.attributes&&N.attributes.BANDWIDTH,W=W||U.Number.MAX_VALUE,{bandwidth:W,width:X,height:Y,playlist:N}});ts(u,function(N,W){return N.bandwidth-W.bandwidth}),u=u.filter(function(N){return!En.isIncompatible(N.playlist)});var c=u.filter(function(N){return En.isEnabled(N.playlist)});c.length||(c=u.filter(function(N){return!En.isDisabled(N.playlist)}));var f=c.filter(function(N){return N.bandwidth*Vt.BANDWIDTH_VARIANCE<r}),d=f[f.length-1],p=f.filter(function(N){return N.bandwidth===d.bandwidth})[0];if(a===!1){var y=p||c[0]||u[0];if(y&&y.playlist){var b="sortedPlaylistReps";return p&&(b="bandwidthBestRep"),c[0]&&(b="enabledPlaylistReps"),_u("choosing "+Ry(y)+" using "+b+" with options",o),y.playlist}return _u("could not choose a playlist with options",o),null}var T=f.filter(function(N){return N.width&&N.height});ts(T,function(N,W){return N.width-W.width});var S=T.filter(function(N){return N.width===i&&N.height===n});d=S[S.length-1];var w=S.filter(function(N){return N.bandwidth===d.bandwidth})[0],D,P,I;w||(D=T.filter(function(N){return N.width>i||N.height>n}),P=D.filter(function(N){return N.width===D[0].width&&N.height===D[0].height}),d=P[P.length-1],I=P.filter(function(N){return N.bandwidth===d.bandwidth})[0]);var L;if(s.experimentalLeastPixelDiffSelector){var A=T.map(function(N){return N.pixelDiff=Math.abs(N.width-i)+Math.abs(N.height-n),N});ts(A,function(N,W){return N.pixelDiff===W.pixelDiff?W.bandwidth-N.bandwidth:N.pixelDiff-W.pixelDiff}),L=A[0]}var R=L||I||w||p||c[0]||u[0];if(R&&R.playlist){var M="sortedPlaylistReps";return L?M="leastPixelDiffRep":I?M="resolutionPlusOneRep":w?M="resolutionBestRep":p?M="bandwidthBestRep":c[0]&&(M="enabledPlaylistReps"),_u("choosing "+Ry(R)+" using "+M+" with options",o),R.playlist}return _u("could not choose a playlist with options",o),null}},My=function(){var t=this.useDevicePixelRatio&&U.devicePixelRatio||1;return ME(this.playlists.master,this.systemBandwidth,parseInt(Sc(this.tech_.el(),"width"),10)*t,parseInt(Sc(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},H2=function(t){var r=-1,i=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var n=this.useDevicePixelRatio&&U.devicePixelRatio||1;return r<0&&(r=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(r=t*this.systemBandwidth+(1-t)*r,i=this.systemBandwidth),ME(this.playlists.master,r,parseInt(Sc(this.tech_.el(),"width"),10)*n,parseInt(Sc(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},W2=function(t){var r=t.master,i=t.currentTime,n=t.bandwidth,a=t.duration,s=t.segmentDuration,o=t.timeUntilRebuffer,l=t.currentTimeline,u=t.syncController,c=r.playlists.filter(function(b){return!En.isIncompatible(b)}),f=c.filter(En.isEnabled);f.length||(f=c.filter(function(b){return!En.isDisabled(b)}));var d=f.filter(En.hasAttribute.bind(null,"BANDWIDTH")),p=d.map(function(b){var T=u.getSyncPoint(b,a,l,i),S=T?1:2,w=En.estimateSegmentRequestTime(s,n,b),D=w*S-o;return{playlist:b,rebufferingImpact:D}}),y=p.filter(function(b){return b.rebufferingImpact<=0});return ts(y,function(b,T){return Bm(T.playlist,b.playlist)}),y.length?y[0]:(ts(p,function(b,T){return b.rebufferingImpact-T.rebufferingImpact}),p[0]||null)},z2=function(){var t=this,r=this.playlists.master.playlists.filter(En.isEnabled);ts(r,function(n,a){return Bm(n,a)});var i=r.filter(function(n){return!!ko(t.playlists.master,n).video});return i[0]||null},q2=function(t){var r=0,i;return t.bytes&&(i=new Uint8Array(t.bytes),t.segments.forEach(function(n){i.set(n,r),r+=n.byteLength})),i},G2=function(t,r,i){if(!t[i]){r.trigger({type:"usage",name:"vhs-608"}),r.trigger({type:"usage",name:"hls-608"});var n=i;/^cc708_/.test(i)&&(n="SERVICE"+i.split("_")[1]);var a=r.textTracks().getTrackById(n);if(a)t[i]=a;else{var s=r.options_.vhs&&r.options_.vhs.captionServices||{},o=i,l=i,u=!1,c=s[n];c&&(o=c.label,l=c.language,u=c.default),t[i]=r.addRemoteTextTrack({kind:"captions",id:n,default:u,label:o,language:l},!1).track}}},K2=function(t){var r=t.inbandTextTracks,i=t.captionArray,n=t.timestampOffset;if(!!i){var a=U.WebKitDataCue||U.VTTCue;i.forEach(function(s){var o=s.stream;r[o].addCue(new a(s.startTime+n,s.endTime+n,s.text))})}},X2=function(t){Object.defineProperties(t.frame,{id:{get:function(){return G.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return G.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return G.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},Y2=function(t){var r=t.inbandTextTracks,i=t.metadataArray,n=t.timestampOffset,a=t.videoDuration;if(!!i){var s=U.WebKitDataCue||U.VTTCue,o=r.metadataTrack_;if(!!o&&(i.forEach(function(p){var y=p.cueTime+n;typeof y!="number"||U.isNaN(y)||y<0||!(y<1/0)||p.frames.forEach(function(b){var T=new s(y,y,b.value||b.url||b.data||"");T.frame=b,T.value=b,X2(T),o.addCue(T)})}),!(!o.cues||!o.cues.length))){for(var l=o.cues,u=[],c=0;c<l.length;c++)l[c]&&u.push(l[c]);var f=u.reduce(function(p,y){var b=p[y.startTime]||[];return b.push(y),p[y.startTime]=b,p},{}),d=Object.keys(f).sort(function(p,y){return Number(p)-Number(y)});d.forEach(function(p,y){var b=f[p],T=Number(d[y+1])||a;b.forEach(function(S){S.endTime=T})})}}},Q2=function(t,r,i){t.metadataTrack_||(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=r)},uo=function(t,r,i){var n,a;if(!!i&&!!i.cues)for(n=i.cues.length;n--;)a=i.cues[n],a.startTime>=t&&a.endTime<=r&&i.removeCue(a)},J2=function(t){var r=t.cues;if(!!r)for(var i=0;i<r.length;i++){for(var n=[],a=0,s=0;s<r.length;s++)r[i].startTime===r[s].startTime&&r[i].endTime===r[s].endTime&&r[i].text===r[s].text&&(a++,a>1&&n.push(r[s]));n.length&&n.forEach(function(o){return t.removeCue(o)})}},Z2=function(t,r,i){if(typeof r=="undefined"||r===null||!t.length)return[];var n=Math.ceil((r-i+3)*oc.ONE_SECOND_IN_TS),a;for(a=0;a<t.length&&!(t[a].pts>n);a++);return t.slice(a)},eU=function(t,r,i){if(!r.length)return t;if(i)return r.slice();var n=r[0].pts,a=0;for(a;a<t.length&&!(t[a].pts>=n);a++);return t.slice(0,a).concat(r)},tU=function(t,r,i,n){for(var a=Math.ceil((r-n)*oc.ONE_SECOND_IN_TS),s=Math.ceil((i-n)*oc.ONE_SECOND_IN_TS),o=t.slice(),l=t.length;l--&&!(t[l].pts<=s););if(l===-1)return o;for(var u=l+1;u--&&!(t[u].pts<=a););return u=Math.max(u,0),o.splice(u,l-u+1),o},nU=function(t,r){if(!t&&!r||!t&&r||t&&!r)return!1;if(t===r)return!0;var i=Object.keys(t).sort(),n=Object.keys(r).sort();if(i.length!==n.length)return!1;for(var a=0;a<i.length;a++){var s=i[a];if(s!==n[a]||t[s]!==r[s])return!1}return!0},FE=22,rU=function(t,r,i){r=r||[];for(var n=[],a=0,s=0;s<r.length;s++){var o=r[s];if(t===o.timeline&&(n.push(s),a+=o.duration,a>i))return s}return n.length===0?0:n[n.length-1]},eo=1,iU=500,Fy=function(t){return typeof t=="number"&&isFinite(t)},bu=1/60,aU=function(t,r,i){return t!=="main"||!r||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":r.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!r.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},sU=function(t,r,i){var n=r-Vt.BACK_BUFFER_LENGTH;t.length&&(n=Math.max(n,t.start(0)));var a=r-i;return Math.min(a,n)},Fa=function(t){var r=t.startOfSegment,i=t.duration,n=t.segment,a=t.part,s=t.playlist,o=s.mediaSequence,l=s.id,u=s.segments,c=u===void 0?[]:u,f=t.mediaIndex,d=t.partIndex,p=t.timeline,y=c.length-1,b="mediaIndex/partIndex increment";t.getMediaInfoForTime?b="getMediaInfoForTime ("+t.getMediaInfoForTime+")":t.isSyncRequest&&(b="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(b+=" with independent "+t.independent);var T=typeof d=="number",S=t.segment.uri?"segment":"pre-segment",w=T?iE({preloadSegment:n})-1:0;return S+" ["+(o+f)+"/"+(o+y)+"]"+(T?" part ["+d+"/"+w+"]":"")+(" segment start/end ["+n.start+" => "+n.end+"]")+(T?" part start/end ["+a.start+" => "+a.end+"]":"")+(" startOfSegment ["+r+"]")+(" duration ["+i+"]")+(" timeline ["+p+"]")+(" selected by ["+b+"]")+(" playlist ["+l+"]")},Ny=function(t){return t+"TimingInfo"},oU=function(t){var r=t.segmentTimeline,i=t.currentTimeline,n=t.startOfSegment,a=t.buffered,s=t.overrideCheck;return!s&&r===i?null:r<i?n:a.length?a.end(a.length-1):n},By=function(t){var r=t.timelineChangeController,i=t.currentTimeline,n=t.segmentTimeline,a=t.loaderType,s=t.audioDisabled;if(i===n)return!1;if(a==="audio"){var o=r.lastTimelineChange({type:"main"});return!o||o.to!==n}if(a==="main"&&s){var l=r.pendingTimelineChange({type:"audio"});return!(l&&l.to===n)}return!1},lU=function(t){var r=0;return["video","audio"].forEach(function(i){var n=t[i+"TimingInfo"];if(!!n){var a=n.start,s=n.end,o;typeof a=="bigint"||typeof s=="bigint"?o=U.BigInt(s)-U.BigInt(a):typeof a=="number"&&typeof s=="number"&&(o=s-a),typeof o!="undefined"&&o>r&&(r=o)}}),typeof r=="bigint"&&r<Number.MAX_SAFE_INTEGER&&(r=Number(r)),r},Uy=function(t){var r=t.segmentDuration,i=t.maxDuration;return r?Math.round(r)>i+xi:!1},uU=function(t,r){if(r!=="hls")return null;var i=lU({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!i)return null;var n=t.playlist.targetDuration,a=Uy({segmentDuration:i,maxDuration:n*2}),s=Uy({segmentDuration:i,maxDuration:n}),o="Segment with index "+t.mediaIndex+" "+("from playlist "+t.playlist.id+" ")+("has a duration of "+i+" ")+("when the reported duration is "+t.duration+" ")+("and the target duration is "+n+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||s?{severity:a?"warn":"info",message:o}:null},Rh=function(e){Se(t,e);function t(i,n){var a;if(a=e.call(this)||this,!i)throw new TypeError("Initialization settings are required");if(typeof i.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!i.mediaSource)throw new TypeError("No MediaSource specified");return a.bandwidth=i.bandwidth,a.throughput={rate:0,count:0},a.roundTrip=NaN,a.resetStats_(),a.mediaIndex=null,a.partIndex=null,a.hasPlayed_=i.hasPlayed,a.currentTime_=i.currentTime,a.seekable_=i.seekable,a.seeking_=i.seeking,a.duration_=i.duration,a.mediaSource_=i.mediaSource,a.vhs_=i.vhs,a.loaderType_=i.loaderType,a.currentMediaInfo_=void 0,a.startingMediaInfo_=void 0,a.segmentMetadataTrack_=i.segmentMetadataTrack,a.goalBufferLength_=i.goalBufferLength,a.sourceType_=i.sourceType,a.sourceUpdater_=i.sourceUpdater,a.inbandTextTracks_=i.inbandTextTracks,a.state_="INIT",a.timelineChangeController_=i.timelineChangeController,a.shouldSaveSegmentTimingInfo_=!0,a.parse708captions_=i.parse708captions,a.useDtsForTimestampOffset_=i.useDtsForTimestampOffset,a.captionServices_=i.captionServices,a.experimentalExactManifestTimings=i.experimentalExactManifestTimings,a.checkBufferTimeout_=null,a.error_=void 0,a.currentTimeline_=-1,a.pendingSegment_=null,a.xhrOptions_=null,a.pendingSegments_=[],a.audioDisabled_=!1,a.isPendingTimestampOffset_=!1,a.gopBuffer_=[],a.timeMapping_=0,a.safeAppend_=G.browser.IE_VERSION>=11,a.appendInitSegment_={audio:!0,video:!0},a.playlistOfLastInitSegment_={audio:null,video:null},a.callQueue_=[],a.loadQueue_=[],a.metadataQueue_={id3:[],caption:[]},a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=null,a.activeInitSegmentId_=null,a.initSegments_={},a.cacheEncryptionKeys_=i.cacheEncryptionKeys,a.keyCache_={},a.decrypter_=i.decrypter,a.syncController_=i.syncController,a.syncPoint_={segmentIndex:0,time:0},a.transmuxer_=a.createTransmuxer_(),a.triggerSyncInfoUpdate_=function(){return a.trigger("syncinfoupdate")},a.syncController_.on("syncinfoupdate",a.triggerSyncInfoUpdate_),a.mediaSource_.addEventListener("sourceopen",function(){a.isEndOfStream_()||(a.ended_=!1)}),a.fetchAtBuffer_=!1,a.logger_=ur("SegmentLoader["+a.loaderType_+"]"),Object.defineProperty(je(a),"state",{get:function(){return this.state_},set:function(o){o!==this.state_&&(this.logger_(this.state_+" -> "+o),this.state_=o,this.trigger("statechange"))}}),a.sourceUpdater_.on("ready",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="main"&&a.timelineChangeController_.on("pendingtimelinechange",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="audio"&&a.timelineChangeController_.on("timelinechange",function(){a.hasEnoughInfoToLoad_()&&a.processLoadQueue_(),a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a}var r=t.prototype;return r.createTransmuxer_=function(){return gf.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},r.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},r.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&U.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},r.setAudio=function(n){this.audioDisabled_=!n,n?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},r.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},r.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,U.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},r.checkForAbort_=function(n){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==n},r.error=function(n){return typeof n!="undefined"&&(this.logger_("error occurred:",n),this.error_=n),this.pendingSegment_=null,this.error_},r.endOfStream=function(){this.ended_=!0,this.transmuxer_&&gf.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},r.buffered_=function(){var n=this.getMediaInfo_();if(!this.sourceUpdater_||!n)return G.createTimeRanges();if(this.loaderType_==="main"){var a=n.hasAudio,s=n.hasVideo,o=n.isMuxed;if(s&&a&&!this.audioDisabled_&&!o)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},r.initSegmentForMap=function(n,a){if(a===void 0&&(a=!1),!n)return null;var s=_c(n),o=this.initSegments_[s];return a&&!o&&n.bytes&&(this.initSegments_[s]=o={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:n.bytes,tracks:n.tracks,timescales:n.timescales}),o||n},r.segmentKey=function(n,a){if(a===void 0&&(a=!1),!n)return null;var s=_E(n),o=this.keyCache_[s];this.cacheEncryptionKeys_&&a&&!o&&n.bytes&&(this.keyCache_[s]=o={resolvedUri:n.resolvedUri,bytes:n.bytes});var l={resolvedUri:(o||n).resolvedUri};return o&&(l.bytes=o.bytes),l},r.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},r.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.playlist=function(n,a){if(a===void 0&&(a={}),!!n){var s=this.playlist_,o=this.pendingSegment_;this.playlist_=n,this.xhrOptions_=a,this.state==="INIT"&&(n.syncInfo={mediaSequence:n.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(n));var l=null;if(s&&(s.id?l=s.id:s.uri&&(l=s.uri)),this.logger_("playlist update ["+l+" => "+(n.id||n.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==n.uri){this.mediaIndex!==null&&(n.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var u=n.mediaSequence-s.mediaSequence;if(this.logger_("live window shift ["+u+"]"),this.mediaIndex!==null)if(this.mediaIndex-=u,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var c=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!c.parts||!c.parts.length||!c.parts[this.partIndex])){var f=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=f}}o&&(o.mediaIndex-=u,o.mediaIndex<0?(o.mediaIndex=null,o.partIndex=null):(o.mediaIndex>=0&&(o.segment=n.segments[o.mediaIndex]),o.partIndex>=0&&o.segment.parts&&(o.part=o.segment.parts[o.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,n)}},r.pause=function(){this.checkBufferTimeout_&&(U.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},r.paused=function(){return this.checkBufferTimeout_===null},r.resetEverything=function(n){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,n),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},r.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},r.resyncLoader=function(){this.transmuxer_&&gf.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},r.remove=function(n,a,s,o){if(s===void 0&&(s=function(){}),o===void 0&&(o=!1),a===1/0&&(a=this.duration_()),a<=n){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var l=1,u=function(){l--,l===0&&s()};(o||!this.audioDisabled_)&&(l++,this.sourceUpdater_.removeAudio(n,a,u)),(o||this.loaderType_==="main")&&(this.gopBuffer_=tU(this.gopBuffer_,n,a,this.timeMapping_),l++,this.sourceUpdater_.removeVideo(n,a,u));for(var c in this.inbandTextTracks_)uo(n,a,this.inbandTextTracks_[c]);uo(n,a,this.segmentMetadataTrack_),u()},r.monitorBuffer_=function(){this.checkBufferTimeout_&&U.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=U.setTimeout(this.monitorBufferTick_.bind(this),1)},r.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&U.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=U.setTimeout(this.monitorBufferTick_.bind(this),iU)},r.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var n=this.chooseNextRequest_();!n||(typeof n.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline})),this.loadSegment_(n))}},r.isEndOfStream_=function(n,a,s){if(n===void 0&&(n=this.mediaIndex),a===void 0&&(a=this.playlist_),s===void 0&&(s=this.partIndex),!a||!this.mediaSource_)return!1;var o=typeof n=="number"&&a.segments[n],l=n+1===a.segments.length,u=!o||!o.parts||s+1===o.parts.length;return a.endList&&this.mediaSource_.readyState==="open"&&l&&u},r.chooseNextRequest_=function(){var n=this.buffered_(),a=wy(n)||0,s=Lm(n,this.currentTime_()),o=!this.hasPlayed_()&&s>=1,l=s>=this.goalBufferLength_(),u=this.playlist_.segments;if(!u.length||o||l)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var c={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(c.isSyncRequest)c.mediaIndex=rU(this.currentTimeline_,u,a);else if(this.mediaIndex!==null){var f=u[this.mediaIndex],d=typeof this.partIndex=="number"?this.partIndex:-1;c.startOfSegment=f.end?f.end:a,f.parts&&f.parts[d+1]?(c.mediaIndex=this.mediaIndex,c.partIndex=d+1):c.mediaIndex=this.mediaIndex+1}else{var p=En.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?a:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),y=p.segmentIndex,b=p.startTime,T=p.partIndex;c.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+a:"currentTime "+this.currentTime_(),c.mediaIndex=y,c.startOfSegment=b,c.partIndex=T}var S=u[c.mediaIndex],w=S&&typeof c.partIndex=="number"&&S.parts&&S.parts[c.partIndex];if(!S||typeof c.partIndex=="number"&&!w)return null;if(typeof c.partIndex!="number"&&S.parts&&(c.partIndex=0,w=S.parts[0]),!s&&w&&!w.independent)if(c.partIndex===0){var D=u[c.mediaIndex-1],P=D.parts&&D.parts.length&&D.parts[D.parts.length-1];P&&P.independent&&(c.mediaIndex-=1,c.partIndex=D.parts.length-1,c.independent="previous segment")}else S.parts[c.partIndex-1].independent&&(c.partIndex-=1,c.independent="previous part");var I=this.mediaSource_&&this.mediaSource_.readyState==="ended";return c.mediaIndex>=u.length-1&&I&&!this.seeking_()?null:this.generateSegmentInfo_(c)},r.generateSegmentInfo_=function(n){var a=n.independent,s=n.playlist,o=n.mediaIndex,l=n.startOfSegment,u=n.isSyncRequest,c=n.partIndex,f=n.forceTimestampOffset,d=n.getMediaInfoForTime,p=s.segments[o],y=typeof c=="number"&&p.parts[c],b={requestId:"segment-loader-"+Math.random(),uri:y&&y.resolvedUri||p.resolvedUri,mediaIndex:o,partIndex:y?c:null,isSyncRequest:u,startOfSegment:l,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:p.timeline,duration:y&&y.duration||p.duration,segment:p,part:y,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:d,independent:a},T=typeof f!="undefined"?f:this.isPendingTimestampOffset_;b.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:p.timeline,currentTimeline:this.currentTimeline_,startOfSegment:l,buffered:this.buffered_(),overrideCheck:T});var S=wy(this.sourceUpdater_.audioBuffered());return typeof S=="number"&&(b.audioAppendStart=S-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(b.gopsToAlignWith=Z2(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),b},r.timestampOffsetForSegment_=function(n){return oU(n)},r.earlyAbortWhenNeeded_=function(n){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(n.firstBytesReceivedAt||Date.now())<1e3)){var a=this.currentTime_(),s=n.bandwidth,o=this.pendingSegment_.duration,l=En.estimateSegmentRequestTime(o,s,this.playlist_,n.bytesReceived),u=DB(this.buffered_(),a,this.vhs_.tech_.playbackRate())-1;if(!(l<=u)){var c=W2({master:this.vhs_.playlists.master,currentTime:a,bandwidth:s,duration:this.duration_(),segmentDuration:o,timeUntilRebuffer:u,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!c){var f=l-u,d=f-c.rebufferingImpact,p=.5;u<=xi&&(p=1),!(!c.playlist||c.playlist.uri===this.playlist_.uri||d<p)&&(this.bandwidth=c.playlist.attributes.BANDWIDTH*Vt.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},r.handleAbort_=function(n){this.logger_("Aborting "+Fa(n)),this.mediaRequestsAborted+=1},r.handleProgress_=function(n,a){this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)&&this.trigger("progress")},r.handleTrackInfo_=function(n,a){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&(this.checkForIllegalMediaSwitch(a)||(a=a||{},nU(this.currentMediaInfo_,a)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=a,this.currentMediaInfo_=a,this.logger_("trackinfo update",a),this.trigger("trackinfo")),!this.checkForAbort_(n.requestId)&&(this.pendingSegment_.trackInfo=a,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},r.handleTimingInfo_=function(n,a,s,o){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){var l=this.pendingSegment_,u=Ny(a);l[u]=l[u]||{},l[u][s]=o,this.logger_("timinginfo: "+a+" - "+s+" - "+o),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},r.handleCaptions_=function(n,a){var s=this;if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(a.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,n,a));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),u={};a.forEach(function(c){u[c.stream]=u[c.stream]||{startTime:1/0,captions:[],endTime:0};var f=u[c.stream];f.startTime=Math.min(f.startTime,c.startTime+l),f.endTime=Math.max(f.endTime,c.endTime+l),f.captions.push(c)}),Object.keys(u).forEach(function(c){var f=u[c],d=f.startTime,p=f.endTime,y=f.captions,b=s.inbandTextTracks_;s.logger_("adding cues from "+d+" -> "+p+" for "+c),G2(b,s.vhs_.tech_,c),uo(d,p,b[c]),K2({captionArray:y,inbandTextTracks:b,timestampOffset:l})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},r.handleId3_=function(n,a,s){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,n,a,s));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();Q2(this.inbandTextTracks_,s,this.vhs_.tech_),Y2({inbandTextTracks:this.inbandTextTracks_,metadataArray:a,timestampOffset:l,videoDuration:this.duration_()})}},r.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(n){return n()}),this.metadataQueue_.caption.forEach(function(n){return n()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},r.processCallQueue_=function(){var n=this.callQueue_;this.callQueue_=[],n.forEach(function(a){return a()})},r.processLoadQueue_=function(){var n=this.loadQueue_;this.loadQueue_=[],n.forEach(function(a){return a()})},r.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var n=this.pendingSegment_;return n?this.getCurrentMediaInfo_()?!By({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},r.getCurrentMediaInfo_=function(n){return n===void 0&&(n=this.pendingSegment_),n&&n.trackInfo||this.currentMediaInfo_},r.getMediaInfo_=function(n){return n===void 0&&(n=this.pendingSegment_),this.getCurrentMediaInfo_(n)||this.startingMediaInfo_},r.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var n=this.pendingSegment_,a=this.getCurrentMediaInfo_();if(!n||!a)return!1;var s=a.hasAudio,o=a.hasVideo,l=a.isMuxed;return!(o&&!n.videoTimingInfo||s&&!this.audioDisabled_&&!l&&!n.audioTimingInfo||By({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},r.handleData_=function(n,a){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,n,a));return}var s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(n.map&&(n.map=this.initSegmentForMap(n.map,!0),s.segment.map=n.map),n.key&&this.segmentKey(n.key,!0),s.isFmp4=n.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[Ny(a.type)].start;else{var o=this.getCurrentMediaInfo_(),l=this.loaderType_==="main"&&o&&o.hasVideo,u;l&&(u=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:l,firstVideoFrameTimeForData:u,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,a.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});var c=this.chooseNextRequest_();if(c.mediaIndex!==s.mediaIndex||c.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,a)}}},r.updateAppendInitSegmentStatus=function(n,a){this.loaderType_==="main"&&typeof n.timestampOffset=="number"&&!n.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[a]!==n.playlist&&(this.appendInitSegment_[a]=!0)},r.getInitSegmentAndUpdateState_=function(n){var a=n.type,s=n.initSegment,o=n.map,l=n.playlist;if(o){var u=_c(o);if(this.activeInitSegmentId_===u)return null;s=this.initSegmentForMap(o,!0).bytes,this.activeInitSegmentId_=u}return s&&this.appendInitSegment_[a]?(this.playlistOfLastInitSegment_[a]=l,this.appendInitSegment_[a]=!1,this.activeInitSegmentId_=null,s):null},r.handleQuotaExceededError_=function(n,a){var s=this,o=n.segmentInfo,l=n.type,u=n.bytes,c=this.sourceUpdater_.audioBuffered(),f=this.sourceUpdater_.videoBuffered();c.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Gi(c).join(", ")),f.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Gi(f).join(", "));var d=c.length?c.start(0):0,p=c.length?c.end(c.length-1):0,y=f.length?f.start(0):0,b=f.length?f.end(f.length-1):0;if(p-d<=eo&&b-y<=eo){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+u.byteLength+", ")+("audio buffer: "+Gi(c).join(", ")+", ")+("video buffer: "+Gi(f).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:o,type:l,bytes:u}));var T=this.currentTime_(),S=T-eo;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+S),this.remove(0,S,function(){s.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+eo+"s"),s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=U.setTimeout(function(){s.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),s.quotaExceededErrorRetryTimeout_=null,s.processCallQueue_()},eo*1e3)},!0)},r.handleAppendError_=function(n,a){var s=n.segmentInfo,o=n.type,l=n.bytes;if(!!a){if(a.code===FE){this.handleQuotaExceededError_({segmentInfo:s,type:o,bytes:l});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",a),this.error(o+" append of "+l.length+"b failed for segment "+("#"+s.mediaIndex+" in playlist "+s.playlist.id)),this.trigger("appenderror")}},r.appendToSourceBuffer_=function(n){var a=n.segmentInfo,s=n.type,o=n.initSegment,l=n.data,u=n.bytes;if(!u){var c=[l],f=l.byteLength;o&&(c.unshift(o),f+=o.byteLength),u=q2({bytes:f,segments:c})}this.sourceUpdater_.appendBuffer({segmentInfo:a,type:s,bytes:u},this.handleAppendError_.bind(this,{segmentInfo:a,type:s,bytes:u}))},r.handleSegmentTimingInfo_=function(n,a,s){if(!(!this.pendingSegment_||a!==this.pendingSegment_.requestId)){var o=this.pendingSegment_.segment,l=n+"TimingInfo";o[l]||(o[l]={}),o[l].transmuxerPrependedSeconds=s.prependedContentDuration||0,o[l].transmuxedPresentationStart=s.start.presentation,o[l].transmuxedDecodeStart=s.start.decode,o[l].transmuxedPresentationEnd=s.end.presentation,o[l].transmuxedDecodeEnd=s.end.decode,o[l].baseMediaDecodeTime=s.baseMediaDecodeTime}},r.appendData_=function(n,a){var s=a.type,o=a.data;if(!(!o||!o.byteLength)&&!(s==="audio"&&this.audioDisabled_)){var l=this.getInitSegmentAndUpdateState_({type:s,initSegment:a.initSegment,playlist:n.playlist,map:n.isFmp4?n.segment.map:null});this.appendToSourceBuffer_({segmentInfo:n,type:s,initSegment:l,data:o})}},r.loadSegment_=function(n){var a=this;if(this.state="WAITING",this.pendingSegment_=n,this.trimBackBuffer_(n),typeof n.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var s=qn({},n,{forceTimestampOffset:!0});qn(n,a.generateSegmentInfo_(s)),a.isPendingTimestampOffset_=!1,a.updateTransmuxerAndRequestSegment_(n)});return}this.updateTransmuxerAndRequestSegment_(n)},r.updateTransmuxerAndRequestSegment_=function(n){var a=this;this.shouldUpdateTransmuxerTimestampOffset_(n.timestampOffset)&&(this.gopBuffer_.length=0,n.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:n.timestampOffset}));var s=this.createSimplifiedSegmentObj_(n),o=this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex),l=this.mediaIndex!==null,u=n.timeline!==this.currentTimeline_&&n.timeline>0,c=o||l&&u;this.logger_("Requesting "+Fa(n)),s.map&&!s.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),n.abortRequests=B2({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:s,abortFn:this.handleAbort_.bind(this,n),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",n.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",n.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:c,endedTimelineFn:function(){a.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(d){var p=d.message,y=d.level,b=d.stream;a.logger_(Fa(n)+" logged from transmuxer stream "+b+" as a "+y+": "+p)}})},r.trimBackBuffer_=function(n){var a=sU(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);a>0&&this.remove(0,a)},r.createSimplifiedSegmentObj_=function(n){var a=n.segment,s=n.part,o={resolvedUri:s?s.resolvedUri:a.resolvedUri,byterange:s?s.byterange:a.byterange,requestId:n.requestId,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,part:n.part},l=n.playlist.segments[n.mediaIndex-1];if(l&&l.timeline===a.timeline&&(l.videoTimingInfo?o.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(o.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),a.key){var u=a.key.iv||new Uint32Array([0,0,0,n.mediaIndex+n.playlist.mediaSequence]);o.key=this.segmentKey(a.key),o.key.iv=u}return a.map&&(o.map=this.initSegmentForMap(a.map)),o},r.saveTransferStats_=function(n){this.mediaRequests+=1,n&&(this.mediaBytesTransferred+=n.bytesReceived,this.mediaTransferDuration+=n.roundTripTime)},r.saveBandwidthRelatedStats_=function(n,a){if(this.pendingSegment_.byteLength=a.bytesReceived,n<bu){this.logger_("Ignoring segment's bandwidth because its duration of "+n+(" is less than the min to record "+bu));return}this.bandwidth=a.bandwidth,this.roundTrip=a.roundTripTime},r.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},r.segmentRequestFinished_=function(n,a,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,n,a,s));return}if(this.saveTransferStats_(a.stats),!!this.pendingSegment_&&a.requestId===this.pendingSegment_.requestId){if(n){if(this.pendingSegment_=null,this.state="READY",n.code===gr.ABORTED)return;if(this.pause(),n.code===gr.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(n),this.trigger("error");return}var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,a.stats),o.endOfAllRequests=a.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=eU(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(o)}},r.setTimeMapping_=function(n){var a=this.syncController_.mappingForTimeline(n);a!==null&&(this.timeMapping_=a)},r.updateMediaSecondsLoaded_=function(n){typeof n.start=="number"&&typeof n.end=="number"?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration},r.shouldUpdateTransmuxerTimestampOffset_=function(n){return n===null?!1:this.loaderType_==="main"&&n!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&n!==this.sourceUpdater_.audioTimestampOffset()},r.trueSegmentStart_=function(n){var a=n.currentStart,s=n.playlist,o=n.mediaIndex,l=n.firstVideoFrameTimeForData,u=n.currentVideoTimestampOffset,c=n.useVideoTimingInfo,f=n.videoTimingInfo,d=n.audioTimingInfo;if(typeof a!="undefined")return a;if(!c)return d.start;var p=s.segments[o-1];return o===0||!p||typeof p.start=="undefined"||p.end!==l+u?l:f.start},r.waitForAppendsToComplete_=function(n){var a=this.getCurrentMediaInfo_(n);if(!a){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var s=a.hasAudio,o=a.hasVideo,l=a.isMuxed,u=this.loaderType_==="main"&&o,c=!this.audioDisabled_&&s&&!l;if(n.waitingOnAppends=0,!n.hasAppendedData_){!n.timingInfo&&typeof n.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),n.timingInfo={start:0},n.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(n),this.processMetadataQueue_()),this.checkAppendsDone_(n);return}u&&n.waitingOnAppends++,c&&n.waitingOnAppends++,u&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,n)),c&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,n))},r.checkAppendsDone_=function(n){this.checkForAbort_(n.requestId)||(n.waitingOnAppends--,n.waitingOnAppends===0&&this.handleAppendsDone_())},r.checkForIllegalMediaSwitch=function(n){var a=aU(this.loaderType_,this.getCurrentMediaInfo_(),n);return a?(this.error({message:a,blacklistDuration:1/0}),this.trigger("error"),!0):!1},r.updateSourceBufferTimestampOffset_=function(n){if(!(n.timestampOffset===null||typeof n.timingInfo.start!="number"||n.changedTimestampOffset||this.loaderType_!=="main")){var a=!1;n.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:n.segment.videoTimingInfo,audioTimingInfo:n.segment.audioTimingInfo,timingInfo:n.timingInfo}),n.changedTimestampOffset=!0,n.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(n.timestampOffset),a=!0),n.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(n.timestampOffset),a=!0),a&&this.trigger("timestampoffset")}},r.getSegmentStartTimeForTimestampOffsetCalculation_=function(n){var a=n.videoTimingInfo,s=n.audioTimingInfo,o=n.timingInfo;return this.useDtsForTimestampOffset_?a&&typeof a.transmuxedDecodeStart=="number"?a.transmuxedDecodeStart:s&&typeof s.transmuxedDecodeStart=="number"?s.transmuxedDecodeStart:o.start:o.start},r.updateTimingInfoEnd_=function(n){n.timingInfo=n.timingInfo||{};var a=this.getMediaInfo_(),s=this.loaderType_==="main"&&a&&a.hasVideo,o=s&&n.videoTimingInfo?n.videoTimingInfo:n.audioTimingInfo;!o||(n.timingInfo.end=typeof o.end=="number"?o.end:o.start+n.duration)},r.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var n=this.pendingSegment_;this.updateTimingInfoEnd_(n),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});var a=uU(n,this.sourceType_);if(a&&(a.severity==="warn"?G.log.warn(a.message):this.logger_(a.message)),this.recordThroughput_(n),this.pendingSegment_=null,this.state="READY",n.isSyncRequest&&(this.trigger("syncinfoupdate"),!n.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+Fa(n));return}this.logger_("Appended "+Fa(n)),this.addSegmentMetadataCue_(n),this.fetchAtBuffer_=!0,this.currentTimeline_!==n.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:n.timeline})),this.currentTimeline_=n.timeline,this.trigger("syncinfoupdate");var s=n.segment,o=n.part,l=s.end&&this.currentTime_()-s.end>n.playlist.targetDuration*3,u=o&&o.end&&this.currentTime_()-o.end>n.playlist.partTargetDuration*3;if(l||u){this.logger_("bad "+(l?"segment":"part")+" "+Fa(n)),this.resetEverything();return}var c=this.mediaIndex!==null;c&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=n.mediaIndex,this.partIndex=n.partIndex,this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex)&&this.endOfStream(),this.trigger("appended"),n.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},r.recordThroughput_=function(n){if(n.duration<bu){this.logger_("Ignoring segment's throughput because its duration of "+n.duration+(" is less than the min to record "+bu));return}var a=this.throughput.rate,s=Date.now()-n.endOfAllRequests+1,o=Math.floor(n.byteLength/s*8*1e3);this.throughput.rate+=(o-a)/++this.throughput.count},r.addSegmentMetadataCue_=function(n){if(!!this.segmentMetadataTrack_){var a=n.segment,s=a.start,o=a.end;if(!(!Fy(s)||!Fy(o))){uo(s,o,this.segmentMetadataTrack_);var l=U.WebKitDataCue||U.VTTCue,u={custom:a.custom,dateTimeObject:a.dateTimeObject,dateTimeString:a.dateTimeString,bandwidth:n.playlist.attributes.BANDWIDTH,resolution:n.playlist.attributes.RESOLUTION,codecs:n.playlist.attributes.CODECS,byteLength:n.byteLength,uri:n.uri,timeline:n.timeline,playlist:n.playlist.id,start:s,end:o},c=JSON.stringify(u),f=new l(s,o,c);f.value=u,this.segmentMetadataTrack_.addCue(f)}}},t}(G.EventTarget);function Nr(){}var NE=function(t){return typeof t!="string"?t:t.replace(/./,function(r){return r.toUpperCase()})},cU=["video","audio"],Mh=function(t,r){var i=r[t+"Buffer"];return i&&i.updating||r.queuePending[t]},dU=function(t,r){for(var i=0;i<r.length;i++){var n=r[i];if(n.type==="mediaSource")return null;if(n.type===t)return i}return null},Um=function e(t,r){if(r.queue.length!==0){var i=0,n=r.queue[i];if(n.type==="mediaSource"){!r.updating()&&r.mediaSource.readyState!=="closed"&&(r.queue.shift(),n.action(r),n.doneFn&&n.doneFn(),e("audio",r),e("video",r));return}if(t!=="mediaSource"&&!(!r.ready()||r.mediaSource.readyState==="closed"||Mh(t,r))){if(n.type!==t){if(i=dU(t,r.queue),i===null)return;n=r.queue[i]}if(r.queue.splice(i,1),r.queuePending[t]=n,n.action(t,r),!n.doneFn){r.queuePending[t]=null,e(t,r);return}}}},BE=function(t,r){var i=r[t+"Buffer"],n=NE(t);!i||(i.removeEventListener("updateend",r["on"+n+"UpdateEnd_"]),i.removeEventListener("error",r["on"+n+"Error_"]),r.codecs[t]=null,r[t+"Buffer"]=null)},pr=function(t,r){return t&&r&&Array.prototype.indexOf.call(t.sourceBuffers,r)!==-1},Pn={appendBuffer:function(t,r,i){return function(n,a){var s=a[n+"Buffer"];if(!!pr(a.mediaSource,s)){a.logger_("Appending segment "+r.mediaIndex+"'s "+t.length+" bytes to "+n+"Buffer");try{s.appendBuffer(t)}catch(o){a.logger_("Error with code "+o.code+" "+(o.code===FE?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+r.mediaIndex+" to "+n+"Buffer")),a.queuePending[n]=null,i(o)}}}},remove:function(t,r){return function(i,n){var a=n[i+"Buffer"];if(!!pr(n.mediaSource,a)){n.logger_("Removing "+t+" to "+r+" from "+i+"Buffer");try{a.remove(t,r)}catch{n.logger_("Remove "+t+" to "+r+" from "+i+"Buffer failed")}}}},timestampOffset:function(t){return function(r,i){var n=i[r+"Buffer"];!pr(i.mediaSource,n)||(i.logger_("Setting "+r+"timestampOffset to "+t),n.timestampOffset=t)}},callback:function(t){return function(r,i){t()}},endOfStream:function(t){return function(r){if(r.mediaSource.readyState==="open"){r.logger_("Calling mediaSource endOfStream("+(t||"")+")");try{r.mediaSource.endOfStream(t)}catch(i){G.log.warn("Failed to call media source endOfStream",i)}}}},duration:function(t){return function(r){r.logger_("Setting mediaSource duration to "+t);try{r.mediaSource.duration=t}catch(i){G.log.warn("Failed to set media source duration",i)}}},abort:function(){return function(t,r){if(r.mediaSource.readyState==="open"){var i=r[t+"Buffer"];if(!!pr(r.mediaSource,i)){r.logger_("calling abort on "+t+"Buffer");try{i.abort()}catch(n){G.log.warn("Failed to abort on "+t+"Buffer",n)}}}}},addSourceBuffer:function(t,r){return function(i){var n=NE(t),a=qo(r);i.logger_("Adding "+t+"Buffer with codec "+r+" to mediaSource");var s=i.mediaSource.addSourceBuffer(a);s.addEventListener("updateend",i["on"+n+"UpdateEnd_"]),s.addEventListener("error",i["on"+n+"Error_"]),i.codecs[t]=r,i[t+"Buffer"]=s}},removeSourceBuffer:function(t){return function(r){var i=r[t+"Buffer"];if(BE(t,r),!!pr(r.mediaSource,i)){r.logger_("Removing "+t+"Buffer with codec "+r.codecs[t]+" from mediaSource");try{r.mediaSource.removeSourceBuffer(i)}catch(n){G.log.warn("Failed to removeSourceBuffer "+t+"Buffer",n)}}}},changeType:function(t){return function(r,i){var n=i[r+"Buffer"],a=qo(t);!pr(i.mediaSource,n)||i.codecs[r]!==t&&(i.logger_("changing "+r+"Buffer codec from "+i.codecs[r]+" to "+t),n.changeType(a),i.codecs[r]=t)}}},An=function(t){var r=t.type,i=t.sourceUpdater,n=t.action,a=t.doneFn,s=t.name;i.queue.push({type:r,action:n,doneFn:a,name:s}),Um(r,i)},Vy=function(t,r){return function(i){if(r.queuePending[t]){var n=r.queuePending[t].doneFn;r.queuePending[t]=null,n&&n(r[t+"Error_"])}Um(t,r)}},UE=function(e){Se(t,e);function t(i){var n;return n=e.call(this)||this,n.mediaSource=i,n.sourceopenListener_=function(){return Um("mediaSource",je(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=ur("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=Vy("video",je(n)),n.onAudioUpdateEnd_=Vy("audio",je(n)),n.onVideoError_=function(a){n.videoError_=a},n.onAudioError_=function(a){n.audioError_=a},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}var r=t.prototype;return r.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},r.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},r.hasInitializedAnyEme=function(){return this.initializedEme_},r.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},r.createSourceBuffers=function(n){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(n),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},r.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},r.addSourceBuffer=function(n,a){An({type:"mediaSource",sourceUpdater:this,action:Pn.addSourceBuffer(n,a),name:"addSourceBuffer"})},r.abort=function(n){An({type:n,sourceUpdater:this,action:Pn.abort(n),name:"abort"})},r.removeSourceBuffer=function(n){if(!this.canRemoveSourceBuffer()){G.log.error("removeSourceBuffer is not supported!");return}An({type:"mediaSource",sourceUpdater:this,action:Pn.removeSourceBuffer(n),name:"removeSourceBuffer"})},r.canRemoveSourceBuffer=function(){return!G.browser.IE_VERSION&&!G.browser.IS_FIREFOX&&U.MediaSource&&U.MediaSource.prototype&&typeof U.MediaSource.prototype.removeSourceBuffer=="function"},t.canChangeType=function(){return U.SourceBuffer&&U.SourceBuffer.prototype&&typeof U.SourceBuffer.prototype.changeType=="function"},r.canChangeType=function(){return this.constructor.canChangeType()},r.changeType=function(n,a){if(!this.canChangeType()){G.log.error("changeType is not supported!");return}An({type:n,sourceUpdater:this,action:Pn.changeType(a),name:"changeType"})},r.addOrChangeSourceBuffers=function(n){var a=this;if(!n||typeof n!="object"||Object.keys(n).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(n).forEach(function(s){var o=n[s];if(!a.hasCreatedSourceBuffers())return a.addSourceBuffer(s,o);a.canChangeType()&&a.changeType(s,o)})},r.appendBuffer=function(n,a){var s=this,o=n.segmentInfo,l=n.type,u=n.bytes;if(this.processedAppend_=!0,l==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([n,a]),this.logger_("delayed audio append of "+u.length+" until video append");return}var c=a;if(An({type:l,sourceUpdater:this,action:Pn.appendBuffer(u,o||{mediaIndex:-1},c),doneFn:a,name:"appendBuffer"}),l==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var f=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+f.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,f.forEach(function(d){s.appendBuffer.apply(s,d)})}},r.audioBuffered=function(){return pr(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:G.createTimeRange()},r.videoBuffered=function(){return pr(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:G.createTimeRange()},r.buffered=function(){var n=pr(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,a=pr(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return a&&!n?this.audioBuffered():n&&!a?this.videoBuffered():LB(this.audioBuffered(),this.videoBuffered())},r.setDuration=function(n,a){a===void 0&&(a=Nr),An({type:"mediaSource",sourceUpdater:this,action:Pn.duration(n),name:"duration",doneFn:a})},r.endOfStream=function(n,a){n===void 0&&(n=null),a===void 0&&(a=Nr),typeof n!="string"&&(n=void 0),An({type:"mediaSource",sourceUpdater:this,action:Pn.endOfStream(n),name:"endOfStream",doneFn:a})},r.removeAudio=function(n,a,s){if(s===void 0&&(s=Nr),!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}An({type:"audio",sourceUpdater:this,action:Pn.remove(n,a),doneFn:s,name:"remove"})},r.removeVideo=function(n,a,s){if(s===void 0&&(s=Nr),!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}An({type:"video",sourceUpdater:this,action:Pn.remove(n,a),doneFn:s,name:"remove"})},r.updating=function(){return!!(Mh("audio",this)||Mh("video",this))},r.audioTimestampOffset=function(n){return typeof n!="undefined"&&this.audioBuffer&&this.audioTimestampOffset_!==n&&(An({type:"audio",sourceUpdater:this,action:Pn.timestampOffset(n),name:"timestampOffset"}),this.audioTimestampOffset_=n),this.audioTimestampOffset_},r.videoTimestampOffset=function(n){return typeof n!="undefined"&&this.videoBuffer&&this.videoTimestampOffset!==n&&(An({type:"video",sourceUpdater:this,action:Pn.timestampOffset(n),name:"timestampOffset"}),this.videoTimestampOffset_=n),this.videoTimestampOffset_},r.audioQueueCallback=function(n){!this.audioBuffer||An({type:"audio",sourceUpdater:this,action:Pn.callback(n),name:"callback"})},r.videoQueueCallback=function(n){!this.videoBuffer||An({type:"video",sourceUpdater:this,action:Pn.callback(n),name:"callback"})},r.dispose=function(){var n=this;this.trigger("dispose"),cU.forEach(function(a){n.abort(a),n.canRemoveSourceBuffer()?n.removeSourceBuffer(a):n[a+"QueueCallback"](function(){return BE(a,n)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},t}(G.EventTarget),$y=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},jy=new Uint8Array(`

`.split("").map(function(e){return e.charCodeAt(0)})),fU=function(e){Se(t,e);function t(i,n){var a;return n===void 0&&(n={}),a=e.call(this,i,n)||this,a.mediaSource_=null,a.subtitlesTrack_=null,a.loaderType_="subtitle",a.featuresNativeTextTracks_=i.featuresNativeTextTracks,a.shouldSaveSegmentTimingInfo_=!1,a}var r=t.prototype;return r.createTransmuxer_=function(){return null},r.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return G.createTimeRanges();var n=this.subtitlesTrack_.cues,a=n[0].startTime,s=n[n.length-1].startTime;return G.createTimeRanges([[a,s]])},r.initSegmentForMap=function(n,a){if(a===void 0&&(a=!1),!n)return null;var s=_c(n),o=this.initSegments_[s];if(a&&!o&&n.bytes){var l=jy.byteLength+n.bytes.byteLength,u=new Uint8Array(l);u.set(n.bytes),u.set(jy,n.bytes.byteLength),this.initSegments_[s]=o={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:u}}return o||n},r.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.track=function(n){return typeof n=="undefined"?this.subtitlesTrack_:(this.subtitlesTrack_=n,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},r.remove=function(n,a){uo(n,a,this.subtitlesTrack_)},r.fillBuffer_=function(){var n=this,a=this.chooseNextRequest_();if(!!a){if(this.syncController_.timestampOffsetForTimeline(a.timeline)===null){var s=function(){n.state="READY",n.paused()||n.monitorBuffer_()};this.syncController_.one("timestampoffset",s),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(a)}},r.timestampOffsetForSegment_=function(){return null},r.chooseNextRequest_=function(){return this.skipEmptySegments_(e.prototype.chooseNextRequest_.call(this))},r.skipEmptySegments_=function(n){for(;n&&n.segment.empty;){if(n.mediaIndex+1>=n.playlist.segments.length){n=null;break}n=this.generateSegmentInfo_({playlist:n.playlist,mediaIndex:n.mediaIndex+1,startOfSegment:n.startOfSegment+n.duration,isSyncRequest:n.isSyncRequest})}return n},r.stopForError=function(n){this.error(n),this.state="READY",this.pause(),this.trigger("error")},r.segmentRequestFinished_=function(n,a,s){var o=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(a.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(n){n.code===gr.TIMEOUT&&this.handleTimeout_(),n.code===gr.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(n);return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,a.stats),this.state="APPENDING",this.trigger("appending");var u=l.segment;if(u.map&&(u.map.bytes=a.map.bytes),l.bytes=a.bytes,typeof U.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var c,f=function(){o.subtitlesTrack_.tech_.off("vttjsloaded",c),o.stopForError({message:"Error loading vtt.js"})};c=function(){o.subtitlesTrack_.tech_.off("vttjserror",f),o.segmentRequestFinished_(n,a,s)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",c),this.subtitlesTrack_.tech_.one("vttjserror",f);return}u.requested=!0;try{this.parseVTTCues_(l)}catch(d){this.stopForError({message:d.message});return}if(this.updateTimeMapping_(l,this.syncController_.timelines[l.timeline],this.playlist_),l.cues.length?l.timingInfo={start:l.cues[0].startTime,end:l.cues[l.cues.length-1].endTime}:l.timingInfo={start:l.startOfSegment,end:l.startOfSegment+l.duration},l.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}l.byteLength=l.bytes.byteLength,this.mediaSecondsLoaded+=u.duration,l.cues.forEach(function(d){o.subtitlesTrack_.addCue(o.featuresNativeTextTracks_?new U.VTTCue(d.startTime,d.endTime,d.text):d)}),J2(this.subtitlesTrack_),this.handleAppendsDone_()},r.handleData_=function(){},r.updateTimingInfoEnd_=function(){},r.parseVTTCues_=function(n){var a,s=!1;typeof U.TextDecoder=="function"?a=new U.TextDecoder("utf8"):(a=U.WebVTT.StringDecoder(),s=!0);var o=new U.WebVTT.Parser(U,U.vttjs,a);if(n.cues=[],n.timestampmap={MPEGTS:0,LOCAL:0},o.oncue=n.cues.push.bind(n.cues),o.ontimestampmap=function(c){n.timestampmap=c},o.onparsingerror=function(c){G.log.warn("Error encountered when parsing cues: "+c.message)},n.segment.map){var l=n.segment.map.bytes;s&&(l=$y(l)),o.parse(l)}var u=n.bytes;s&&(u=$y(u)),o.parse(u),o.flush()},r.updateTimeMapping_=function(n,a,s){var o=n.segment;if(!!a){if(!n.cues.length){o.empty=!0;return}var l=n.timestampmap,u=l.MPEGTS/oc.ONE_SECOND_IN_TS-l.LOCAL+a.mapping;if(n.cues.forEach(function(d){d.startTime+=u,d.endTime+=u}),!s.syncInfo){var c=n.cues[0].startTime,f=n.cues[n.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+n.mediaIndex,time:Math.min(c,f-o.duration)}}}},t}(Rh),hU=function(t,r){for(var i=t.cues,n=0;n<i.length;n++){var a=i[n];if(r>=a.adStartTime&&r<=a.adEndTime)return a}return null},pU=function(t,r,i){if(i===void 0&&(i=0),!!t.segments)for(var n=i,a,s=0;s<t.segments.length;s++){var o=t.segments[s];if(a||(a=hU(r,n+o.duration/2)),a){if("cueIn"in o){a.endTime=n,a.adEndTime=n,n+=o.duration,a=null;continue}if(n<a.endTime){n+=o.duration;continue}a.endTime+=o.duration}else if("cueOut"in o&&(a=new U.VTTCue(n,n+o.duration,o.cueOut),a.adStartTime=n,a.adEndTime=n+parseFloat(o.cueOut),r.addCue(a)),"cueOutCont"in o){var l=o.cueOutCont.split("/").map(parseFloat),u=l[0],c=l[1];a=new U.VTTCue(n,n+o.duration,""),a.adStartTime=n-u,a.adEndTime=a.adStartTime+c,r.addCue(a)}n+=o.duration}},mU=86400,Hy=[{name:"VOD",run:function(t,r,i,n,a){if(i!==1/0){var s={time:0,segmentIndex:0,partIndex:null};return s}return null}},{name:"ProgramDateTime",run:function(t,r,i,n,a){if(!Object.keys(t.timelineToDatetimeMappings).length)return null;var s=null,o=null,l=wh(r);a=a||0;for(var u=0;u<l.length;u++){var c=r.endList||a===0?u:l.length-(u+1),f=l[c],d=f.segment,p=t.timelineToDatetimeMappings[d.timeline];if(!(!p||!d.dateTimeObject)){var y=d.dateTimeObject.getTime()/1e3,b=y+p;if(d.parts&&typeof f.partIndex=="number")for(var T=0;T<f.partIndex;T++)b+=d.parts[T].duration;var S=Math.abs(a-b);if(o!==null&&(S===0||o<S))break;o=S,s={time:b,segmentIndex:f.segmentIndex,partIndex:f.partIndex}}}return s}},{name:"Segment",run:function(t,r,i,n,a){var s=null,o=null;a=a||0;for(var l=wh(r),u=0;u<l.length;u++){var c=r.endList||a===0?u:l.length-(u+1),f=l[c],d=f.segment,p=f.part&&f.part.start||d&&d.start;if(d.timeline===n&&typeof p!="undefined"){var y=Math.abs(a-p);if(o!==null&&o<y)break;(!s||o===null||o>=y)&&(o=y,s={time:p,segmentIndex:f.segmentIndex,partIndex:f.partIndex})}}return s}},{name:"Discontinuity",run:function(t,r,i,n,a){var s=null;if(a=a||0,r.discontinuityStarts&&r.discontinuityStarts.length)for(var o=null,l=0;l<r.discontinuityStarts.length;l++){var u=r.discontinuityStarts[l],c=r.discontinuitySequence+l+1,f=t.discontinuities[c];if(f){var d=Math.abs(a-f.time);if(o!==null&&o<d)break;(!s||o===null||o>=d)&&(o=d,s={time:f.time,segmentIndex:u,partIndex:null})}}return s}},{name:"Playlist",run:function(t,r,i,n,a){if(r.syncInfo){var s={time:r.syncInfo.time,segmentIndex:r.syncInfo.mediaSequence-r.mediaSequence,partIndex:null};return s}return null}}],vU=function(e){Se(t,e);function t(i){var n;return n=e.call(this)||this,n.timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=ur("SyncController"),n}var r=t.prototype;return r.getSyncPoint=function(n,a,s,o){var l=this.runStrategies_(n,a,s,o);return l.length?this.selectSyncPoint_(l,{key:"time",value:o}):null},r.getExpiredTime=function(n,a){if(!n||!n.segments)return null;var s=this.runStrategies_(n,a,n.discontinuitySequence,0);if(!s.length)return null;var o=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return o.segmentIndex>0&&(o.time*=-1),Math.abs(o.time+wo({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:o.segmentIndex,endIndex:0}))},r.runStrategies_=function(n,a,s,o){for(var l=[],u=0;u<Hy.length;u++){var c=Hy[u],f=c.run(this,n,a,s,o);f&&(f.strategy=c.name,l.push({strategy:c.name,syncPoint:f}))}return l},r.selectSyncPoint_=function(n,a){for(var s=n[0].syncPoint,o=Math.abs(n[0].syncPoint[a.key]-a.value),l=n[0].strategy,u=1;u<n.length;u++){var c=Math.abs(n[u].syncPoint[a.key]-a.value);c<o&&(o=c,s=n[u].syncPoint,l=n[u].strategy)}return this.logger_("syncPoint for ["+a.key+": "+a.value+"] chosen with strategy"+(" ["+l+"]: [time:"+s.time+",")+(" segmentIndex:"+s.segmentIndex)+(typeof s.partIndex=="number"?",partIndex:"+s.partIndex:"")+"]"),s},r.saveExpiredSegmentInfo=function(n,a){var s=a.mediaSequence-n.mediaSequence;if(s>mU){G.log.warn("Not saving expired segment info. Media sequence gap "+s+" is too large.");return}for(var o=s-1;o>=0;o--){var l=n.segments[o];if(l&&typeof l.start!="undefined"){a.syncInfo={mediaSequence:n.mediaSequence+o,time:l.start},this.logger_("playlist refresh sync: [time:"+a.syncInfo.time+","+(" mediaSequence: "+a.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},r.setDateTimeMappingForStart=function(n){if(this.timelineToDatetimeMappings={},n.segments&&n.segments.length&&n.segments[0].dateTimeObject){var a=n.segments[0],s=a.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[a.timeline]=-s}},r.saveSegmentTimingInfo=function(n){var a=n.segmentInfo,s=n.shouldSaveTimelineMapping,o=this.calculateSegmentTimeMapping_(a,a.timingInfo,s),l=a.segment;o&&(this.saveDiscontinuitySyncInfo_(a),a.playlist.syncInfo||(a.playlist.syncInfo={mediaSequence:a.playlist.mediaSequence+a.mediaIndex,time:l.start}));var u=l.dateTimeObject;l.discontinuity&&s&&u&&(this.timelineToDatetimeMappings[l.timeline]=-(u.getTime()/1e3))},r.timestampOffsetForTimeline=function(n){return typeof this.timelines[n]=="undefined"?null:this.timelines[n].time},r.mappingForTimeline=function(n){return typeof this.timelines[n]=="undefined"?null:this.timelines[n].mapping},r.calculateSegmentTimeMapping_=function(n,a,s){var o=n.segment,l=n.part,u=this.timelines[n.timeline],c,f;if(typeof n.timestampOffset=="number")u={time:n.startOfSegment,mapping:n.startOfSegment-a.start},s&&(this.timelines[n.timeline]=u,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+n.timeline+": "+("[time: "+u.time+"] [mapping: "+u.mapping+"]"))),c=n.startOfSegment,f=a.end+u.mapping;else if(u)c=a.start+u.mapping,f=a.end+u.mapping;else return!1;return l&&(l.start=c,l.end=f),(!o.start||c<o.start)&&(o.start=c),o.end=f,!0},r.saveDiscontinuitySyncInfo_=function(n){var a=n.playlist,s=n.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(a.discontinuityStarts&&a.discontinuityStarts.length)for(var o=0;o<a.discontinuityStarts.length;o++){var l=a.discontinuityStarts[o],u=a.discontinuitySequence+o+1,c=l-n.mediaIndex,f=Math.abs(c);if(!this.discontinuities[u]||this.discontinuities[u].accuracy>f){var d=void 0;c<0?d=s.start-wo({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:n.mediaIndex,endIndex:l}):d=s.end+wo({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:n.mediaIndex+1,endIndex:l}),this.discontinuities[u]={time:d,accuracy:f}}}},r.dispose=function(){this.trigger("dispose"),this.off()},t}(G.EventTarget),gU=function(e){Se(t,e);function t(){var i;return i=e.call(this)||this,i.pendingTimelineChanges_={},i.lastTimelineChanges_={},i}var r=t.prototype;return r.clearPendingTimelineChange=function(n){this.pendingTimelineChanges_[n]=null,this.trigger("pendingtimelinechange")},r.pendingTimelineChange=function(n){var a=n.type,s=n.from,o=n.to;return typeof s=="number"&&typeof o=="number"&&(this.pendingTimelineChanges_[a]={type:a,from:s,to:o},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[a]},r.lastTimelineChange=function(n){var a=n.type,s=n.from,o=n.to;return typeof s=="number"&&typeof o=="number"&&(this.lastTimelineChanges_[a]={type:a,from:s,to:o},delete this.pendingTimelineChanges_[a],this.trigger("timelinechange")),this.lastTimelineChanges_[a]},r.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(G.EventTarget),yU=CE(wE(function(){var e=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function t(P,I,L){return L={path:I,exports:{},require:function(R,M){return r(R,M==null?L.path:M)}},P(L,L.exports),L.exports}function r(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=t(function(P){function I(A,R){for(var M=0;M<R.length;M++){var N=R[M];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}function L(A,R,M){return R&&I(A.prototype,R),M&&I(A,M),A}P.exports=L,P.exports.default=P.exports,P.exports.__esModule=!0}),n=t(function(P){function I(L,A){return P.exports=I=Object.setPrototypeOf||function(M,N){return M.__proto__=N,M},P.exports.default=P.exports,P.exports.__esModule=!0,I(L,A)}P.exports=I,P.exports.default=P.exports,P.exports.__esModule=!0}),a=t(function(P){function I(L,A){L.prototype=Object.create(A.prototype),L.prototype.constructor=L,n(L,A)}P.exports=I,P.exports.default=P.exports,P.exports.__esModule=!0}),s=function(){function P(){this.listeners={}}var I=P.prototype;return I.on=function(A,R){this.listeners[A]||(this.listeners[A]=[]),this.listeners[A].push(R)},I.off=function(A,R){if(!this.listeners[A])return!1;var M=this.listeners[A].indexOf(R);return this.listeners[A]=this.listeners[A].slice(0),this.listeners[A].splice(M,1),M>-1},I.trigger=function(A){var R=this.listeners[A];if(!!R)if(arguments.length===2)for(var M=R.length,N=0;N<M;++N)R[N].call(this,arguments[1]);else for(var W=Array.prototype.slice.call(arguments,1),X=R.length,Y=0;Y<X;++Y)R[Y].apply(this,W)},I.dispose=function(){this.listeners={}},I.pipe=function(A){this.on("data",function(R){A.push(R)})},P}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function o(P){return P.subarray(0,P.byteLength-P[P.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var l=function(){var I=[[[],[],[],[],[]],[[],[],[],[],[]]],L=I[0],A=I[1],R=L[4],M=A[4],N,W,X,Y=[],le=[],fe,ce,ye,xe,ee,se;for(N=0;N<256;N++)le[(Y[N]=N<<1^(N>>7)*283)^N]=N;for(W=X=0;!R[W];W^=fe||1,X=le[X]||1)for(xe=X^X<<1^X<<2^X<<3^X<<4,xe=xe>>8^xe&255^99,R[W]=xe,M[xe]=W,ye=Y[ce=Y[fe=Y[W]]],se=ye*16843009^ce*65537^fe*257^W*16843008,ee=Y[xe]*257^xe*16843008,N=0;N<4;N++)L[N][W]=ee=ee<<24^ee>>>8,A[N][xe]=se=se<<24^se>>>8;for(N=0;N<5;N++)L[N]=L[N].slice(0),A[N]=A[N].slice(0);return I},u=null,c=function(){function P(L){u||(u=l()),this._tables=[[u[0][0].slice(),u[0][1].slice(),u[0][2].slice(),u[0][3].slice(),u[0][4].slice()],[u[1][0].slice(),u[1][1].slice(),u[1][2].slice(),u[1][3].slice(),u[1][4].slice()]];var A,R,M,N=this._tables[0][4],W=this._tables[1],X=L.length,Y=1;if(X!==4&&X!==6&&X!==8)throw new Error("Invalid aes key size");var le=L.slice(0),fe=[];for(this._key=[le,fe],A=X;A<4*X+28;A++)M=le[A-1],(A%X===0||X===8&&A%X===4)&&(M=N[M>>>24]<<24^N[M>>16&255]<<16^N[M>>8&255]<<8^N[M&255],A%X===0&&(M=M<<8^M>>>24^Y<<24,Y=Y<<1^(Y>>7)*283)),le[A]=le[A-X]^M;for(R=0;A;R++,A--)M=le[R&3?A:A-4],A<=4||R<4?fe[R]=M:fe[R]=W[0][N[M>>>24]]^W[1][N[M>>16&255]]^W[2][N[M>>8&255]]^W[3][N[M&255]]}var I=P.prototype;return I.decrypt=function(A,R,M,N,W,X){var Y=this._key[1],le=A^Y[0],fe=N^Y[1],ce=M^Y[2],ye=R^Y[3],xe,ee,se,te=Y.length/4-2,Ce,ie=4,De=this._tables[1],K=De[0],ve=De[1],ue=De[2],ke=De[3],Ke=De[4];for(Ce=0;Ce<te;Ce++)xe=K[le>>>24]^ve[fe>>16&255]^ue[ce>>8&255]^ke[ye&255]^Y[ie],ee=K[fe>>>24]^ve[ce>>16&255]^ue[ye>>8&255]^ke[le&255]^Y[ie+1],se=K[ce>>>24]^ve[ye>>16&255]^ue[le>>8&255]^ke[fe&255]^Y[ie+2],ye=K[ye>>>24]^ve[le>>16&255]^ue[fe>>8&255]^ke[ce&255]^Y[ie+3],ie+=4,le=xe,fe=ee,ce=se;for(Ce=0;Ce<4;Ce++)W[(3&-Ce)+X]=Ke[le>>>24]<<24^Ke[fe>>16&255]<<16^Ke[ce>>8&255]<<8^Ke[ye&255]^Y[ie++],xe=le,le=fe,fe=ce,ce=ye,ye=xe},P}(),f=function(P){a(I,P);function I(){var A;return A=P.call(this,s)||this,A.jobs=[],A.delay=1,A.timeout_=null,A}var L=I.prototype;return L.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},L.push=function(R){this.jobs.push(R),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},I}(s),d=function(I){return I<<24|(I&65280)<<8|(I&16711680)>>8|I>>>24},p=function(I,L,A){var R=new Int32Array(I.buffer,I.byteOffset,I.byteLength>>2),M=new c(Array.prototype.slice.call(L)),N=new Uint8Array(I.byteLength),W=new Int32Array(N.buffer),X,Y,le,fe,ce,ye,xe,ee,se;for(X=A[0],Y=A[1],le=A[2],fe=A[3],se=0;se<R.length;se+=4)ce=d(R[se]),ye=d(R[se+1]),xe=d(R[se+2]),ee=d(R[se+3]),M.decrypt(ce,ye,xe,ee,W,se),W[se]=d(W[se]^X),W[se+1]=d(W[se+1]^Y),W[se+2]=d(W[se+2]^le),W[se+3]=d(W[se+3]^fe),X=ce,Y=ye,le=xe,fe=ee;return N},y=function(){function P(L,A,R,M){var N=P.STEP,W=new Int32Array(L.buffer),X=new Uint8Array(L.byteLength),Y=0;for(this.asyncStream_=new f,this.asyncStream_.push(this.decryptChunk_(W.subarray(Y,Y+N),A,R,X)),Y=N;Y<W.length;Y+=N)R=new Uint32Array([d(W[Y-4]),d(W[Y-3]),d(W[Y-2]),d(W[Y-1])]),this.asyncStream_.push(this.decryptChunk_(W.subarray(Y,Y+N),A,R,X));this.asyncStream_.push(function(){M(null,o(X))})}var I=P.prototype;return I.decryptChunk_=function(A,R,M,N){return function(){var W=p(A,R,M);N.set(W,A.byteOffset)}},i(P,null,[{key:"STEP",get:function(){return 32e3}}]),P}(),b;typeof window!="undefined"?b=window:typeof e!="undefined"?b=e:typeof self!="undefined"?b=self:b={};var T=b,S=function(I){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(I):I&&I.buffer instanceof ArrayBuffer},w=T.BigInt||Number;w("0x1"),w("0x100"),w("0x10000"),w("0x1000000"),w("0x100000000"),w("0x10000000000"),w("0x1000000000000"),w("0x100000000000000"),w("0x10000000000000000");var D=function(I){var L={};return Object.keys(I).forEach(function(A){var R=I[A];S(R)?L[A]={bytes:R.buffer,byteOffset:R.byteOffset,byteLength:R.byteLength}:L[A]=R}),L};self.onmessage=function(P){var I=P.data,L=new Uint8Array(I.encrypted.bytes,I.encrypted.byteOffset,I.encrypted.byteLength),A=new Uint32Array(I.key.bytes,I.key.byteOffset,I.key.byteLength/4),R=new Uint32Array(I.iv.bytes,I.iv.byteOffset,I.iv.byteLength/4);new y(L,A,R,function(M,N){self.postMessage(D({source:I.source,decrypted:N}),[N.buffer])})}})),_U=EE(yU),bU=function(t){var r=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(r="main-desc"),r},xc=function(t,r){t.abort(),t.pause(),r&&r.activePlaylistLoader&&(r.activePlaylistLoader.pause(),r.activePlaylistLoader=null)},Fh=function(t,r){r.activePlaylistLoader=t,t.load()},TU=function(t,r){return function(){var i=r.segmentLoaders,n=i[t],a=i.main,s=r.mediaTypes[t],o=s.activeTrack(),l=s.getActiveGroup(),u=s.activePlaylistLoader,c=s.lastGroup_;if(!(l&&c&&l.id===c.id)&&(s.lastGroup_=l,s.lastTrack_=o,xc(n,s),!(!l||l.isMasterPlaylist))){if(!l.playlistLoader){u&&a.resetEverything();return}n.resyncLoader(),Fh(l.playlistLoader,s)}}},SU=function(t,r){return function(){var i=r.segmentLoaders[t],n=r.mediaTypes[t];n.lastGroup_=null,i.abort(),i.pause()}},xU=function(t,r){return function(){var i=r.masterPlaylistLoader,n=r.segmentLoaders,a=n[t],s=n.main,o=r.mediaTypes[t],l=o.activeTrack(),u=o.getActiveGroup(),c=o.activePlaylistLoader,f=o.lastTrack_;if(!(f&&l&&f.id===l.id)&&(o.lastGroup_=u,o.lastTrack_=l,xc(a,o),!!u)){if(u.isMasterPlaylist){if(!l||!f||l.id===f.id)return;var d=r.vhs.masterPlaylistController_,p=d.selectPlaylist();if(d.media()===p)return;o.logger_("track change. Switching master audio from "+f.id+" to "+l.id),i.pause(),s.resetEverything(),d.fastQualityChange_(p);return}if(t==="AUDIO"){if(!u.playlistLoader){s.setAudio(!0),s.resetEverything();return}a.setAudio(!0),s.setAudio(!1)}if(c===u.playlistLoader){Fh(u.playlistLoader,o);return}a.track&&a.track(l),a.resetEverything(),Fh(u.playlistLoader,o)}}},Ec={AUDIO:function(t,r){return function(){var i=r.segmentLoaders[t],n=r.mediaTypes[t],a=r.blacklistCurrentPlaylist;xc(i,n);var s=n.activeTrack(),o=n.activeGroup(),l=(o.filter(function(f){return f.default})[0]||o[0]).id,u=n.tracks[l];if(s===u){a({message:"Problem encountered loading the default audio track."});return}G.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var c in n.tracks)n.tracks[c].enabled=n.tracks[c]===u;n.onTrackChanged()}},SUBTITLES:function(t,r){return function(){var i=r.segmentLoaders[t],n=r.mediaTypes[t];G.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),xc(i,n);var a=n.activeTrack();a&&(a.mode="disabled"),n.onTrackChanged()}}},Wy={AUDIO:function(t,r,i){if(!!r){var n=i.tech,a=i.requestOptions,s=i.segmentLoaders[t];r.on("loadedmetadata",function(){var o=r.media();s.playlist(o,a),(!n.paused()||o.endList&&n.preload()!=="none")&&s.load()}),r.on("loadedplaylist",function(){s.playlist(r.media(),a),n.paused()||s.load()}),r.on("error",Ec[t](t,i))}},SUBTITLES:function(t,r,i){var n=i.tech,a=i.requestOptions,s=i.segmentLoaders[t],o=i.mediaTypes[t];r.on("loadedmetadata",function(){var l=r.media();s.playlist(l,a),s.track(o.activeTrack()),(!n.paused()||l.endList&&n.preload()!=="none")&&s.load()}),r.on("loadedplaylist",function(){s.playlist(r.media(),a),n.paused()||s.load()}),r.on("error",Ec[t](t,i))}},EU={AUDIO:function(t,r){var i=r.vhs,n=r.sourceType,a=r.segmentLoaders[t],s=r.requestOptions,o=r.master.mediaGroups,l=r.mediaTypes[t],u=l.groups,c=l.tracks,f=l.logger_,d=r.masterPlaylistLoader,p=Cl(d.master);(!o[t]||Object.keys(o[t]).length===0)&&(o[t]={main:{default:{default:!0}}},p&&(o[t].main.default.playlists=d.master.playlists));for(var y in o[t]){u[y]||(u[y]=[]);for(var b in o[t][y]){var T=o[t][y][b],S=void 0;if(p?(f("AUDIO group '"+y+"' label '"+b+"' is a master playlist"),T.isMasterPlaylist=!0,S=null):n==="vhs-json"&&T.playlists?S=new Wa(T.playlists[0],i,s):T.resolvedUri?S=new Wa(T.resolvedUri,i,s):T.playlists&&n==="dash"?S=new Lh(T.playlists[0],i,s,d):S=null,T=G.mergeOptions({id:b,playlistLoader:S},T),Wy[t](t,T.playlistLoader,r),u[y].push(T),typeof c[b]=="undefined"){var w=new G.AudioTrack({id:b,kind:bU(T),enabled:!1,language:T.language,default:T.default,label:b});c[b]=w}}}a.on("error",Ec[t](t,r))},SUBTITLES:function(t,r){var i=r.tech,n=r.vhs,a=r.sourceType,s=r.segmentLoaders[t],o=r.requestOptions,l=r.master.mediaGroups,u=r.mediaTypes[t],c=u.groups,f=u.tracks,d=r.masterPlaylistLoader;for(var p in l[t]){c[p]||(c[p]=[]);for(var y in l[t][p])if(!l[t][p][y].forced){var b=l[t][p][y],T=void 0;if(a==="hls")T=new Wa(b.resolvedUri,n,o);else if(a==="dash"){var S=b.playlists.filter(function(D){return D.excludeUntil!==1/0});if(!S.length)return;T=new Lh(b.playlists[0],n,o,d)}else a==="vhs-json"&&(T=new Wa(b.playlists?b.playlists[0]:b.resolvedUri,n,o));if(b=G.mergeOptions({id:y,playlistLoader:T},b),Wy[t](t,b.playlistLoader,r),c[p].push(b),typeof f[y]=="undefined"){var w=i.addRemoteTextTrack({id:y,kind:"subtitles",default:b.default&&b.autoselect,language:b.language,label:y},!1).track;f[y]=w}}}s.on("error",Ec[t](t,r))},"CLOSED-CAPTIONS":function(t,r){var i=r.tech,n=r.master.mediaGroups,a=r.mediaTypes[t],s=a.groups,o=a.tracks;for(var l in n[t]){s[l]||(s[l]=[]);for(var u in n[t][l]){var c=n[t][l][u];if(!!/^(?:CC|SERVICE)/.test(c.instreamId)){var f=i.options_.vhs&&i.options_.vhs.captionServices||{},d={label:u,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(f[d.instreamId]&&(d=G.mergeOptions(d,f[d.instreamId])),d.default===void 0&&delete d.default,s[l].push(G.mergeOptions({id:u},c)),typeof o[u]=="undefined"){var p=i.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;o[u]=p}}}}}},CU=function e(t,r){for(var i=0;i<t.length;i++)if(Mm(r,t[i])||t[i].playlists&&e(t[i].playlists,r))return!0;return!1},wU=function(t,r){return function(i){var n=r.masterPlaylistLoader,a=r.mediaTypes[t].groups,s=n.media();if(!s)return null;var o=null;s.attributes[t]&&(o=a[s.attributes[t]]);var l=Object.keys(a);if(!o)if(t==="AUDIO"&&l.length>1&&Cl(r.master))for(var u=0;u<l.length;u++){var c=a[l[u]];if(CU(c,s)){o=c;break}}else a.main?o=a.main:l.length===1&&(o=a[l[0]]);return typeof i=="undefined"?o:i===null||!o?null:o.filter(function(f){return f.id===i.id})[0]||null}},kU={AUDIO:function(t,r){return function(){var i=r.mediaTypes[t].tracks;for(var n in i)if(i[n].enabled)return i[n];return null}},SUBTITLES:function(t,r){return function(){var i=r.mediaTypes[t].tracks;for(var n in i)if(i[n].mode==="showing"||i[n].mode==="hidden")return i[n];return null}}},PU=function(t,r){var i=r.mediaTypes;return function(){var n=i[t].activeTrack();return n?i[t].activeGroup(n):null}},AU=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(y){EU[y](y,t)});var r=t.mediaTypes,i=t.masterPlaylistLoader,n=t.tech,a=t.vhs,s=t.segmentLoaders,o=s.AUDIO,l=s.main;["AUDIO","SUBTITLES"].forEach(function(y){r[y].activeGroup=wU(y,t),r[y].activeTrack=kU[y](y,t),r[y].onGroupChanged=TU(y,t),r[y].onGroupChanging=SU(y,t),r[y].onTrackChanged=xU(y,t),r[y].getActiveGroup=PU(y,t)});var u=r.AUDIO.activeGroup();if(u){var c=(u.filter(function(y){return y.default})[0]||u[0]).id;r.AUDIO.tracks[c].enabled=!0,r.AUDIO.onGroupChanged(),r.AUDIO.onTrackChanged();var f=r.AUDIO.getActiveGroup();f.playlistLoader?(l.setAudio(!1),o.setAudio(!0)):l.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(y){return r[y].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(y){return r[y].onGroupChanging()})});var d=function(){r.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"}),n.trigger({type:"usage",name:"hls-audio-change"})};n.audioTracks().addEventListener("change",d),n.remoteTextTracks().addEventListener("change",r.SUBTITLES.onTrackChanged),a.on("dispose",function(){n.audioTracks().removeEventListener("change",d),n.remoteTextTracks().removeEventListener("change",r.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(var p in r.AUDIO.tracks)n.audioTracks().addTrack(r.AUDIO.tracks[p])},IU=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(r){t[r]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Nr,activeTrack:Nr,getActiveGroup:Nr,onGroupChanged:Nr,onTrackChanged:Nr,lastTrack_:null,logger_:ur("MediaGroups["+r+"]")}}),t},OU=60*2,Ir,LU=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],DU=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},RU=function(t){var r=t.currentPlaylist,i=t.buffered,n=t.currentTime,a=t.nextPlaylist,s=t.bufferLowWaterLine,o=t.bufferHighWaterLine,l=t.duration,u=t.experimentalBufferBasedABR,c=t.log;if(!a)return G.log.warn("We received no playlist to switch to. Please check your stream."),!1;var f="allowing switch "+(r&&r.id||"null")+" -> "+a.id;if(!r)return c(f+" as current playlist is not set"),!0;if(a.id===r.id)return!1;var d=Boolean(Ha(i,n).length);if(!r.endList)return!d&&typeof r.partTargetDuration=="number"?(c("not "+f+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(c(f+" as current playlist is live"),!0);var p=Lm(i,n),y=u?Vt.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Vt.MAX_BUFFER_LOW_WATER_LINE;if(l<y)return c(f+" as duration < max low water line ("+l+" < "+y+")"),!0;var b=a.attributes.BANDWIDTH,T=r.attributes.BANDWIDTH;if(b<T&&(!u||p<o)){var S=f+" as next bandwidth < current bandwidth ("+b+" < "+T+")";return u&&(S+=" and forwardBuffer < bufferHighWaterLine ("+p+" < "+o+")"),c(S),!0}if((!u||b>T)&&p>=s){var w=f+" as forwardBuffer >= bufferLowWaterLine ("+p+" >= "+s+")";return u&&(w+=" and next bandwidth > current bandwidth ("+b+" > "+T+")"),c(w),!0}return c("not "+f+" as no switching criteria met"),!1},MU=function(e){Se(t,e);function t(i){var n;n=e.call(this)||this;var a=i.src,s=i.handleManifestRedirects,o=i.withCredentials,l=i.tech,u=i.bandwidth,c=i.externVhs,f=i.useCueTags,d=i.blacklistDuration,p=i.enableLowInitialPlaylist,y=i.sourceType,b=i.cacheEncryptionKeys,T=i.experimentalBufferBasedABR,S=i.experimentalLeastPixelDiffSelector,w=i.captionServices;if(!a)throw new Error("A non-empty playlist URL or JSON manifest string is required");var D=i.maxPlaylistRetries;(D===null||typeof D=="undefined")&&(D=1/0),Ir=c,n.experimentalBufferBasedABR=Boolean(T),n.experimentalLeastPixelDiffSelector=Boolean(S),n.withCredentials=o,n.tech_=l,n.vhs_=l.vhs,n.sourceType_=y,n.useCueTags_=f,n.blacklistDuration=d,n.maxPlaylistRetries=D,n.enableLowInitialPlaylist=p,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:o,handleManifestRedirects:s,maxPlaylistRetries:D,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=IU(),n.mediaSource=new U.MediaSource,n.handleDurationChange_=n.handleDurationChange_.bind(je(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(je(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(je(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=G.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new vU(i),n.segmentMetadataTrack_=l.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new _U,n.sourceUpdater_=new UE(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new gU;var P={vhs:n.vhs_,parse708captions:i.parse708captions,useDtsForTimestampOffset:i.useDtsForTimestampOffset,captionServices:w,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:u,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:b,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};n.masterPlaylistLoader_=n.sourceType_==="dash"?new Lh(a,n.vhs_,n.requestOptions_):new Wa(a,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new Rh(G.mergeOptions(P,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),i),n.audioSegmentLoader_=new Rh(G.mergeOptions(P,{loaderType:"audio"}),i),n.subtitleSegmentLoader_=new fU(G.mergeOptions(P,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),i),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",function(){return n.startABRTimer_()}),n.tech_.on("pause",function(){return n.stopABRTimer_()}),n.tech_.on("play",function(){return n.startABRTimer_()})),LU.forEach(function(L){n[L+"_"]=DU.bind(je(n),L)}),n.logger_=ur("MPC"),n.triggeredFmp4Usage=!1,n.tech_.preload()==="none"?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1;var I=n.tech_.preload()==="none"?"play":"loadstart";return n.tech_.one(I,function(){var L=Date.now();n.tech_.one("loadeddata",function(){n.timeToLoadedData__=Date.now()-L,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends})}),n}var r=t.prototype;return r.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},r.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},r.appendsToLoadedData_=function(){var n=this.mainAppendsToLoadedData_(),a=this.audioAppendsToLoadedData_();return n===-1||a===-1?-1:n+a},r.timeToLoadedData_=function(){return this.timeToLoadedData__},r.checkABR_=function(){var n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,"abr")},r.switchMedia_=function(n,a,s){var o=this.media(),l=o&&(o.id||o.uri),u=n.id||n.uri;l&&l!==u&&(this.logger_("switch media "+l+" -> "+u+" from "+a),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+a})),this.masterPlaylistLoader_.media(n,s)},r.startABRTimer_=function(){var n=this;this.stopABRTimer_(),this.abrTimer_=U.setInterval(function(){return n.checkABR_()},250)},r.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(U.clearInterval(this.abrTimer_),this.abrTimer_=null)},r.getAudioTrackPlaylists_=function(){var n=this.master(),a=n&&n.playlists||[];if(!n||!n.mediaGroups||!n.mediaGroups.AUDIO)return a;var s=n.mediaGroups.AUDIO,o=Object.keys(s),l;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)l=this.mediaTypes_.AUDIO.activeTrack();else{var u=s.main||o.length&&s[o[0]];for(var c in u)if(u[c].default){l={label:c};break}}if(!l)return a;var f=[];for(var d in s)if(s[d][l.label]){var p=s[d][l.label];if(p.playlists&&p.playlists.length)f.push.apply(f,p.playlists);else if(p.uri)f.push(p);else if(n.playlists.length)for(var y=0;y<n.playlists.length;y++){var b=n.playlists[y];b.attributes&&b.attributes.AUDIO&&b.attributes.AUDIO===d&&f.push(b)}}return f.length?f:a},r.setupMasterPlaylistLoaderListeners_=function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var a=n.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;kh(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=s,a.endList&&n.tech_.preload()!=="none"&&(n.mainSegmentLoader_.playlist(a,n.requestOptions_),n.mainSegmentLoader_.load()),AU({sourceType:n.sourceType_,segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,vhs:n.vhs_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)}),n.triggerPresenceUsage_(n.master(),a),n.setupFirstPlay(),!n.mediaTypes_.AUDIO.activePlaylistLoader||n.mediaTypes_.AUDIO.activePlaylistLoader.media()?n.trigger("selectedinitialmedia"):n.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){n.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){n.loadOnPlay_&&n.tech_.off("play",n.loadOnPlay_);var a=n.masterPlaylistLoader_.media();if(!a){n.excludeUnsupportedVariants_();var s;if(n.enableLowInitialPlaylist&&(s=n.selectInitialPlaylist()),s||(s=n.selectPlaylist()),!s||!n.shouldSwitchToMedia_(s))return;n.initialMedia_=s,n.switchMedia_(n.initialMedia_,"initial");var o=n.sourceType_==="vhs-json"&&n.initialMedia_.segments;if(!o)return;a=n.initialMedia_}n.handleUpdatedMediaPlaylist(a)}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var a=n.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;kh(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=s,n.mainSegmentLoader_.playlist(a,n.requestOptions_),n.mainSegmentLoader_.load(),n.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var a=n.masterPlaylistLoader_.media();if(a.lastExcludeReason_!=="playlist-unchanged"){var s=n.stuckAtPlaylistEnd_(a);s&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),n.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},r.handleUpdatedMediaPlaylist=function(n){this.useCueTags_&&this.updateAdCues_(n),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.updateDuration(!n.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},r.triggerPresenceUsage_=function(n,a){var s=n.mediaGroups||{},o=!0,l=Object.keys(s.AUDIO);for(var u in s.AUDIO)for(var c in s.AUDIO[u]){var f=s.AUDIO[u][c];f.uri||(o=!1)}o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Ir.Playlist.isAes(a)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),l.length&&Object.keys(s.AUDIO[l[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},r.shouldSwitchToMedia_=function(n){var a=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),o=this.bufferLowWaterLine(),l=this.bufferHighWaterLine(),u=this.tech_.buffered();return RU({buffered:u,currentTime:s,currentPlaylist:a,nextPlaylist:n,bufferLowWaterLine:o,bufferHighWaterLine:l,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},r.setupSegmentLoaderListeners_=function(){var n=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var s=n.selectPlaylist();n.shouldSwitchToMedia_(s)&&n.switchMedia_(s,"bandwidthupdate"),n.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){n.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){n.error=n.mainSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){n.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),n.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){n.error=n.audioSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){n.logger_("main segment loader ended"),n.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(s){n.experimentalBufferBasedABR||(n.delegateLoaders_("all",["abort"]),n.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},OU))});var a=function(){if(!n.sourceUpdater_.hasCreatedSourceBuffers())return n.tryToCreateSourceBuffers_();var o=n.getCodecsOrExclude_();!o||n.sourceUpdater_.addOrChangeSourceBuffers(o)};this.mainSegmentLoader_.on("trackinfo",a),this.audioSegmentLoader_.on("trackinfo",a),this.mainSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){n.logger_("audioSegmentLoader ended"),n.onEndOfStream()})},r.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},r.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},r.smoothQualityChange_=function(n){n===void 0&&(n=this.selectPlaylist()),this.fastQualityChange_(n)},r.fastQualityChange_=function(n){var a=this;if(n===void 0&&(n=this.selectPlaylist()),n===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(n,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){G.browser.IE_VERSION||G.browser.IS_EDGE?a.tech_.setCurrentTime(a.tech_.currentTime()+.04):a.tech_.setCurrentTime(a.tech_.currentTime())})},r.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var n=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<n.start(0))return this.tech_.setCurrentTime(n.end(n.length-1))}},r.setupFirstPlay=function(){var n=this,a=this.masterPlaylistLoader_.media();if(!a||this.tech_.paused()||this.hasPlayed_)return!1;if(!a.endList){var s=this.seekable();if(!s.length)return!1;if(G.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){n.trigger("firstplay"),n.tech_.setCurrentTime(s.end(0)),n.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(s.end(0))}return this.hasPlayed_=!0,this.load(),!0},r.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var n=this.tech_.play();typeof n!="undefined"&&typeof n.then=="function"&&n.then(null,function(a){})}this.trigger("sourceopen")},r.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var n=this.inbandTextTracks_.metadataTrack_.cues;if(!(!n||!n.length)){var a=this.duration();n[n.length-1].endTime=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a}}},r.handleDurationChange_=function(){this.tech_.trigger("durationchange")},r.onEndOfStream=function(){var n=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var a=this.mainSegmentLoader_.getCurrentMediaInfo_();!a||a.hasVideo?n=n&&this.audioSegmentLoader_.ended_:n=this.audioSegmentLoader_.ended_}!n||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},r.stuckAtPlaylistEnd_=function(n){var a=this.seekable();if(!a.length)return!1;var s=this.syncController_.getExpiredTime(n,this.duration());if(s===null)return!1;var o=Ir.Playlist.playlistEnd(n,s),l=this.tech_.currentTime(),u=this.tech_.buffered();if(!u.length)return o-l<=vr;var c=u.end(u.length-1);return c-l<=vr&&o-c<=vr},r.blacklistCurrentPlaylist=function(n,a){n===void 0&&(n={});var s=n.playlist||this.masterPlaylistLoader_.media();if(a=a||n.blacklistDuration||this.blacklistDuration,!s){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}s.playlistErrors_++;var o=this.masterPlaylistLoader_.master.playlists,l=o.filter(md),u=l.length===1&&l[0]===s;if(o.length===1&&a!==1/0)return G.log.warn("Problem encountered with playlist "+s.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(u);if(u){var c=!1;o.forEach(function(S){if(S!==s){var w=S.excludeUntil;typeof w!="undefined"&&w!==1/0&&(c=!0,delete S.excludeUntil)}}),c&&(G.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var f;s.playlistErrors_>this.maxPlaylistRetries?f=1/0:f=Date.now()+a*1e3,s.excludeUntil=f,n.reason&&(s.lastExcludeReason_=n.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var d=this.selectPlaylist();if(!d){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var p=n.internal?this.logger_:G.log.warn,y=n.message?" "+n.message:"";p((n.internal?"Internal problem":"Problem")+" encountered with playlist "+s.id+"."+(y+" Switching to playlist "+d.id+".")),d.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),d.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var b=d.targetDuration/2*1e3||5*1e3,T=typeof d.lastRequest=="number"&&Date.now()-d.lastRequest<=b;return this.switchMedia_(d,"exclude",u||T)},r.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},r.delegateLoaders_=function(n,a){var s=this,o=[],l=n==="all";(l||n==="main")&&o.push(this.masterPlaylistLoader_);var u=[];(l||n==="audio")&&u.push("AUDIO"),(l||n==="subtitle")&&(u.push("CLOSED-CAPTIONS"),u.push("SUBTITLES")),u.forEach(function(c){var f=s.mediaTypes_[c]&&s.mediaTypes_[c].activePlaylistLoader;f&&o.push(f)}),["main","audio","subtitle"].forEach(function(c){var f=s[c+"SegmentLoader_"];f&&(n===c||n==="all")&&o.push(f)}),o.forEach(function(c){return a.forEach(function(f){typeof c[f]=="function"&&c[f]()})})},r.setCurrentTime=function(n){var a=Ha(this.tech_.buffered(),n);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(a&&a.length)return n;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},r.duration=function(){if(!this.masterPlaylistLoader_)return 0;var n=this.masterPlaylistLoader_.media();return n?n.endList?this.mediaSource?this.mediaSource.duration:Ir.Playlist.duration(n):1/0:0},r.seekable=function(){return this.seekable_},r.onSyncInfoUpdate_=function(){var n;if(!!this.masterPlaylistLoader_){var a=this.masterPlaylistLoader_.media();if(!!a){var s=this.syncController_.getExpiredTime(a,this.duration());if(s!==null){var o=this.masterPlaylistLoader_.master,l=Ir.Playlist.seekable(a,s,Ir.Playlist.liveEdgeDelay(o,a));if(l.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(a,this.duration()),s===null||(n=Ir.Playlist.seekable(a,s,Ir.Playlist.liveEdgeDelay(o,a)),n.length===0)))){var u,c;this.seekable_&&this.seekable_.length&&(u=this.seekable_.end(0),c=this.seekable_.start(0)),n?n.start(0)>l.end(0)||l.start(0)>n.end(0)?this.seekable_=l:this.seekable_=G.createTimeRanges([[n.start(0)>l.start(0)?n.start(0):l.start(0),n.end(0)<l.end(0)?n.end(0):l.end(0)]]):this.seekable_=l,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===u&&this.seekable_.start(0)===c)&&(this.logger_("seekable updated ["+nE(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},r.updateDuration=function(n){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,n),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(n){var a=this.seekable();if(!a.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<a.end(a.length-1))&&this.sourceUpdater_.setDuration(a.end(a.length-1));return}var s=this.tech_.buffered(),o=Ir.Playlist.duration(this.masterPlaylistLoader_.media());s.length>0&&(o=Math.max(o,s.end(s.length-1))),this.mediaSource.duration!==o&&this.sourceUpdater_.setDuration(o)},r.dispose=function(){var n=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(a){var s=n.mediaTypes_[a].groups;for(var o in s)s[o].forEach(function(l){l.playlistLoader&&l.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},r.master=function(){return this.masterPlaylistLoader_.master},r.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},r.areMediaTypesKnown_=function(){var n=!!this.mediaTypes_.AUDIO.activePlaylistLoader,a=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=n?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!a||!s)},r.getCodecsOrExclude_=function(){var n=this,a={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};a.video=a.main;var s=ko(this.master(),this.media()),o={},l=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(a.main.hasVideo&&(o.video=s.video||a.main.videoCodec||pM),a.main.isMuxed&&(o.video+=","+(s.audio||a.main.audioCodec||I0)),(a.main.hasAudio&&!a.main.isMuxed||a.audio.hasAudio||l)&&(o.audio=s.audio||a.main.audioCodec||a.audio.audioCodec||I0,a.audio.isFmp4=a.main.hasAudio&&!a.main.isMuxed?a.main.isFmp4:a.audio.isFmp4),!o.audio&&!o.video){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var u=function(T,S){return T?Ou(S):Jd(S)},c={},f;if(["video","audio"].forEach(function(b){if(o.hasOwnProperty(b)&&!u(a[b].isFmp4,o[b])){var T=a[b].isFmp4?"browser":"muxer";c[T]=c[T]||[],c[T].push(o[b]),b==="audio"&&(f=T)}}),l&&f&&this.media().attributes.AUDIO){var d=this.media().attributes.AUDIO;this.master().playlists.forEach(function(b){var T=b.attributes&&b.attributes.AUDIO;T===d&&b!==n.media()&&(b.excludeUntil=1/0)}),this.logger_("excluding audio group "+d+" as "+f+' does not support codec(s): "'+o.audio+'"')}if(Object.keys(c).length){var p=Object.keys(c).reduce(function(b,T){return b&&(b+=", "),b+=T+' does not support codec(s): "'+c[T].join(",")+'"',b},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:p,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var y=[];if(["video","audio"].forEach(function(b){var T=(fr(n.sourceUpdater_.codecs[b]||"")[0]||{}).type,S=(fr(o[b]||"")[0]||{}).type;T&&S&&T.toLowerCase()!==S.toLowerCase()&&y.push('"'+n.sourceUpdater_.codecs[b]+'" -> "'+o[b]+'"')}),y.length){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+y.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return o},r.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var n=this.getCodecsOrExclude_();if(!!n){this.sourceUpdater_.createSourceBuffers(n);var a=[n.video,n.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(a)}}},r.excludeUnsupportedVariants_=function(){var n=this,a=this.master().playlists,s=[];Object.keys(a).forEach(function(o){var l=a[o];if(s.indexOf(l.id)===-1){s.push(l.id);var u=ko(n.master,l),c=[];u.audio&&!Jd(u.audio)&&!Ou(u.audio)&&c.push("audio codec "+u.audio),u.video&&!Jd(u.video)&&!Ou(u.video)&&c.push("video codec "+u.video),u.text&&u.text==="stpp.ttml.im1t"&&c.push("text codec "+u.text),c.length&&(l.excludeUntil=1/0,n.logger_("excluding "+l.id+" for unsupported: "+c.join(", ")))}})},r.excludeIncompatibleVariants_=function(n){var a=this,s=[],o=this.master().playlists,l=Tc(fr(n)),u=Dy(l),c=l.video&&fr(l.video)[0]||null,f=l.audio&&fr(l.audio)[0]||null;Object.keys(o).forEach(function(d){var p=o[d];if(!(s.indexOf(p.id)!==-1||p.excludeUntil===1/0)){s.push(p.id);var y=[],b=ko(a.masterPlaylistLoader_.master,p),T=Dy(b);if(!(!b.audio&&!b.video)){if(T!==u&&y.push('codec count "'+T+'" !== "'+u+'"'),!a.sourceUpdater_.canChangeType()){var S=b.video&&fr(b.video)[0]||null,w=b.audio&&fr(b.audio)[0]||null;S&&c&&S.type.toLowerCase()!==c.type.toLowerCase()&&y.push('video codec "'+S.type+'" !== "'+c.type+'"'),w&&f&&w.type.toLowerCase()!==f.type.toLowerCase()&&y.push('audio codec "'+w.type+'" !== "'+f.type+'"')}y.length&&(p.excludeUntil=1/0,a.logger_("blacklisting "+p.id+": "+y.join(" && ")))}}})},r.updateAdCues_=function(n){var a=0,s=this.seekable();s.length&&(a=s.start(0)),pU(n,this.cueTagsTrack_,a)},r.goalBufferLength=function(){var n=this.tech_.currentTime(),a=Vt.GOAL_BUFFER_LENGTH,s=Vt.GOAL_BUFFER_LENGTH_RATE,o=Math.max(a,Vt.MAX_GOAL_BUFFER_LENGTH);return Math.min(a+n*s,o)},r.bufferLowWaterLine=function(){var n=this.tech_.currentTime(),a=Vt.BUFFER_LOW_WATER_LINE,s=Vt.BUFFER_LOW_WATER_LINE_RATE,o=Math.max(a,Vt.MAX_BUFFER_LOW_WATER_LINE),l=Math.max(a,Vt.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(a+n*s,this.experimentalBufferBasedABR?l:o)},r.bufferHighWaterLine=function(){return Vt.BUFFER_HIGH_WATER_LINE},t}(G.EventTarget),FU=function(t,r,i){return function(n){var a=t.master.playlists[r],s=Rm(a),o=md(a);return typeof n=="undefined"?o:(n?delete a.disabled:a.disabled=!0,n!==o&&!s&&(i(),n?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),n)}},NU=function(t,r,i){var n=t.masterPlaylistController_,a=t.options_.smoothQualityChange,s=a?"smooth":"fast",o=n[s+"QualityChange_"].bind(n);if(r.attributes){var l=r.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=r.attributes.BANDWIDTH}this.codecs=ko(n.master(),r),this.playlist=r,this.id=i,this.enabled=FU(t.playlists,r.id,o)},BU=function(t){t.representations=function(){var r=t.masterPlaylistController_.master(),i=Cl(r)?t.masterPlaylistController_.getAudioTrackPlaylists_():r.playlists;return i?i.filter(function(n){return!Rm(n)}).map(function(n,a){return new NU(t,n,n.id)}):[]}},zy=["seeking","seeked","pause","playing","error"],UU=function(){function e(r){var i=this;this.masterPlaylistController_=r.masterPlaylistController,this.tech_=r.tech,this.seekable=r.seekable,this.allowSeeksWithinUnsafeLiveWindow=r.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=r.liveRangeSafeTimeDelta,this.media=r.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=ur("PlaybackWatcher"),this.logger_("initialize");var n=function(){return i.monitorCurrentTime_()},a=function(){return i.monitorCurrentTime_()},s=function(){return i.techWaiting_()},o=function(){return i.cancelTimer_()},l=this.masterPlaylistController_,u=["main","subtitle","audio"],c={};u.forEach(function(d){c[d]={reset:function(){return i.resetSegmentDownloads_(d)},updateend:function(){return i.checkSegmentDownloads_(d)}},l[d+"SegmentLoader_"].on("appendsdone",c[d].updateend),l[d+"SegmentLoader_"].on("playlistupdate",c[d].reset),i.tech_.on(["seeked","seeking"],c[d].reset)});var f=function(p){["main","audio"].forEach(function(y){l[y+"SegmentLoader_"][p]("appended",i.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),f("off"))},this.clearSeekingAppendCheck_=function(){return f("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),f("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(zy,o),this.tech_.on("canplay",a),this.tech_.one("play",n),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",s),i.tech_.off(zy,o),i.tech_.off("canplay",a),i.tech_.off("play",n),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),u.forEach(function(d){l[d+"SegmentLoader_"].off("appendsdone",c[d].updateend),l[d+"SegmentLoader_"].off("playlistupdate",c[d].reset),i.tech_.off(["seeked","seeking"],c[d].reset)}),i.checkCurrentTimeTimeout_&&U.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var t=e.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&U.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=U.setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(i){var n=this.masterPlaylistController_[i+"SegmentLoader_"];this[i+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=n.buffered_()},t.checkSegmentDownloads_=function(i){var n=this.masterPlaylistController_,a=n[i+"SegmentLoader_"],s=a.buffered_(),o=RB(this[i+"Buffered_"],s);if(this[i+"Buffered_"]=s,o){this.resetSegmentDownloads_(i);return}this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:a.playlist_&&a.playlist_.id,buffered:Gi(s)}),!(this[i+"StalledDownloads_"]<10)&&(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),i!=="subtitle"&&n.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0))},t.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var i=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===i&&(!n.length||i+vr>=n.end(n.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){var i=this.tech_.seeking();if(!i)return!1;var n=this.seekable(),a=this.tech_.currentTime(),s=this.afterSeekableWindow_(n,a,this.media(),this.allowSeeksWithinUnsafeLiveWindow),o;if(s){var l=n.end(n.length-1);o=l}if(this.beforeSeekableWindow_(n,a)){var u=n.start(0);o=u+(u===n.end(0)?0:vr)}if(typeof o!="undefined")return this.logger_("Trying to seek outside of seekable at time "+a+" with "+("seekable range "+nE(n)+". Seeking to ")+(o+".")),this.tech_.setCurrentTime(o),!0;for(var c=this.masterPlaylistController_.sourceUpdater_,f=this.tech_.buffered(),d=c.audioBuffer?c.audioBuffered():null,p=c.videoBuffer?c.videoBuffered():null,y=this.media(),b=y.partTargetDuration?y.partTargetDuration:(y.targetDuration-xi)*2,T=[d,p],S=0;S<T.length;S++)if(!!T[S]){var w=Lm(T[S],a);if(w<b)return!1}var D=yu(f,a);return D.length===0?!1:(o=D.start(0)+vr,this.logger_("Buffered region starts ("+D.start(0)+") "+(" just beyond seek point ("+a+"). Seeking to "+o+".")),this.tech_.setCurrentTime(o),!0)},t.waiting_=function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),n=this.tech_.buffered(),a=Ha(n,i);if(a.length&&i+3<=a.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region "+("["+a.start(0)+" -> "+a.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},t.techWaiting_=function(){var i=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(i,n)){var a=i.end(i.length-1);return this.logger_("Fell out of live window at time "+n+". Seeking to "+("live point (seekable end) "+a)),this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var s=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),l=this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:n});if(l)return this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var u=yu(o,n);if(u.length>0){var c=u.start(0)-n;return this.logger_("Stopped at "+n+", setting timer for "+c+", seeking "+("to "+u.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),c*1e3,n),!0}return!1},t.afterSeekableWindow_=function(i,n,a,s){if(s===void 0&&(s=!1),!i.length)return!1;var o=i.end(i.length-1)+vr,l=!a.endList;return l&&s&&(o=i.end(i.length-1)+a.targetDuration*3),n>o},t.beforeSeekableWindow_=function(i,n){return!!(i.length&&i.start(0)>0&&n<i.start(0)-this.liveRangeSafeTimeDelta)},t.videoUnderflow_=function(i){var n=i.videoBuffered,a=i.audioBuffered,s=i.currentTime;if(!!n){var o;if(n.length&&a.length){var l=Ha(n,s-3),u=Ha(n,s),c=Ha(a,s);c.length&&!u.length&&l.length&&(o={start:l.end(0),end:c.end(0)})}else{var f=yu(n,s);f.length||(o=this.gapFromVideoUnderflow_(n,s))}return o?(this.logger_("Encountered a gap in video from "+o.start+" to "+o.end+". "+("Seeking to current time "+s)),!0):!1}},t.skipTheGap_=function(i){var n=this.tech_.buffered(),a=this.tech_.currentTime(),s=yu(n,a);this.cancelTimer_(),!(s.length===0||a!==i)&&(this.logger_("skipTheGap_:","currentTime:",a,"scheduled currentTime:",i,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+xi),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},t.gapFromVideoUnderflow_=function(i,n){for(var a=OB(i),s=0;s<a.length;s++){var o=a.start(s),l=a.end(s);if(n-o<4&&n-o>2)return{start:o,end:l}}return null},e}(),VU={errorInterval:30,getSource:function(t){var r=this.tech({IWillNotUseThisInPlugins:!0}),i=r.currentSource_||this.currentSource();return t(i)}},$U=function e(t,r){var i=0,n=0,a=G.mergeOptions(VU,r);t.ready(function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){n&&t.currentTime(n)},o=function(d){d!=null&&(n=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(d),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){if(Date.now()-i<a.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),t.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!a.getSource||typeof a.getSource!="function"){G.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),a.getSource.call(t,o)},u=function f(){t.off("loadedmetadata",s),t.off("error",l),t.off("dispose",f)},c=function(d){u(),e(t,d)};t.on("error",l),t.on("dispose",u),t.reloadSourceOnError=c},jU=function(t){$U(this,t)},VE="2.14.2",HU="6.0.1",WU="0.21.1",zU="4.7.1",qU="3.1.3",en={PlaylistLoader:Wa,Playlist:En,utils:i2,STANDARD_PLAYLIST_SELECTOR:My,INITIAL_PLAYLIST_SELECTOR:z2,lastBandwidthSelector:My,movingAverageBandwidthSelector:H2,comparePlaylistBandwidth:Bm,comparePlaylistResolution:j2,xhr:gE()};Object.keys(Vt).forEach(function(e){Object.defineProperty(en,e,{get:function(){return G.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),Vt[e]},set:function(r){if(G.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),typeof r!="number"||r<0){G.log.warn("value of Vhs."+e+" must be greater than or equal to 0");return}Vt[e]=r}})});var $E="videojs-vhs",jE=function(t,r){for(var i=r.media(),n=-1,a=0;a<t.length;a++)if(t[a].id===i.id){n=a;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})},GU=function(t,r){r.representations().forEach(function(i){t.addQualityLevel(i)}),jE(t,r.playlists)};en.canPlaySource=function(){return G.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var KU=function(t,r,i){if(!t)return t;var n={};r&&r.attributes&&r.attributes.CODECS&&(n=Tc(fr(r.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(n.audio=i.attributes.CODECS);var a=qo(n.video),s=qo(n.audio),o={};for(var l in t)o[l]={},s&&(o[l].audioContentType=s),a&&(o[l].videoContentType=a),r.contentProtection&&r.contentProtection[l]&&r.contentProtection[l].pssh&&(o[l].pssh=r.contentProtection[l].pssh),typeof t[l]=="string"&&(o[l].url=t[l]);return G.mergeOptions(t,o)},XU=function(t,r){return t.reduce(function(i,n){if(!n.contentProtection)return i;var a=r.reduce(function(s,o){var l=n.contentProtection[o];return l&&l.pssh&&(s[o]={pssh:l.pssh}),s},{});return Object.keys(a).length&&i.push(a),i},[])},YU=function(t){var r=t.player,i=t.sourceKeySystems,n=t.audioMedia,a=t.mainPlaylists;if(!r.eme.initializeMediaKeys)return Promise.resolve();var s=n?a.concat([n]):a,o=XU(s,Object.keys(i)),l=[],u=[];return o.forEach(function(c){u.push(new Promise(function(f,d){r.tech_.one("keysessioncreated",f)})),l.push(new Promise(function(f,d){r.eme.initializeMediaKeys({keySystems:c},function(p){if(p){d(p);return}f()})}))}),Promise.race([Promise.all(l),Promise.race(u)])},QU=function(t){var r=t.player,i=t.sourceKeySystems,n=t.media,a=t.audioMedia,s=KU(i,n,a);return s?(r.currentSource().keySystems=s,s&&!r.eme?(G.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},HE=function(){if(!U.localStorage)return null;var t=U.localStorage.getItem($E);if(!t)return null;try{return JSON.parse(t)}catch{return null}},JU=function(t){if(!U.localStorage)return!1;var r=HE();r=r?G.mergeOptions(r,t):t;try{U.localStorage.setItem($E,JSON.stringify(r))}catch{return!1}return r},ZU=function(t){return t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t};en.supportsNativeHls=function(){if(!ge||!ge.createElement)return!1;var e=ge.createElement("video");if(!G.getTech("Html5").isSupported())return!1;var t=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return t.some(function(r){return/maybe|probably/i.test(e.canPlayType(r))})}();en.supportsNativeDash=function(){return!ge||!ge.createElement||!G.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(ge.createElement("video").canPlayType("application/dash+xml"))}();en.supportsTypeNatively=function(e){return e==="hls"?en.supportsNativeHls:e==="dash"?en.supportsNativeDash:!1};en.isSupported=function(){return G.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var eV=G.getComponent("Component"),Vm=function(e){Se(t,e);function t(i,n,a){var s;if(s=e.call(this,n,G.mergeOptions(a.hls,a.vhs))||this,a.hls&&Object.keys(a.hls).length&&G.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof a.initialBandwidth=="number"&&(s.options_.bandwidth=a.initialBandwidth),s.logger_=ur("VhsHandler"),n.options_&&n.options_.playerId){var o=G(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return G.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),je(s)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return G.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),je(s)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return G.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),je(s)},configurable:!0}),s.player_=o}if(s.tech_=n,s.source_=i,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on(ge,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(l){var u=ge.fullscreenElement||ge.webkitFullscreenElement||ge.mozFullScreenElement||ge.msFullscreenElement;u&&u.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}var r=t.prototype;return r.setOptions_=function(){var n=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage!="undefined"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var a=HE();a&&a.bandwidth&&(this.options_.bandwidth=a.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),a&&a.throughput&&(this.options_.throughput=a.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Vt.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Vt.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(s){typeof n.source_[s]!="undefined"&&(n.options_[s]=n.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},r.src=function(n,a){var s=this;if(!!n){this.setOptions_(),this.options_.src=ZU(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=en,this.options_.sourceType=aS(a),this.options_.seekTo=function(u){s.tech_.setCurrentTime(u)},this.options_.smoothQualityChange&&G.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new MU(this.options_);var o=G.mergeOptions({liveRangeSafeTimeDelta:vr},this.options_,{seekable:function(){return s.seekable()},media:function(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new UU(o),this.masterPlaylistController_.on("error",function(){var u=G.players[s.tech_.options_.playerId],c=s.masterPlaylistController_.error;typeof c=="object"&&!c.code?c.code=3:typeof c=="string"&&(c={message:c,code:3}),u.error(c)});var l=this.options_.experimentalBufferBasedABR?en.movingAverageBandwidthSelector(.55):en.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):l.bind(this),this.masterPlaylistController_.selectInitialPlaylist=en.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(c){this.masterPlaylistController_.selectPlaylist=c.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=c,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var c=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,f=U.navigator.connection||U.navigator.mozConnection||U.navigator.webkitConnection,d=1e7;if(this.options_.useNetworkInformationApi&&f){var p=f.downlink*1e3*1e3;p>=d&&c>=d?c=Math.max(c,p):c=p}return c},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=c,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var c=1/(this.bandwidth||1),f;this.throughput>0?f=1/this.throughput:f=0;var d=Math.floor(1/(c+f));return d},set:function(){G.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Gi(s.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return s.tech_.name_},enumerable:!0},duration:{get:function(){return s.tech_.duration()},enumerable:!0},master:{get:function(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Gi(s.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){s.options_.useBandwidthFromLocalStorage&&JU({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){BU(s)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){s.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=U.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},r.createKeySessions_=function(){var n=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),YU({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:a&&a.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){n.logger_("created EME key session"),n.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(s){n.logger_("error while creating EME key session",s),n.player_.error({message:"Failed to initialize media keys for EME",code:3})})},r.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},r.setupEme_=function(){var n=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,s=QU({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:a&&a.media()});if(this.player_.tech_.on("keystatuschange",function(o){o.status==="output-restricted"&&n.masterPlaylistController_.blacklistCurrentPlaylist({playlist:n.masterPlaylistController_.media(),message:"DRM keystatus changed to "+o.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),G.browser.IE_VERSION===11||!s){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},r.setupQualityLevels_=function(){var n=this,a=G.players[this.tech_.options_.playerId];!a||!a.qualityLevels||this.qualityLevels_||(this.qualityLevels_=a.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){GU(n.qualityLevels_,n)}),this.playlists.on("mediachange",function(){jE(n.qualityLevels_,n.playlists)}))},t.version=function(){return{"@videojs/http-streaming":VE,"mux.js":HU,"mpd-parser":WU,"m3u8-parser":zU,"aes-decrypter":qU}},r.version=function(){return this.constructor.version()},r.canChangeType=function(){return UE.canChangeType()},r.play=function(){this.masterPlaylistController_.play()},r.setCurrentTime=function(n){this.masterPlaylistController_.setCurrentTime(n)},r.duration=function(){return this.masterPlaylistController_.duration()},r.seekable=function(){return this.masterPlaylistController_.seekable()},r.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&U.URL.revokeObjectURL&&(U.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),e.prototype.dispose.call(this)},r.convertToProgramTime=function(n,a){return d2({playlist:this.masterPlaylistController_.media(),time:n,callback:a})},r.seekToProgramTime=function(n,a,s,o){return s===void 0&&(s=!0),o===void 0&&(o=2),f2({programTime:n,playlist:this.masterPlaylistController_.media(),retryCount:o,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:a})},t}(eV),vd={name:"videojs-http-streaming",VERSION:VE,canHandleSource:function(t,r){r===void 0&&(r={});var i=G.mergeOptions(G.options,r);return vd.canPlayType(t.type,i)},handleSource:function(t,r,i){i===void 0&&(i={});var n=G.mergeOptions(G.options,i);return r.vhs=new Vm(t,r,n),G.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return G.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),r.vhs},configurable:!0}),r.vhs.xhr=gE(),r.vhs.src(t.src,t.type),r.vhs},canPlayType:function(t,r){r===void 0&&(r={});var i=G.mergeOptions(G.options,r),n=i.vhs;n=n===void 0?{}:n;var a=n.overrideNative,s=a===void 0?!G.browser.IS_ANY_SAFARI:a,o=i.hls;o=o===void 0?{}:o;var l=o.overrideNative,u=l===void 0?!1:l,c=aS(t),f=c&&(!en.supportsTypeNatively(c)||u||s);return f?"maybe":""}},tV=function(){return Ou("avc1.4d400d,mp4a.40.2")};tV()&&G.getTech("Html5").registerSourceHandler(vd,0);G.VhsHandler=Vm;Object.defineProperty(G,"HlsHandler",{get:function(){return G.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Vm},configurable:!0});G.VhsSourceHandler=vd;Object.defineProperty(G,"HlsSourceHandler",{get:function(){return G.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),vd},configurable:!0});G.Vhs=en;Object.defineProperty(G,"Hls",{get:function(){return G.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),en},configurable:!0});G.use||(G.registerComponent("Hls",en),G.registerComponent("Vhs",en));G.options.vhs=G.options.vhs||{};G.options.hls=G.options.hls||{};if(!G.getPlugin||!G.getPlugin("reloadSourceOnError")){var nV=G.registerPlugin||G.plugin;nV("reloadSourceOnError",jU)}const rV=Gt({name:"VideoJS",props:{options:null,src:null,fps:null,maxHeightOffset:null},emits:["playerReady"],setup(e,{expose:t,emit:r}){const i=e;X_(T=>({"2a5de203":e.maxHeightOffset}));const n=Z(null),a=Z(null),s=Z(0),o=Z(su(0));let l=0;const u=(T,S="video/mp4")=>{!a.value||(a.value.paused()||a.value.pause(),a.value.src({src:T,type:S}),a.value.load(),a.value.currentTime(0))},c=()=>{i.src&&(typeof i.src=="string"?u(i.src):u(i.src.src,i.src.type))};Le(()=>i.src,c),Nn(()=>{var T;a.value=G(n.value,H({fluid:!0,muted:!0},i.options),()=>{c(),r("playerReady",a.value)}),(T=n.value)==null||T.requestVideoFrameCallback(f)});const f=(T,S)=>{var w;S.presentedFrames==1&&(console.debug("first frame",T,S),S.mediaTime>0?(console.debug("accounting for video start drift of",S.mediaTime),l=S.mediaTime):l=0),s.value=Math.round((S.mediaTime-l)*i.fps),o.value=su(S.mediaTime-l),(w=n.value)==null||w.requestVideoFrameCallback(f)},d=T=>{a.value&&!a.value.paused()&&a.value.pause(),b(s.value+T)},p=(T=1)=>{d(T)},y=(T=1)=>{d(-T)},b=T=>{var w;const S=T/i.fps+l;console.debug(`seeking to: ${T} (${su(S)})`,S),l&&console.debug(`actual    : ${T} (${su(S-l)})`,S-l),(w=a.value)==null||w.currentTime(S+1e-5)};return t({frame:s,timecode:o,videojs:a,videoEl:n,setSource:u,seek:d,seekTo:b,seekForward:p,seekBackward:y}),(T,S)=>(Ne(),Zt("video",{ref_key:"videoEl",ref:n,class:"video-js vjs-big-play-centered",preload:"metadata",controls:""},[Uu(T.$slots,"default")],512))}}),iV={class:"d-flex pa-2"},aV={class:"d-flex align-center justify-center my-2",style:{gap:"4px"}},sV=st(" Extract "),oV={class:"d-flex fill-height align-center justify-center"},lV={name:"ExtractView"},uV=Gt(et(H({},lV),{setup(e){const t=kr(),r=zc(),i=Z(null),n=j(()=>"/videos/"+t.video),a=j(()=>n.value+"/frames"),s=j(()=>{var y;return((y=i.value)==null?void 0:y.timecode)||0}),o=j({get:()=>{var y;return((y=i.value)==null?void 0:y.frame)||0},set:y=>{var b;(b=i.value)==null||b.seekTo(Number(y))}}),l=()=>{var y,b,T,S;(b=(y=i.value)==null?void 0:y.videojs)!=null&&b.paused()?i.value.videojs.play():(S=(T=i.value)==null?void 0:T.videojs)==null||S.pause()},{data:u}=bi(n,{refetch:!0}).get().json(),c=j(()=>u.value?u.value.fps:-1),f=Z(void 0);Le(()=>r.items,()=>{r.items.length==0&&(f.value=0)});const d=async()=>{var T,S;(S=(T=i.value)==null?void 0:T.videojs)==null||S.pause();const{data:y,statusCode:b}=await r.extract(o.value);b.value==200&&(await r.update(),f.value=r.items.indexOf(y.value[0]))},p=y=>{var T;const b=/\d+/.exec(y);(T=i.value)==null||T.seekTo(Number(b))};return(y,b)=>(Ne(),at(ls,{fluid:"",class:"pa-0 fill-height"},{default:pe(()=>[dt("div",iV,[k(us,{label:"Frame",variant:"outlined",density:"compact",modelValue:ne(o),"onUpdate:modelValue":b[0]||(b[0]=T=>Ze(o)?o.value=T:null),"hide-details":"","persistent-placeholder":""},null,8,["modelValue"]),k(us,{class:"pl-2",label:"Timecode",variant:"outlined",density:"compact",modelValue:ne(s),"onUpdate:modelValue":b[1]||(b[1]=T=>Ze(s)?s.value=T:null),readonly:"","hide-details":"","persistent-placeholder":""},null,8,["modelValue"])]),k(rV,{ref_key:"player",ref:i,fps:ne(c),src:ne(jo)(ne(n),"stream"),"max-height-offset":"184px",onKeydown:[Rd(l,["space"]),b[2]||(b[2]=Rd(T=>{var S;return(S=i.value)==null?void 0:S.seekBackward()},["left"])),b[3]||(b[3]=Rd(T=>{var S;return(S=i.value)==null?void 0:S.seekForward()},["right"]))]},null,8,["fps","src","onKeydown"]),dt("div",aV,[k(bt,{size:"small",color:"primary-darken-2",icon:"mdi-chevron-double-left",onClick:b[4]||(b[4]=T=>{var S;return(S=i.value)==null?void 0:S.seekBackward(10)})}),k(bt,{size:"small",color:"primary-darken-1",icon:"mdi-chevron-left",onClick:b[5]||(b[5]=T=>{var S;return(S=i.value)==null?void 0:S.seekBackward()})}),k(bt,{height:"40",color:"primary",onClick:d,rounded:""},{default:pe(()=>[sV]),_:1}),k(bt,{size:"small",color:"primary-darken-1",icon:"mdi-chevron-right",onClick:b[6]||(b[6]=T=>{var S;return(S=i.value)==null?void 0:S.seekForward()})}),k(bt,{size:"small",color:"primary-darken-2",icon:"mdi-chevron-double-right",onClick:b[7]||(b[7]=T=>{var S;return(S=i.value)==null?void 0:S.seekForward(10)})})]),ne(t).video?(Ne(),at(ne(WT),{key:0,modelValue:f.value,"onUpdate:modelValue":b[8]||(b[8]=T=>f.value=T),class:"my-3 mt-4 elevation-1","center-active":"","show-arrows":""},{default:pe(()=>[(Ne(!0),Zt(nt,null,Qa(ne(r).items,T=>(Ne(),at(ne(jD),{key:T},{default:pe(({toggle:S})=>[k(va,{class:"ma-4",width:"100",onClick:S},{default:pe(()=>[dt("div",oV,[k(ra,{src:ne(jo)(ne(a),T),onClick:w=>p(T)},{placeholder:pe(()=>[k(So,{class:"fill-height ma-0",align:"center",justify:"center"},{default:pe(()=>[k(ws,{indeterminate:"",color:"grey lighten-5"})]),_:1})]),_:2},1032,["src","onClick"])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1},8,["modelValue"])):yr("",!0)]),_:1}))}}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ut=function(){return Ut=Object.assign||function(t){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ut.apply(this,arguments)};typeof window!="undefined"&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),typeof window.CustomEvent!="function"&&(window.CustomEvent=function(t,r){r=r||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,r.bubbles,r.cancelable,r.detail),i}));function WE(e,t){for(var r=e.length;r--;)if(e[r].pointerId===t.pointerId)return r;return-1}function Nh(e,t){var r;if(t.touches){r=0;for(var i=0,n=t.touches;i<n.length;i++){var a=n[i];a.pointerId=r++,Nh(e,a)}return}r=WE(e,t),r>-1&&e.splice(r,1),e.push(t)}function cV(e,t){if(t.touches){for(;e.length;)e.pop();return}var r=WE(e,t);r>-1&&e.splice(r,1)}function qy(e){e=e.slice(0);for(var t=e.pop(),r;r=e.pop();)t={clientX:(r.clientX-t.clientX)/2+t.clientX,clientY:(r.clientY-t.clientY)/2+t.clientY};return t}function yf(e){if(e.length<2)return 0;var t=e[0],r=e[1];return Math.sqrt(Math.pow(Math.abs(r.clientX-t.clientX),2)+Math.pow(Math.abs(r.clientY-t.clientY),2))}var tl={down:"mousedown",move:"mousemove",up:"mouseup mouseleave"};typeof window!="undefined"&&(typeof window.PointerEvent=="function"?tl={down:"pointerdown",move:"pointermove",up:"pointerup pointerleave pointercancel"}:typeof window.TouchEvent=="function"&&(tl={down:"touchstart",move:"touchmove",up:"touchend touchcancel"}));function _f(e,t,r,i){tl[e].split(" ").forEach(function(n){t.addEventListener(n,r,i)})}function bf(e,t,r){tl[e].split(" ").forEach(function(i){t.removeEventListener(i,r)})}var dV=typeof document!="undefined"&&!!document.documentMode,Tf;function fV(){return Tf||(Tf=document.createElement("div").style)}var Gy=["webkit","moz","ms"],Tu={};function $m(e){if(Tu[e])return Tu[e];var t=fV();if(e in t)return Tu[e]=e;for(var r=e[0].toUpperCase()+e.slice(1),i=Gy.length;i--;){var n=""+Gy[i]+r;if(n in t)return Tu[e]=n}}function Su(e,t){return parseFloat(t[$m(e)])||0}function xu(e,t,r){r===void 0&&(r=window.getComputedStyle(e));var i=t==="border"?"Width":"";return{left:Su(t+"Left"+i,r),right:Su(t+"Right"+i,r),top:Su(t+"Top"+i,r),bottom:Su(t+"Bottom"+i,r)}}function za(e,t,r){e.style[$m(t)]=r}function hV(e,t){var r=$m("transform");za(e,"transition",r+" "+t.duration+"ms "+t.easing)}function pV(e,t,r){var i=t.x,n=t.y,a=t.scale,s=t.isSVG;if(za(e,"transform","scale("+a+") translate("+i+"px, "+n+"px)"),s&&dV){var o=window.getComputedStyle(e).getPropertyValue("transform");e.setAttribute("transform",o)}}function Sf(e){var t=e.parentNode,r=window.getComputedStyle(e),i=window.getComputedStyle(t),n=e.getBoundingClientRect(),a=t.getBoundingClientRect();return{elem:{style:r,width:n.width,height:n.height,top:n.top,bottom:n.bottom,left:n.left,right:n.right,margin:xu(e,"margin",r),border:xu(e,"border",r)},parent:{style:i,width:a.width,height:a.height,top:a.top,bottom:a.bottom,left:a.left,right:a.right,padding:xu(t,"padding",i),border:xu(t,"border",i)}}}function mV(e){var t=e.ownerDocument,r=e.parentNode;return t&&r&&t.nodeType===9&&r.nodeType===1&&t.documentElement.contains(r)}function vV(e){return(e.getAttribute("class")||"").trim()}function gV(e,t){return e.nodeType===1&&(" "+vV(e)+" ").indexOf(" "+t+" ")>-1}function yV(e,t){for(var r=e;r!=null;r=r.parentNode)if(gV(r,t.excludeClass)||t.exclude.indexOf(r)>-1)return!0;return!1}var _V=/^http:[\w\.\/]+svg$/;function bV(e){return _V.test(e.namespaceURI)&&e.nodeName.toLowerCase()!=="svg"}function TV(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}var zE={animate:!1,canvas:!1,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,duration:200,easing:"ease-in-out",exclude:[],excludeClass:"panzoom-exclude",handleStartEvent:function(e){e.preventDefault(),e.stopPropagation()},maxScale:4,minScale:.125,overflow:"hidden",panOnlyWhenZoomed:!1,relative:!1,setTransform:pV,startX:0,startY:0,startScale:1,step:.3,touchAction:"none"};function qE(e,t){if(!e)throw new Error("Panzoom requires an element as an argument");if(e.nodeType!==1)throw new Error("Panzoom requires an element with a nodeType of 1");if(!mV(e))throw new Error("Panzoom should be called on elements that have been attached to the DOM");t=Ut(Ut({},zE),t);var r=bV(e),i=e.parentNode;i.style.overflow=t.overflow,i.style.userSelect="none",i.style.touchAction=t.touchAction,(t.canvas?i:e).style.cursor=t.cursor,e.style.userSelect="none",e.style.touchAction=t.touchAction,za(e,"transformOrigin",typeof t.origin=="string"?t.origin:r?"0 0":"50% 50%");function n(){i.style.overflow="",i.style.userSelect="",i.style.touchAction="",i.style.cursor="",e.style.cursor="",e.style.userSelect="",e.style.touchAction="",za(e,"transformOrigin","")}function a(ee){ee===void 0&&(ee={});for(var se in ee)ee.hasOwnProperty(se)&&(t[se]=ee[se]);(ee.hasOwnProperty("cursor")||ee.hasOwnProperty("canvas"))&&(i.style.cursor=e.style.cursor="",(t.canvas?i:e).style.cursor=t.cursor),ee.hasOwnProperty("overflow")&&(i.style.overflow=ee.overflow),ee.hasOwnProperty("touchAction")&&(i.style.touchAction=ee.touchAction,e.style.touchAction=ee.touchAction)}var s=0,o=0,l=1,u=!1;b(t.startScale,{animate:!1,force:!0}),setTimeout(function(){y(t.startX,t.startY,{animate:!1,force:!0})});function c(ee,se,te){if(!te.silent){var Ce=new CustomEvent(ee,{detail:se});e.dispatchEvent(Ce)}}function f(ee,se,te){var Ce={x:s,y:o,scale:l,isSVG:r,originalEvent:te};return requestAnimationFrame(function(){typeof se.animate=="boolean"&&(se.animate?hV(e,se):za(e,"transition","none")),se.setTransform(e,Ce,se),c(ee,Ce,se),c("panzoomchange",Ce,se)}),Ce}function d(ee,se,te,Ce){var ie=Ut(Ut({},t),Ce),De={x:s,y:o,opts:ie};if(!ie.force&&(ie.disablePan||ie.panOnlyWhenZoomed&&l===ie.startScale))return De;if(ee=parseFloat(ee),se=parseFloat(se),ie.disableXAxis||(De.x=(ie.relative?s:0)+ee),ie.disableYAxis||(De.y=(ie.relative?o:0)+se),ie.contain){var K=Sf(e),ve=K.elem.width/l,ue=K.elem.height/l,ke=ve*te,Ke=ue*te,Je=(ke-ve)/2,Ue=(Ke-ue)/2;if(ie.contain==="inside"){var Ve=(-K.elem.margin.left-K.parent.padding.left+Je)/te,B=(K.parent.width-ke-K.parent.padding.left-K.elem.margin.left-K.parent.border.left-K.parent.border.right+Je)/te;De.x=Math.max(Math.min(De.x,B),Ve);var z=(-K.elem.margin.top-K.parent.padding.top+Ue)/te,Q=(K.parent.height-Ke-K.parent.padding.top-K.elem.margin.top-K.parent.border.top-K.parent.border.bottom+Ue)/te;De.y=Math.max(Math.min(De.y,Q),z)}else if(ie.contain==="outside"){var Ve=(-(ke-K.parent.width)-K.parent.padding.left-K.parent.border.left-K.parent.border.right+Je)/te,B=(Je-K.parent.padding.left)/te;De.x=Math.max(Math.min(De.x,B),Ve);var z=(-(Ke-K.parent.height)-K.parent.padding.top-K.parent.border.top-K.parent.border.bottom+Ue)/te,Q=(Ue-K.parent.padding.top)/te;De.y=Math.max(Math.min(De.y,Q),z)}}return ie.roundPixels&&(De.x=Math.round(De.x),De.y=Math.round(De.y)),De}function p(ee,se){var te=Ut(Ut({},t),se),Ce={scale:l,opts:te};if(!te.force&&te.disableZoom)return Ce;var ie=t.minScale,De=t.maxScale;if(te.contain){var K=Sf(e),ve=K.elem.width/l,ue=K.elem.height/l;if(ve>1&&ue>1){var ke=K.parent.width-K.parent.border.left-K.parent.border.right,Ke=K.parent.height-K.parent.border.top-K.parent.border.bottom,Je=ke/ve,Ue=Ke/ue;t.contain==="inside"?De=Math.min(De,Je,Ue):t.contain==="outside"&&(ie=Math.max(ie,Je,Ue))}}return Ce.scale=Math.min(Math.max(ee,ie),De),Ce}function y(ee,se,te,Ce){var ie=d(ee,se,l,te);return s!==ie.x||o!==ie.y?(s=ie.x,o=ie.y,f("panzoompan",ie.opts,Ce)):{x:s,y:o,scale:l,isSVG:r,originalEvent:Ce}}function b(ee,se,te){var Ce=p(ee,se),ie=Ce.opts;if(!(!ie.force&&ie.disableZoom)){ee=Ce.scale;var De=s,K=o;if(ie.focal){var ve=ie.focal;De=(ve.x/ee-ve.x/l+s*ee)/ee,K=(ve.y/ee-ve.y/l+o*ee)/ee}var ue=d(De,K,ee,{relative:!1,force:!0});return s=ue.x,o=ue.y,l=ee,f("panzoomzoom",ie,te)}}function T(ee,se){var te=Ut(Ut(Ut({},t),{animate:!0}),se);return b(l*Math.exp((ee?1:-1)*te.step),te)}function S(ee){return T(!0,ee)}function w(ee){return T(!1,ee)}function D(ee,se,te,Ce){var ie=Sf(e),De={width:ie.parent.width-ie.parent.padding.left-ie.parent.padding.right-ie.parent.border.left-ie.parent.border.right,height:ie.parent.height-ie.parent.padding.top-ie.parent.padding.bottom-ie.parent.border.top-ie.parent.border.bottom},K=se.clientX-ie.parent.left-ie.parent.padding.left-ie.parent.border.left-ie.elem.margin.left,ve=se.clientY-ie.parent.top-ie.parent.padding.top-ie.parent.border.top-ie.elem.margin.top;r||(K-=ie.elem.width/l/2,ve-=ie.elem.height/l/2);var ue={x:K/De.width*(De.width*ee),y:ve/De.height*(De.height*ee)};return b(ee,Ut(Ut({animate:!1},te),{focal:ue}),Ce)}function P(ee,se){ee.preventDefault();var te=Ut(Ut(Ut({},t),se),{animate:!1}),Ce=ee.deltaY===0&&ee.deltaX?ee.deltaX:ee.deltaY,ie=Ce<0?1:-1,De=p(l*Math.exp(ie*te.step/3),te).scale;return D(De,ee,te)}function I(ee){var se=Ut(Ut(Ut({},t),{animate:!0,force:!0}),ee);l=p(se.startScale,se).scale;var te=d(se.startX,se.startY,l,se);return s=te.x,o=te.y,f("panzoomreset",se)}var L,A,R,M,N,W,X=[];function Y(ee){if(!yV(ee.target,t)){Nh(X,ee),u=!0,t.handleStartEvent(ee),L=s,A=o,c("panzoomstart",{x:s,y:o,scale:l,isSVG:r,originalEvent:ee},t);var se=qy(X);R=se.clientX,M=se.clientY,N=l,W=yf(X)}}function le(ee){if(!(!u||L===void 0||A===void 0||R===void 0||M===void 0)){Nh(X,ee);var se=qy(X);if(X.length>1){W===0&&(W=yf(X));var te=yf(X)-W,Ce=p(te*t.step/80+N).scale;D(Ce,se)}else y(L+(se.clientX-R)/l,A+(se.clientY-M)/l,{animate:!1},ee)}}function fe(ee){X.length===1&&c("panzoomend",{x:s,y:o,scale:l,isSVG:r,originalEvent:ee},t),cV(X,ee),u&&(u=!1,L=A=R=M=void 0)}var ce=!1;function ye(){ce||(ce=!0,_f("down",t.canvas?i:e,Y),_f("move",document,le,{passive:!0}),_f("up",document,fe,{passive:!0}))}function xe(){ce=!1,bf("down",t.canvas?i:e,Y),bf("move",document,le),bf("up",document,fe)}return t.noBind||ye(),{bind:ye,destroy:xe,eventNames:tl,getPan:function(){return{x:s,y:o}},getScale:function(){return l},getOptions:function(){return TV(t)},pan:y,reset:I,resetStyle:n,setOptions:a,setStyle:function(ee,se){return za(e,ee,se)},zoom:b,zoomIn:S,zoomOut:w,zoomToPoint:D,zoomWithWheel:P}}qE.defaultOptions=zE;const SV=Gt({name:"LabelEditor",props:{image:null},emits:["panzoomchange"],setup(e,{emit:t}){const r=kr(),i=Z(null),n=j(()=>"/videos/"+r.video+"/frames");let a;return Nn(()=>{a=qE(i.value.$el,{maxScale:32,contain:"outside"}),i.value.$el.addEventListener("panzoomchange",s=>t("panzoomchange",s.detail)),i.value.$el.parentElement.addEventListener("wheel",a.zoomWithWheel)}),(s,o)=>(Ne(),Zt("div",null,[k(ra,{ref_key:"imgEl",ref:i,src:ne(jo)(ne(n),e.image),"aspect-ratio":16/9,eager:!0},{placeholder:pe(()=>[k(So,{class:"fill-height ma-0",align:"center",justify:"center"},{default:pe(()=>[k(ws,{indeterminate:"",color:"grey lighten-5"})]),_:1})]),_:1},8,["src"])]))}});const xV=e=>(Zh("data-v-171e2d3c"),e=e(),ep(),e),EV={class:"d-flex flex-row align-center",style:{"flex-grow":"4"}},CV={style:{"flex-grow":"1"},class:"ml-1"},wV=xV(()=>dt("div",{id:"zoomBox"},null,-1)),kV=st("Select Frame"),PV={name:"LabelView"},AV=Gt(et(H({},PV),{setup(e){X_(y=>({"18110788":c.value,"18875080":d.value,"71291171":f.value}));const t=kr(),r=Z(!1),i=zc(),n=j(()=>"/videos/"+t.video+"/frames"),a=Z(null),s=j(()=>"/videos/"+t.video+"/labels"),{data:o}=bi(s,{refetch:!0}).get().json(),l=Z(0),u=y=>{if(i.items.length==0)l.value=0;else{const b=i.items.length;l.value=((l.value+y)%b+b)%b}};Le(()=>i.items,()=>{i.items.length==0&&(l.value=0)});const c=Z("0%"),f=Z("0%"),d=Z(8),p=y=>{const b=a.value.$el.getBoundingClientRect().width,T=a.value.$el.getBoundingClientRect().height;d.value=y.scale,c.value=(b/2-y.x)/b*100+"%",f.value=(T/2-y.y)/T*100+"%"};return(y,b)=>(Ne(),Zt(nt,null,[k(ls,{fluid:"",class:"d-flex pa-1"},{default:pe(()=>[dt("div",EV,[k(bt,{class:"h-100 rounded-0",icon:"mdi-chevron-left",variant:"plain",size:"small",onClick:b[0]||(b[0]=T=>u(-1))}),k(SV,{class:"flex-grow-1",image:ne(i).items[l.value],ref_key:"labelEditorEl",ref:a,onPanzoomchange:p},null,8,["image"]),k(bt,{class:"h-100 rounded-0",icon:"mdi-chevron-right",variant:"plain",size:"small",onClick:b[1]||(b[1]=T=>u(1))})]),dt("div",CV,[ne(t).video?(Ne(),at(ra,{key:0,src:ne(jo)(ne(n),ne(i).items[l.value]),"aspect-ratio":16/9,eager:!0},{default:pe(()=>[wV]),_:1},8,["src"])):yr("",!0),ne(o)?(Ne(),at(Yc,{key:1},{default:pe(()=>[(Ne(!0),Zt(nt,null,Qa(ne(o)[ne(i).items[l.value]],(T,S)=>(Ne(),at(LT,{key:S},{activator:pe(({props:w})=>[k(Wr,gt(w,{title:S,value:S}),null,16,["title","value"])]),default:pe(()=>[(Ne(!0),Zt(nt,null,Qa(ne(o)[ne(i).items[l.value]][S],(w,D)=>(Ne(),at(Wr,{key:D,value:D,title:D,subtitle:`x: ${ne(o)[ne(i).items[l.value]][S][D].x},  y: ${ne(o)[ne(i).items[l.value]][S][D].y}`,"prepend-icon":"mdi-circle"},null,8,["value","title","subtitle"]))),128))]),_:2},1024))),128))]),_:1})):yr("",!0)])]),_:1}),k(ls,{fluid:"",class:"d-flex align-center justify-center my-2"},{default:pe(()=>[k(So,{justify:"center"},{default:pe(()=>[k(Xc,{modelValue:r.value,"onUpdate:modelValue":b[3]||(b[3]=T=>r.value=T)},{activator:pe(({props:T})=>[k(bt,gt({color:"primary",rounded:""},T),{default:pe(()=>[st(" Frame: "+Dt(l.value+1)+" of "+Dt(ne(i).items.length),1)]),_:2},1040)]),default:pe(()=>[k(aa,{color:"primary",class:"rounded-t"},{default:pe(()=>[k(fl,null,{default:pe(()=>[kV]),_:1}),k(ga),k(bt,{icon:"mdi-close",onClick:b[2]||(b[2]=T=>r.value=!1)})]),_:1}),k(va,{style:{height:"calc(100vh - 104px)"},class:"rounded-t-0"},{default:pe(()=>[k(Bo,null,{default:pe(()=>[k(So,{class:"text-center",justify:"center"},{default:pe(()=>[(Ne(!0),Zt(nt,null,Qa(ne(i).items,(T,S)=>(Ne(),at(zO,{key:S,cols:"auto"},{default:pe(()=>[dt("div",null,[k(ra,{style:Cc(S===l.value&&{border:"5px solid yellowgreen"}),src:ne(jo)(ne(n),T),"aspect-ratio":16/9,width:250,onClick:w=>{l.value=S,r.value=!1}},{placeholder:pe(()=>[k(So,{class:"fill-height ma-0",align:"center",justify:"center"},{default:pe(()=>[k(ws,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:2},1032,["style","src","onClick"])]),st(" "+Dt(T),1)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64))}}));var IV=Cs(AV,[["__scopeId","data-v-171e2d3c"]]);const OV={class:"ma-2 d-flex flex-column",style:{"flex-grow":"5"}},LV={class:"text-center"},DV={key:0,class:"d-flex justify-center align-center flex-grow-1"},RV={class:"d-flex flex-column",style:{"flex-grow":"1"}},MV=st(" Close Project "),FV={name:"ProjectView"},NV=Gt(et(H({},FV),{setup(e){const t=kr(),{isFetching:r,error:i,data:n}=bi("/projects").get().json(),{isFetching:a,execute:s,data:o}=bi("/videos",{immediate:!1}).get().json();return Tr(()=>{t.project&&s()}),(l,u)=>ne(t).project?(Ne(),at(ls,{key:1,class:"d-flex flex-row pa-0",style:{"max-width":"1280px",height:"calc(100vh - 72px)"},fluid:""},{default:pe(()=>[dt("div",OV,[dt("h2",LV,Dt(ne(t).project),1),ne(a)?(Ne(),Zt("div",DV,[k(ws,{indeterminate:"",color:"primary"})])):(Ne(),at(jT,{key:1,class:"pa-0 mt-2",items:ne(o),onSelected:ne(t).setVideo},null,8,["items","onSelected"]))]),k(xo,{vertical:""}),dt("div",RV,[k(bt,{class:"ma-2",color:"red",variant:"text",onClick:ne(t).resetProject},{default:pe(()=>[MV]),_:1},8,["onClick"]),k(xo)]),k(xo,{vertical:""})]),_:1})):(Ne(),at(ls,{key:0,class:"d-flex flex-column",style:{"max-width":"640px"}},{default:pe(()=>[k(uR,{modelValue:ne(t).project,"onUpdate:modelValue":u[0]||(u[0]=c=>ne(t).project=c),label:"Project",color:"primary",class:"pb-3",items:ne(n),loading:ne(r),"hide-details":!ne(i),"error-messages":ne(i)||"",clearable:""},null,8,["modelValue","items","loading","hide-details","error-messages"])]),_:1}))}}));var BV=Cs(NV,[["__scopeId","data-v-a9a150a2"]]);const UV=uO({history:CI("/deeplabcut-webui/"),routes:[{path:"/",redirect:"project"},{path:"/project",name:"project",component:BV},{path:"/extract",name:"extract",component:uV},{path:"/label",name:"label",component:IV}]}),gd=tP(XD),GE=iP();GE.use(mP);gd.use(GE);gd.use(UV);gd.use(rR);gd.mount("#app");
