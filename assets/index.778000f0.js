var I=Object.defineProperty;var L=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var R=(r,e,a)=>e in r?I(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a,B=(r,e)=>{for(var a in e||(e={}))W.call(e,a)&&R(r,a,e[a]);if(L)for(var a of L(e))z.call(e,a)&&R(r,a,e[a]);return r};import{d as $,c as k,a as H,o as v,b,w as d,e as i,V as J,f as j,g as O,h as D,i as K,j as G,k as Q,u as y,l as w,m as M,n as X,p as h,r as _,q as Y,s as Z,t as ee,v as te,x as oe,y as F,z as ae,F as le,A as se,T as ne,K as re,B as ue,C as ie,D as de,E as T,G as ce,H as pe,I as me,J as fe,R as ve,L as _e,M as ye,N as he,O as N,P as C,Q as ge,S as Ve,U as be,W as ke,X as we}from"./vendor.69fdffca.js";const $e=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const t of l.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&s(t)}).observe(document,{childList:!0,subtree:!0});function a(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=a(o);fetch(o.href,l)}};$e();const Se=h("Settings"),Te=h("mdi-close"),xe=$({props:{modelValue:{type:Boolean},theme:null},emits:["update:modelValue","update:theme"],setup(r,{emit:e}){const a=r,s=k({get:()=>a.modelValue,set:l=>e("update:modelValue",l)}),o=k({get:()=>H(a.theme),set:l=>{e("update:theme",l.toLowerCase())}});return(l,t)=>(v(),b(X,{modelValue:y(s),"onUpdate:modelValue":t[2]||(t[2]=n=>w(s)?s.value=n:null),temporary:"",position:"right",width:300},{default:d(()=>[i(G,null,{default:d(()=>[i(J,null,{default:d(()=>[Se]),_:1}),i(j),i(O,{icon:"",onClick:t[0]||(t[0]=D(n=>s.value=!1,["stop"]))},{default:d(()=>[i(K,null,{default:d(()=>[Te]),_:1})]),_:1})]),_:1}),i(M,null,{default:d(()=>[i(Q,{items:["Auto","Light","Dark"],modelValue:y(o),"onUpdate:modelValue":t[1]||(t[1]=n=>w(o)?o.value=n:null),label:"Theme"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]))}});const Ce=h("mdi-movie"),Fe=T("span",null,"Hello_World.mp4",-1),Ee=$({setup(r){const e=_(!1),a=Y("theme","auto"),s=Z(),o=k(()=>a.value=="auto"?s.value:a.value),l=ce(),t=_(window.location.pathname.substring(1)||"extract"),n=["extract","label","analyse"];return ee(l,()=>{l.name=="home"?t.value="extract":t.value=l.name}),(u,m)=>{const g=pe("router-view");return v(),b(de,{theme:y(o)},{default:d(()=>[i(xe,{modelValue:e.value,"onUpdate:modelValue":m[0]||(m[0]=p=>e.value=p),theme:y(a),"onUpdate:theme":m[1]||(m[1]=p=>w(a)?a.value=p:null)},null,8,["modelValue","theme"]),i(te,{app:"",fixed:"",color:"primary-darken-1"},{default:d(()=>[i(K,{class:"pr-3"},{default:d(()=>[Ce]),_:1}),Fe,i(j)]),_:1}),i(se,{color:"primary",density:"compact",flat:"",app:""},{prepend:d(()=>[i(oe,{modelValue:t.value,"onUpdate:modelValue":m[2]||(m[2]=p=>t.value=p)},{default:d(()=>[(v(),F(le,null,ae(n,p=>i(me,{key:p,value:p,to:"/"+p},{default:d(()=>[h(fe(p),1)]),_:2},1032,["value","to"])),64))]),_:1},8,["modelValue"])]),append:d(()=>[i(O,{icon:"mdi-cog",onClick:m[3]||(m[3]=D(p=>e.value=!0,["stop"]))})]),_:1}),i(ie,null,{default:d(()=>[i(g,null,{default:d(({Component:p})=>[i(ne,null,{default:d(()=>[(v(),b(re,null,[(v(),b(ue(p)))],1024))]),_:2},1024)]),_:1})]),_:1})]),_:1},8,["theme"])}}}),Le={class:"about"},Re=h(" This is an about page, return to "),Be=h("extract"),Ne=h(". "),P=$({setup(r){return(e,a)=>(v(),F("div",Le,[T("h3",null,[Re,i(y(ve),{to:"/extract"},{default:d(()=>[Be]),_:1}),Ne])]))}});function S(r){const e=String(~~(r/3600)).padStart(2,"0"),a=String(~~(r%3600/60)).padStart(2,"0"),s=String(~~r%60).padStart(2,"0"),o=String(~~((r-~~r)*1e3)).padStart(3,"0");return`${e}:${a}:${s}.${o}`}const Pe=$({props:{options:null,fps:null},emits:["playerReady"],setup(r,{expose:e,emit:a}){const s=r;let o=_(null),l=_(null),t=_(0),n=_(S(0)),u=0;_e(()=>{var c;l.value=ye(o.value,B({fluid:!0,muted:!0},s.options),()=>a("playerReady",l.value)),(c=o.value)==null||c.requestVideoFrameCallback(m)});const m=(c,f)=>{var V;console.debug(c,f),f.presentedFrames==1&&f.mediaTime>0&&(console.log("accounting for video start drift of",f.mediaTime),u=f.mediaTime),t.value=Math.round((f.mediaTime-u)*s.fps),n.value=S(f.mediaTime-u),(V=o.value)==null||V.requestVideoFrameCallback(m)},g=c=>{l.value&&!l.value.paused()&&l.value.pause(),E(t.value+c)},p=(c=1)=>{g(c)},q=(c=1)=>{g(-c)},E=c=>{var V;const f=c/s.fps+u;console.log(`seeking to: ${c} (${S(f)})`,f),u&&console.log(`actual    : ${c} (${S(f-u)})`,f-u),(V=l.value)==null||V.currentTime(f+1e-5)};return e({frame:t,timecode:n,videojs:l,videoEl:o,seek:g,seekTo:E,seekForward:p,seekBackward:q}),(c,f)=>(v(),F("video",{ref_key:"videoEl",ref:o,class:"video-js vjs-big-play-centered",preload:"metadata",controls:""},[he(c.$slots,"default")],512))}}),Ae={class:"d-flex pa-2"},Ue=T("source",{src:"https://daiz.github.io/frame-accurate-ish/time.mp4",type:"video/mp4"},null,-1),A=$({setup(r){let e=_(null);const a=k(()=>{var t;return((t=e.value)==null?void 0:t.timecode)||0}),s=k({get:()=>{var t;return((t=e.value)==null?void 0:t.frame)||0},set:t=>{var n;(n=e.value)==null||n.seekTo(Number(t))}}),o=t=>{console.log("player-ready",t)},l=()=>{var t,n,u,m;(n=(t=e.value)==null?void 0:t.videojs)!=null&&n.paused()?e.value.videojs.play():(m=(u=e.value)==null?void 0:u.videojs)==null||m.pause()};return(t,n)=>(v(),b(M,{fluid:"",class:"pa-0 fill-height"},{default:d(()=>[T("div",Ae,[i(N,{label:"Frame",variant:"outlined",density:"compact",modelValue:y(s),"onUpdate:modelValue":n[0]||(n[0]=u=>w(s)?s.value=u:null),"hide-details":"","persistent-placeholder":""},null,8,["modelValue"]),i(N,{class:"pl-2",label:"Timecode",variant:"outlined",density:"compact",modelValue:y(a),"onUpdate:modelValue":n[1]||(n[1]=u=>w(a)?a.value=u:null),readonly:"","hide-details":"","persistent-placeholder":""},null,8,["modelValue"])]),i(Pe,{ref_key:"player",ref:e,fps:23.976,onPlayerReady:o,onKeydown:[C(l,["space"]),n[2]||(n[2]=C(()=>{var u;return(u=e.value)==null?void 0:u.seekBackward()},["left"])),n[3]||(n[3]=C(()=>{var u;return(u=e.value)==null?void 0:u.seekForward()},["right"]))]},{default:d(()=>[Ue]),_:1},8,["fps","onKeydown"])]),_:1}))}}),je=ge({history:Ve("/deeplabcut-webui/"),routes:[{path:"/",name:"home",component:A},{path:"/extract",name:"extract",component:A},{path:"/label",name:"label",component:P},{path:"/analyse",name:"analyse",component:P}]});const Oe="modulepreload",U={},De="/deeplabcut-webui/",Ke=function(e,a){return!a||a.length===0?e():Promise.all(a.map(s=>{if(s=`${De}${s}`,s in U)return;U[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${l}`))return;const t=document.createElement("link");if(t.rel=o?"stylesheet":Oe,o||(t.as="script",t.crossOrigin=""),t.href=s,document.head.appendChild(t),o)return new Promise((n,u)=>{t.addEventListener("load",n),t.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};async function Me(){(await Ke(()=>import("./webfontloader.ccf6ba4d.js").then(function(e){return e.w}),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}Me();var qe=be({theme:{variations:{colors:["primary","secondary"],lighten:1,darken:2},themes:{light:{colors:{primary:"#2196F3",secondary:"#E91E63"}},dark:{dark:!0,colors:{primary:"#212121",secondary:"#E91E63"}}}}});const x=ke(Ee);x.use(we());x.use(je);x.use(qe);x.mount("#app");
